var m2=Object.defineProperty;var fg=u=>{throw TypeError(u)};var g2=(u,e,t)=>e in u?m2(u,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[e]=t;var ce=(u,e,t)=>g2(u,typeof e!="symbol"?e+"":e,t),vp=(u,e,t)=>e.has(u)||fg("Cannot "+t);var E=(u,e,t)=>(vp(u,e,"read from private field"),t?t.call(u):e.get(u)),tt=(u,e,t)=>e.has(u)?fg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(u):e.set(u,t),J=(u,e,t,r)=>(vp(u,e,"write to private field"),r?r.call(u,t):e.set(u,t),t),Q=(u,e,t)=>(vp(u,e,"access private method"),t);var mn=(u,e,t,r)=>({set _(a){J(u,e,a,t)},get _(){return E(u,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(a){if(a.ep)return;a.ep=!0;const n=t(a);fetch(a.href,n)}})();/**
* @vue/shared v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function E0(u,e){const t=new Set(u.split(","));return r=>t.has(r)}const nr={},hl=[],jn=()=>{},b2=()=>!1,qf=u=>u.charCodeAt(0)===111&&u.charCodeAt(1)===110&&(u.charCodeAt(2)>122||u.charCodeAt(2)<97),C0=u=>u.startsWith("onUpdate:"),Dr=Object.assign,T0=(u,e)=>{const t=u.indexOf(e);t>-1&&u.splice(t,1)},y2=Object.prototype.hasOwnProperty,Pe=(u,e)=>y2.call(u,e),le=Array.isArray,ul=u=>Xf(u)==="[object Map]",I1=u=>Xf(u)==="[object Set]",be=u=>typeof u=="function",Ar=u=>typeof u=="string",xa=u=>typeof u=="symbol",lr=u=>u!==null&&typeof u=="object",N1=u=>(lr(u)||be(u))&&be(u.then)&&be(u.catch),L1=Object.prototype.toString,Xf=u=>L1.call(u),v2=u=>Xf(u).slice(8,-1),D1=u=>Xf(u)==="[object Object]",M0=u=>Ar(u)&&u!=="NaN"&&u[0]!=="-"&&""+parseInt(u,10)===u,Vc=E0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gf=u=>{const e=Object.create(null);return t=>e[t]||(e[t]=u(t))},w2=/-(\w)/g,uc=Gf(u=>u.replace(w2,(e,t)=>t?t.toUpperCase():"")),_2=/\B([A-Z])/g,bc=Gf(u=>u.replace(_2,"-$1").toLowerCase()),j1=Gf(u=>u.charAt(0).toUpperCase()+u.slice(1)),wp=Gf(u=>u?`on${j1(u)}`:""),pa=(u,e)=>!Object.is(u,e),kd=(u,...e)=>{for(let t=0;t<u.length;t++)u[t](...e)},F1=(u,e,t,r=!1)=>{Object.defineProperty(u,e,{configurable:!0,enumerable:!1,writable:r,value:t})},Hp=u=>{const e=parseFloat(u);return isNaN(e)?u:e};let pg;const B1=()=>pg||(pg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function R0(u){if(le(u)){const e={};for(let t=0;t<u.length;t++){const r=u[t],a=Ar(r)?k2(r):R0(r);if(a)for(const n in a)e[n]=a[n]}return e}else if(Ar(u)||lr(u))return u}const x2=/;(?![^(]*\))/g,S2=/:([^]+)/,A2=/\/\*[^]*?\*\//g;function k2(u){const e={};return u.replace(A2,"").split(x2).forEach(t=>{if(t){const r=t.split(S2);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function O0(u){let e="";if(Ar(u))e=u;else if(le(u))for(let t=0;t<u.length;t++){const r=O0(u[t]);r&&(e+=r+" ")}else if(lr(u))for(const t in u)u[t]&&(e+=t+" ");return e.trim()}const E2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",C2=E0(E2);function z1(u){return!!u||u===""}const H1=u=>!!(u&&u.__v_isRef===!0),Ds=u=>Ar(u)?u:u==null?"":le(u)||lr(u)&&(u.toString===L1||!be(u.toString))?H1(u)?Ds(u.value):JSON.stringify(u,U1,2):String(u),U1=(u,e)=>H1(e)?U1(u,e.value):ul(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[r,a],n)=>(t[_p(r,n)+" =>"]=a,t),{})}:I1(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>_p(t))}:xa(e)?_p(e):lr(e)&&!le(e)&&!D1(e)?String(e):e,_p=(u,e="")=>{var t;return xa(u)?`Symbol(${(t=u.description)!=null?t:e})`:u};/**
* @vue/reactivity v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $n;class T2{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=$n,!e&&$n&&(this.index=($n.scopes||($n.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=$n;try{return $n=this,e()}finally{$n=t}}}on(){$n=this}off(){$n=this.parent}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function M2(u,e=$n){e&&e.active&&e.effects.push(u)}function R2(){return $n}let No;class P0{constructor(e,t,r,a){this.fn=e,this.trigger=t,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,M2(this,a)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Sa();for(let e=0;e<this._depsLength;e++){const t=this.deps[e];if(t.computed&&(O2(t.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Aa()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=da,t=No;try{return da=!0,No=this,this._runnings++,mg(this),this.fn()}finally{gg(this),this._runnings--,No=t,da=e}}stop(){this.active&&(mg(this),gg(this),this.onStop&&this.onStop(),this.active=!1)}}function O2(u){return u.value}function mg(u){u._trackId++,u._depsLength=0}function gg(u){if(u.deps.length>u._depsLength){for(let e=u._depsLength;e<u.deps.length;e++)$1(u.deps[e],u);u.deps.length=u._depsLength}}function $1(u,e){const t=u.get(e);t!==void 0&&e._trackId!==t&&(u.delete(e),u.size===0&&u.cleanup())}let da=!0,Up=0;const V1=[];function Sa(){V1.push(da),da=!1}function Aa(){const u=V1.pop();da=u===void 0?!0:u}function I0(){Up++}function N0(){for(Up--;!Up&&$p.length;)$p.shift()()}function W1(u,e,t){if(e.get(u)!==u._trackId){e.set(u,u._trackId);const r=u.deps[u._depsLength];r!==e?(r&&$1(r,u),u.deps[u._depsLength++]=e):u._depsLength++}}const $p=[];function q1(u,e,t){I0();for(const r of u.keys()){let a;r._dirtyLevel<e&&(a??(a=u.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(a??(a=u.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&$p.push(r.scheduler)))}N0()}const X1=(u,e)=>{const t=new Map;return t.cleanup=u,t.computed=e,t},Vp=new WeakMap,Lo=Symbol(""),Wp=Symbol("");function dn(u,e,t){if(da&&No){let r=Vp.get(u);r||Vp.set(u,r=new Map);let a=r.get(t);a||r.set(t,a=X1(()=>r.delete(t))),W1(No,a)}}function xs(u,e,t,r,a,n){const i=Vp.get(u);if(!i)return;let o=[];if(e==="clear")o=[...i.values()];else if(t==="length"&&le(u)){const l=Number(r);i.forEach((s,c)=>{(c==="length"||!xa(c)&&c>=l)&&o.push(s)})}else switch(t!==void 0&&o.push(i.get(t)),e){case"add":le(u)?M0(t)&&o.push(i.get("length")):(o.push(i.get(Lo)),ul(u)&&o.push(i.get(Wp)));break;case"delete":le(u)||(o.push(i.get(Lo)),ul(u)&&o.push(i.get(Wp)));break;case"set":ul(u)&&o.push(i.get(Lo));break}I0();for(const l of o)l&&q1(l,4);N0()}const P2=E0("__proto__,__v_isRef,__isVue"),G1=new Set(Object.getOwnPropertyNames(Symbol).filter(u=>u!=="arguments"&&u!=="caller").map(u=>Symbol[u]).filter(xa)),bg=I2();function I2(){const u={};return["includes","indexOf","lastIndexOf"].forEach(e=>{u[e]=function(...t){const r=Ue(this);for(let n=0,i=this.length;n<i;n++)dn(r,"get",n+"");const a=r[e](...t);return a===-1||a===!1?r[e](...t.map(Ue)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{u[e]=function(...t){Sa(),I0();const r=Ue(this)[e].apply(this,t);return N0(),Aa(),r}}),u}function N2(u){xa(u)||(u=String(u));const e=Ue(this);return dn(e,"has",u),e.hasOwnProperty(u)}class K1{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){const a=this._isReadonly,n=this._isShallow;if(t==="__v_isReactive")return!a;if(t==="__v_isReadonly")return a;if(t==="__v_isShallow")return n;if(t==="__v_raw")return r===(a?n?X2:Q1:n?J1:Y1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const i=le(e);if(!a){if(i&&Pe(bg,t))return Reflect.get(bg,t,r);if(t==="hasOwnProperty")return N2}const o=Reflect.get(e,t,r);return(xa(t)?G1.has(t):P2(t))||(a||dn(e,"get",t),n)?o:fn(o)?i&&M0(t)?o:o.value:lr(o)?a?tb(o):j0(o):o}}class Z1 extends K1{constructor(e=!1){super(!1,e)}set(e,t,r,a){let n=e[t];if(!this._isShallow){const l=Jc(n);if(!af(r)&&!Jc(r)&&(n=Ue(n),r=Ue(r)),!le(e)&&fn(n)&&!fn(r))return l?!1:(n.value=r,!0)}const i=le(e)&&M0(t)?Number(t)<e.length:Pe(e,t),o=Reflect.set(e,t,r,a);return e===Ue(a)&&(i?pa(r,n)&&xs(e,"set",t,r):xs(e,"add",t,r)),o}deleteProperty(e,t){const r=Pe(e,t);e[t];const a=Reflect.deleteProperty(e,t);return a&&r&&xs(e,"delete",t,void 0),a}has(e,t){const r=Reflect.has(e,t);return(!xa(t)||!G1.has(t))&&dn(e,"has",t),r}ownKeys(e){return dn(e,"iterate",le(e)?"length":Lo),Reflect.ownKeys(e)}}class L2 extends K1{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const D2=new Z1,j2=new L2,F2=new Z1(!0);const L0=u=>u,Kf=u=>Reflect.getPrototypeOf(u);function dd(u,e,t=!1,r=!1){u=u.__v_raw;const a=Ue(u),n=Ue(e);t||(pa(e,n)&&dn(a,"get",e),dn(a,"get",n));const{has:i}=Kf(a),o=r?L0:t?B0:Qc;if(i.call(a,e))return o(u.get(e));if(i.call(a,n))return o(u.get(n));u!==a&&u.get(e)}function fd(u,e=!1){const t=this.__v_raw,r=Ue(t),a=Ue(u);return e||(pa(u,a)&&dn(r,"has",u),dn(r,"has",a)),u===a?t.has(u):t.has(u)||t.has(a)}function pd(u,e=!1){return u=u.__v_raw,!e&&dn(Ue(u),"iterate",Lo),Reflect.get(u,"size",u)}function yg(u){u=Ue(u);const e=Ue(this);return Kf(e).has.call(e,u)||(e.add(u),xs(e,"add",u,u)),this}function vg(u,e){e=Ue(e);const t=Ue(this),{has:r,get:a}=Kf(t);let n=r.call(t,u);n||(u=Ue(u),n=r.call(t,u));const i=a.call(t,u);return t.set(u,e),n?pa(e,i)&&xs(t,"set",u,e):xs(t,"add",u,e),this}function wg(u){const e=Ue(this),{has:t,get:r}=Kf(e);let a=t.call(e,u);a||(u=Ue(u),a=t.call(e,u)),r&&r.call(e,u);const n=e.delete(u);return a&&xs(e,"delete",u,void 0),n}function _g(){const u=Ue(this),e=u.size!==0,t=u.clear();return e&&xs(u,"clear",void 0,void 0),t}function md(u,e){return function(r,a){const n=this,i=n.__v_raw,o=Ue(i),l=e?L0:u?B0:Qc;return!u&&dn(o,"iterate",Lo),i.forEach((s,c)=>r.call(a,l(s),l(c),n))}}function gd(u,e,t){return function(...r){const a=this.__v_raw,n=Ue(a),i=ul(n),o=u==="entries"||u===Symbol.iterator&&i,l=u==="keys"&&i,s=a[u](...r),c=t?L0:e?B0:Qc;return!e&&dn(n,"iterate",l?Wp:Lo),{next(){const{value:f,done:h}=s.next();return h?{value:f,done:h}:{value:o?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function Ns(u){return function(...e){return u==="delete"?!1:u==="clear"?void 0:this}}function B2(){const u={get(n){return dd(this,n)},get size(){return pd(this)},has:fd,add:yg,set:vg,delete:wg,clear:_g,forEach:md(!1,!1)},e={get(n){return dd(this,n,!1,!0)},get size(){return pd(this)},has:fd,add:yg,set:vg,delete:wg,clear:_g,forEach:md(!1,!0)},t={get(n){return dd(this,n,!0)},get size(){return pd(this,!0)},has(n){return fd.call(this,n,!0)},add:Ns("add"),set:Ns("set"),delete:Ns("delete"),clear:Ns("clear"),forEach:md(!0,!1)},r={get(n){return dd(this,n,!0,!0)},get size(){return pd(this,!0)},has(n){return fd.call(this,n,!0)},add:Ns("add"),set:Ns("set"),delete:Ns("delete"),clear:Ns("clear"),forEach:md(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{u[n]=gd(n,!1,!1),t[n]=gd(n,!0,!1),e[n]=gd(n,!1,!0),r[n]=gd(n,!0,!0)}),[u,t,e,r]}const[z2,H2,U2,$2]=B2();function D0(u,e){const t=e?u?$2:U2:u?H2:z2;return(r,a,n)=>a==="__v_isReactive"?!u:a==="__v_isReadonly"?u:a==="__v_raw"?r:Reflect.get(Pe(t,a)&&a in r?t:r,a,n)}const V2={get:D0(!1,!1)},W2={get:D0(!1,!0)},q2={get:D0(!0,!1)};const Y1=new WeakMap,J1=new WeakMap,Q1=new WeakMap,X2=new WeakMap;function G2(u){switch(u){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function K2(u){return u.__v_skip||!Object.isExtensible(u)?0:G2(v2(u))}function j0(u){return Jc(u)?u:F0(u,!1,D2,V2,Y1)}function Z2(u){return F0(u,!1,F2,W2,J1)}function tb(u){return F0(u,!0,j2,q2,Q1)}function F0(u,e,t,r,a){if(!lr(u)||u.__v_raw&&!(e&&u.__v_isReactive))return u;const n=a.get(u);if(n)return n;const i=K2(u);if(i===0)return u;const o=new Proxy(u,i===2?r:t);return a.set(u,o),o}function Wc(u){return Jc(u)?Wc(u.__v_raw):!!(u&&u.__v_isReactive)}function Jc(u){return!!(u&&u.__v_isReadonly)}function af(u){return!!(u&&u.__v_isShallow)}function eb(u){return u?!!u.__v_raw:!1}function Ue(u){const e=u&&u.__v_raw;return e?Ue(e):u}function Y2(u){return Object.isExtensible(u)&&F1(u,"__v_skip",!0),u}const Qc=u=>lr(u)?j0(u):u,B0=u=>lr(u)?tb(u):u;class rb{constructor(e,t,r,a){this.getter=e,this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new P0(()=>e(this._value),()=>Ed(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=r}get value(){const e=Ue(this);return(!e._cacheable||e.effect.dirty)&&pa(e._value,e._value=e.effect.run())&&Ed(e,4),nb(e),e.effect._dirtyLevel>=2&&Ed(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function J2(u,e,t=!1){let r,a;const n=be(u);return n?(r=u,a=jn):(r=u.get,a=u.set),new rb(r,a,n||!a,t)}function nb(u){var e;da&&No&&(u=Ue(u),W1(No,(e=u.dep)!=null?e:u.dep=X1(()=>u.dep=void 0,u instanceof rb?u:void 0)))}function Ed(u,e=4,t,r){u=Ue(u);const a=u.dep;a&&q1(a,e)}function fn(u){return!!(u&&u.__v_isRef===!0)}function Na(u){return Q2(u,!1)}function Q2(u,e){return fn(u)?u:new tw(u,e)}class tw{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Ue(e),this._value=t?e:Qc(e)}get value(){return nb(this),this._value}set value(e){const t=this.__v_isShallow||af(e)||Jc(e);e=t?e:Ue(e),pa(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=t?e:Qc(e),Ed(this,4))}}function ib(u){return fn(u)?u.value:u}const ew={get:(u,e,t)=>ib(Reflect.get(u,e,t)),set:(u,e,t,r)=>{const a=u[e];return fn(a)&&!fn(t)?(a.value=t,!0):Reflect.set(u,e,t,r)}};function sb(u){return Wc(u)?u:new Proxy(u,ew)}/**
* @vue/runtime-core v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fa(u,e,t,r){try{return r?u(...r):u()}catch(a){Zf(a,e,t)}}function oi(u,e,t,r){if(be(u)){const a=fa(u,e,t,r);return a&&N1(a)&&a.catch(n=>{Zf(n,e,t)}),a}if(le(u)){const a=[];for(let n=0;n<u.length;n++)a.push(oi(u[n],e,t,r));return a}}function Zf(u,e,t,r=!0){const a=e?e.vnode:null;if(e){let n=e.parent;const i=e.proxy,o=`https://vuejs.org/error-reference/#runtime-${t}`;for(;n;){const s=n.ec;if(s){for(let c=0;c<s.length;c++)if(s[c](u,i,o)===!1)return}n=n.parent}const l=e.appContext.config.errorHandler;if(l){Sa(),fa(l,null,10,[u,i,o]),Aa();return}}rw(u,t,a,r)}function rw(u,e,t,r=!0){console.error(u)}let th=!1,qp=!1;const Ur=[];let Ni=0;const dl=[];let zs=null,La=0;const ab=Promise.resolve();let z0=null;function nw(u){const e=z0||ab;return u?e.then(this?u.bind(this):u):e}function iw(u){let e=Ni+1,t=Ur.length;for(;e<t;){const r=e+t>>>1,a=Ur[r],n=eh(a);n<u||n===u&&a.pre?e=r+1:t=r}return e}function H0(u){(!Ur.length||!Ur.includes(u,th&&u.allowRecurse?Ni+1:Ni))&&(u.id==null?Ur.push(u):Ur.splice(iw(u.id),0,u),ob())}function ob(){!th&&!qp&&(qp=!0,z0=ab.then(cb))}function sw(u){const e=Ur.indexOf(u);e>Ni&&Ur.splice(e,1)}function aw(u){le(u)?dl.push(...u):(!zs||!zs.includes(u,u.allowRecurse?La+1:La))&&dl.push(u),ob()}function xg(u,e,t=th?Ni+1:0){for(;t<Ur.length;t++){const r=Ur[t];if(r&&r.pre){if(u&&r.id!==u.uid)continue;Ur.splice(t,1),t--,r()}}}function lb(u){if(dl.length){const e=[...new Set(dl)].sort((t,r)=>eh(t)-eh(r));if(dl.length=0,zs){zs.push(...e);return}for(zs=e,La=0;La<zs.length;La++){const t=zs[La];t.active!==!1&&t()}zs=null,La=0}}const eh=u=>u.id==null?1/0:u.id,ow=(u,e)=>{const t=eh(u)-eh(e);if(t===0){if(u.pre&&!e.pre)return-1;if(e.pre&&!u.pre)return 1}return t};function cb(u){qp=!1,th=!0,Ur.sort(ow);try{for(Ni=0;Ni<Ur.length;Ni++){const e=Ur[Ni];e&&e.active!==!1&&fa(e,null,14)}}finally{Ni=0,Ur.length=0,lb(),th=!1,z0=null,(Ur.length||dl.length)&&cb()}}function lw(u,e,...t){if(u.isUnmounted)return;const r=u.vnode.props||nr;let a=t;const n=e.startsWith("update:"),i=n&&e.slice(7);if(i&&i in r){const c=`${i==="modelValue"?"model":i}Modifiers`,{number:f,trim:h}=r[c]||nr;h&&(a=t.map(d=>Ar(d)?d.trim():d)),f&&(a=t.map(Hp))}let o,l=r[o=wp(e)]||r[o=wp(uc(e))];!l&&n&&(l=r[o=wp(bc(e))]),l&&oi(l,u,6,a);const s=r[o+"Once"];if(s){if(!u.emitted)u.emitted={};else if(u.emitted[o])return;u.emitted[o]=!0,oi(s,u,6,a)}}function hb(u,e,t=!1){const r=e.emitsCache,a=r.get(u);if(a!==void 0)return a;const n=u.emits;let i={},o=!1;if(!be(u)){const l=s=>{const c=hb(s,e,!0);c&&(o=!0,Dr(i,c))};!t&&e.mixins.length&&e.mixins.forEach(l),u.extends&&l(u.extends),u.mixins&&u.mixins.forEach(l)}return!n&&!o?(lr(u)&&r.set(u,null),null):(le(n)?n.forEach(l=>i[l]=null):Dr(i,n),lr(u)&&r.set(u,i),i)}function Yf(u,e){return!u||!qf(e)?!1:(e=e.slice(2).replace(/Once$/,""),Pe(u,e[0].toLowerCase()+e.slice(1))||Pe(u,bc(e))||Pe(u,e))}let Fn=null,ub=null;function of(u){const e=Fn;return Fn=u,ub=u&&u.type.__scopeId||null,e}function cw(u,e=Fn,t){if(!e||u._n)return u;const r=(...a)=>{r._d&&Ig(-1);const n=of(e);let i;try{i=u(...a)}finally{of(n),r._d&&Ig(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function xp(u){const{type:e,vnode:t,proxy:r,withProxy:a,propsOptions:[n],slots:i,attrs:o,emit:l,render:s,renderCache:c,props:f,data:h,setupState:d,ctx:p,inheritAttrs:g}=u,m=of(u);let b,y;try{if(t.shapeFlag&4){const k=a||r,M=k;b=Ii(s.call(M,k,c,f,d,h,p)),y=o}else{const k=e;b=Ii(k.length>1?k(f,{attrs:o,slots:i,emit:l}):k(f,null)),y=e.props?o:hw(o)}}catch(k){Gc.length=0,Zf(k,u,1),b=li(Fo)}let x=b;if(y&&g!==!1){const k=Object.keys(y),{shapeFlag:M}=x;k.length&&M&7&&(n&&k.some(C0)&&(y=uw(y,n)),x=dc(x,y,!1,!0))}return t.dirs&&(x=dc(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(t.dirs):t.dirs),t.transition&&(x.transition=t.transition),b=x,of(m),b}const hw=u=>{let e;for(const t in u)(t==="class"||t==="style"||qf(t))&&((e||(e={}))[t]=u[t]);return e},uw=(u,e)=>{const t={};for(const r in u)(!C0(r)||!(r.slice(9)in e))&&(t[r]=u[r]);return t};function dw(u,e,t){const{props:r,children:a,component:n}=u,{props:i,children:o,patchFlag:l}=e,s=n.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return r?Sg(r,i,s):!!i;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(i[h]!==r[h]&&!Yf(s,h))return!0}}}else return(a||o)&&(!o||!o.$stable)?!0:r===i?!1:r?i?Sg(r,i,s):!0:!!i;return!1}function Sg(u,e,t){const r=Object.keys(e);if(r.length!==Object.keys(u).length)return!0;for(let a=0;a<r.length;a++){const n=r[a];if(e[n]!==u[n]&&!Yf(t,n))return!0}return!1}function fw({vnode:u,parent:e},t){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===u&&(r.el=u.el),r===u)(u=e.vnode).el=t,e=e.parent;else break}}const pw=Symbol.for("v-ndc"),mw=u=>u.__isSuspense;function gw(u,e){e&&e.pendingBranch?le(u)?e.effects.push(...u):e.effects.push(u):aw(u)}function Jf(u,e,t=Yr,r=!1){if(t){const a=t[u]||(t[u]=[]),n=e.__weh||(e.__weh=(...i)=>{Sa();const o=Yu(t),l=oi(e,t,u,i);return o(),Aa(),l});return r?a.unshift(n):a.push(n),n}}const Rs=u=>(e,t=Yr)=>{(!tp||u==="sp")&&Jf(u,(...r)=>e(...r),t)},bw=Rs("bm"),db=Rs("m"),yw=Rs("bu"),vw=Rs("u"),ww=Rs("bum"),fb=Rs("um"),_w=Rs("sp"),xw=Rs("rtg"),Sw=Rs("rtc");function Aw(u,e=Yr){Jf("ec",u,e)}function kw(u,e){if(Fn===null)return u;const t=ep(Fn),r=u.dirs||(u.dirs=[]);for(let a=0;a<e.length;a++){let[n,i,o,l=nr]=e[a];n&&(be(n)&&(n={mounted:n,updated:n}),n.deep&&Us(i),r.push({dir:n,instance:t,value:i,oldValue:void 0,arg:o,modifiers:l}))}return u}function Ta(u,e,t,r){const a=u.dirs,n=e&&e.dirs;for(let i=0;i<a.length;i++){const o=a[i];n&&(o.oldValue=n[i].value);let l=o.dir[r];l&&(Sa(),oi(l,t,8,[u.el,o,u,e]),Aa())}}function Ew(u,e,t,r){let a;const n=t;if(le(u)||Ar(u)){a=new Array(u.length);for(let i=0,o=u.length;i<o;i++)a[i]=e(u[i],i,void 0,n)}else if(typeof u=="number"){a=new Array(u);for(let i=0;i<u;i++)a[i]=e(i+1,i,void 0,n)}else if(lr(u))if(u[Symbol.iterator])a=Array.from(u,(i,o)=>e(i,o,void 0,n));else{const i=Object.keys(u);a=new Array(i.length);for(let o=0,l=i.length;o<l;o++){const s=i[o];a[o]=e(u[s],s,o,n)}}else a=[];return a}const Cd=u=>!!u.type.__asyncLoader,Xp=u=>u?Ib(u)?ep(u):Xp(u.parent):null,qc=Dr(Object.create(null),{$:u=>u,$el:u=>u.vnode.el,$data:u=>u.data,$props:u=>u.props,$attrs:u=>u.attrs,$slots:u=>u.slots,$refs:u=>u.refs,$parent:u=>Xp(u.parent),$root:u=>Xp(u.root),$emit:u=>u.emit,$options:u=>U0(u),$forceUpdate:u=>u.f||(u.f=()=>{u.effect.dirty=!0,H0(u.update)}),$nextTick:u=>u.n||(u.n=nw.bind(u.proxy)),$watch:u=>Xw.bind(u)}),Sp=(u,e)=>u!==nr&&!u.__isScriptSetup&&Pe(u,e),Cw={get({_:u},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:r,data:a,props:n,accessCache:i,type:o,appContext:l}=u;let s;if(e[0]!=="$"){const d=i[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return a[e];case 4:return t[e];case 3:return n[e]}else{if(Sp(r,e))return i[e]=1,r[e];if(a!==nr&&Pe(a,e))return i[e]=2,a[e];if((s=u.propsOptions[0])&&Pe(s,e))return i[e]=3,n[e];if(t!==nr&&Pe(t,e))return i[e]=4,t[e];Gp&&(i[e]=0)}}const c=qc[e];let f,h;if(c)return e==="$attrs"&&dn(u.attrs,"get",""),c(u);if((f=o.__cssModules)&&(f=f[e]))return f;if(t!==nr&&Pe(t,e))return i[e]=4,t[e];if(h=l.config.globalProperties,Pe(h,e))return h[e]},set({_:u},e,t){const{data:r,setupState:a,ctx:n}=u;return Sp(a,e)?(a[e]=t,!0):r!==nr&&Pe(r,e)?(r[e]=t,!0):Pe(u.props,e)||e[0]==="$"&&e.slice(1)in u?!1:(n[e]=t,!0)},has({_:{data:u,setupState:e,accessCache:t,ctx:r,appContext:a,propsOptions:n}},i){let o;return!!t[i]||u!==nr&&Pe(u,i)||Sp(e,i)||(o=n[0])&&Pe(o,i)||Pe(r,i)||Pe(qc,i)||Pe(a.config.globalProperties,i)},defineProperty(u,e,t){return t.get!=null?u._.accessCache[e]=0:Pe(t,"value")&&this.set(u,e,t.value,null),Reflect.defineProperty(u,e,t)}};function Ag(u){return le(u)?u.reduce((e,t)=>(e[t]=null,e),{}):u}let Gp=!0;function Tw(u){const e=U0(u),t=u.proxy,r=u.ctx;Gp=!1,e.beforeCreate&&kg(e.beforeCreate,u,"bc");const{data:a,computed:n,methods:i,watch:o,provide:l,inject:s,created:c,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:g,deactivated:m,beforeDestroy:b,beforeUnmount:y,destroyed:x,unmounted:k,render:M,renderTracked:I,renderTriggered:B,errorCaptured:j,serverPrefetch:F,expose:z,inheritAttrs:$,components:H,directives:C,filters:O}=e;if(s&&Mw(s,r,null),i)for(const w in i){const _=i[w];be(_)&&(r[w]=_.bind(t))}if(a){const w=a.call(t,t);lr(w)&&(u.data=j0(w))}if(Gp=!0,n)for(const w in n){const _=n[w],S=be(_)?_.bind(t,t):be(_.get)?_.get.bind(t,t):jn,T=!be(_)&&be(_.set)?_.set.bind(t):jn,N=p_({get:S,set:T});Object.defineProperty(r,w,{enumerable:!0,configurable:!0,get:()=>N.value,set:L=>N.value=L})}if(o)for(const w in o)pb(o[w],r,t,w);if(l){const w=be(l)?l.call(t):l;Reflect.ownKeys(w).forEach(_=>{Lw(_,w[_])})}c&&kg(c,u,"c");function v(w,_){le(_)?_.forEach(S=>w(S.bind(t))):_&&w(_.bind(t))}if(v(bw,f),v(db,h),v(yw,d),v(vw,p),v(Gw,g),v(Kw,m),v(Aw,j),v(Sw,I),v(xw,B),v(ww,y),v(fb,k),v(_w,F),le(z))if(z.length){const w=u.exposed||(u.exposed={});z.forEach(_=>{Object.defineProperty(w,_,{get:()=>t[_],set:S=>t[_]=S})})}else u.exposed||(u.exposed={});M&&u.render===jn&&(u.render=M),$!=null&&(u.inheritAttrs=$),H&&(u.components=H),C&&(u.directives=C)}function Mw(u,e,t=jn){le(u)&&(u=Kp(u));for(const r in u){const a=u[r];let n;lr(a)?"default"in a?n=Td(a.from||r,a.default,!0):n=Td(a.from||r):n=Td(a),fn(n)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>n.value,set:i=>n.value=i}):e[r]=n}}function kg(u,e,t){oi(le(u)?u.map(r=>r.bind(e.proxy)):u.bind(e.proxy),e,t)}function pb(u,e,t,r){const a=r.includes(".")?Cb(t,r):()=>t[r];if(Ar(u)){const n=e[u];be(n)&&kp(a,n)}else if(be(u))kp(a,u.bind(t));else if(lr(u))if(le(u))u.forEach(n=>pb(n,e,t,r));else{const n=be(u.handler)?u.handler.bind(t):e[u.handler];be(n)&&kp(a,n,u)}}function U0(u){const e=u.type,{mixins:t,extends:r}=e,{mixins:a,optionsCache:n,config:{optionMergeStrategies:i}}=u.appContext,o=n.get(e);let l;return o?l=o:!a.length&&!t&&!r?l=e:(l={},a.length&&a.forEach(s=>lf(l,s,i,!0)),lf(l,e,i)),lr(e)&&n.set(e,l),l}function lf(u,e,t,r=!1){const{mixins:a,extends:n}=e;n&&lf(u,n,t,!0),a&&a.forEach(i=>lf(u,i,t,!0));for(const i in e)if(!(r&&i==="expose")){const o=Rw[i]||t&&t[i];u[i]=o?o(u[i],e[i]):e[i]}return u}const Rw={data:Eg,props:Cg,emits:Cg,methods:Ec,computed:Ec,beforeCreate:qr,created:qr,beforeMount:qr,mounted:qr,beforeUpdate:qr,updated:qr,beforeDestroy:qr,beforeUnmount:qr,destroyed:qr,unmounted:qr,activated:qr,deactivated:qr,errorCaptured:qr,serverPrefetch:qr,components:Ec,directives:Ec,watch:Pw,provide:Eg,inject:Ow};function Eg(u,e){return e?u?function(){return Dr(be(u)?u.call(this,this):u,be(e)?e.call(this,this):e)}:e:u}function Ow(u,e){return Ec(Kp(u),Kp(e))}function Kp(u){if(le(u)){const e={};for(let t=0;t<u.length;t++)e[u[t]]=u[t];return e}return u}function qr(u,e){return u?[...new Set([].concat(u,e))]:e}function Ec(u,e){return u?Dr(Object.create(null),u,e):e}function Cg(u,e){return u?le(u)&&le(e)?[...new Set([...u,...e])]:Dr(Object.create(null),Ag(u),Ag(e??{})):e}function Pw(u,e){if(!u)return e;if(!e)return u;const t=Dr(Object.create(null),u);for(const r in e)t[r]=qr(u[r],e[r]);return t}function mb(){return{app:null,config:{isNativeTag:b2,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Iw=0;function Nw(u,e){return function(r,a=null){be(r)||(r=Dr({},r)),a!=null&&!lr(a)&&(a=null);const n=mb(),i=new WeakSet;let o=!1;const l=n.app={_uid:Iw++,_component:r,_props:a,_container:null,_context:n,_instance:null,version:m_,get config(){return n.config},set config(s){},use(s,...c){return i.has(s)||(s&&be(s.install)?(i.add(s),s.install(l,...c)):be(s)&&(i.add(s),s(l,...c))),l},mixin(s){return n.mixins.includes(s)||n.mixins.push(s),l},component(s,c){return c?(n.components[s]=c,l):n.components[s]},directive(s,c){return c?(n.directives[s]=c,l):n.directives[s]},mount(s,c,f){if(!o){const h=li(r,a);return h.appContext=n,f===!0?f="svg":f===!1&&(f=void 0),c&&e?e(h,s):u(h,s,f),o=!0,l._container=s,s.__vue_app__=l,ep(h.component)}},unmount(){o&&(u(null,l._container),delete l._container.__vue_app__)},provide(s,c){return n.provides[s]=c,l},runWithContext(s){const c=Xc;Xc=l;try{return s()}finally{Xc=c}}};return l}}let Xc=null;function Lw(u,e){if(Yr){let t=Yr.provides;const r=Yr.parent&&Yr.parent.provides;r===t&&(t=Yr.provides=Object.create(r)),t[u]=e}}function Td(u,e,t=!1){const r=Yr||Fn;if(r||Xc){const a=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Xc._context.provides;if(a&&u in a)return a[u];if(arguments.length>1)return t&&be(e)?e.call(r&&r.proxy):e}}const gb={},bb=()=>Object.create(gb),yb=u=>Object.getPrototypeOf(u)===gb;function Dw(u,e,t,r=!1){const a={},n=bb();u.propsDefaults=Object.create(null),vb(u,e,a,n);for(const i in u.propsOptions[0])i in a||(a[i]=void 0);t?u.props=r?a:Z2(a):u.type.props?u.props=a:u.props=n,u.attrs=n}function jw(u,e,t,r){const{props:a,attrs:n,vnode:{patchFlag:i}}=u,o=Ue(a),[l]=u.propsOptions;let s=!1;if((r||i>0)&&!(i&16)){if(i&8){const c=u.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(Yf(u.emitsOptions,h))continue;const d=e[h];if(l)if(Pe(n,h))d!==n[h]&&(n[h]=d,s=!0);else{const p=uc(h);a[p]=Zp(l,o,p,d,u,!1)}else d!==n[h]&&(n[h]=d,s=!0)}}}else{vb(u,e,a,n)&&(s=!0);let c;for(const f in o)(!e||!Pe(e,f)&&((c=bc(f))===f||!Pe(e,c)))&&(l?t&&(t[f]!==void 0||t[c]!==void 0)&&(a[f]=Zp(l,o,f,void 0,u,!0)):delete a[f]);if(n!==o)for(const f in n)(!e||!Pe(e,f))&&(delete n[f],s=!0)}s&&xs(u.attrs,"set","")}function vb(u,e,t,r){const[a,n]=u.propsOptions;let i=!1,o;if(e)for(let l in e){if(Vc(l))continue;const s=e[l];let c;a&&Pe(a,c=uc(l))?!n||!n.includes(c)?t[c]=s:(o||(o={}))[c]=s:Yf(u.emitsOptions,l)||(!(l in r)||s!==r[l])&&(r[l]=s,i=!0)}if(n){const l=Ue(t),s=o||nr;for(let c=0;c<n.length;c++){const f=n[c];t[f]=Zp(a,l,f,s[f],u,!Pe(s,f))}}return i}function Zp(u,e,t,r,a,n){const i=u[t];if(i!=null){const o=Pe(i,"default");if(o&&r===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&be(l)){const{propsDefaults:s}=a;if(t in s)r=s[t];else{const c=Yu(a);r=s[t]=l.call(null,e),c()}}else r=l}i[0]&&(n&&!o?r=!1:i[1]&&(r===""||r===bc(t))&&(r=!0))}return r}function wb(u,e,t=!1){const r=e.propsCache,a=r.get(u);if(a)return a;const n=u.props,i={},o=[];let l=!1;if(!be(u)){const c=f=>{l=!0;const[h,d]=wb(f,e,!0);Dr(i,h),d&&o.push(...d)};!t&&e.mixins.length&&e.mixins.forEach(c),u.extends&&c(u.extends),u.mixins&&u.mixins.forEach(c)}if(!n&&!l)return lr(u)&&r.set(u,hl),hl;if(le(n))for(let c=0;c<n.length;c++){const f=uc(n[c]);Tg(f)&&(i[f]=nr)}else if(n)for(const c in n){const f=uc(c);if(Tg(f)){const h=n[c],d=i[f]=le(h)||be(h)?{type:h}:Dr({},h);if(d){const p=Og(Boolean,d.type),g=Og(String,d.type);d[0]=p>-1,d[1]=g<0||p<g,(p>-1||Pe(d,"default"))&&o.push(f)}}}const s=[i,o];return lr(u)&&r.set(u,s),s}function Tg(u){return u[0]!=="$"&&!Vc(u)}function Mg(u){return u===null?"null":typeof u=="function"?u.name||"":typeof u=="object"&&u.constructor&&u.constructor.name||""}function Rg(u,e){return Mg(u)===Mg(e)}function Og(u,e){return le(e)?e.findIndex(t=>Rg(t,u)):be(e)&&Rg(e,u)?0:-1}const _b=u=>u[0]==="_"||u==="$stable",$0=u=>le(u)?u.map(Ii):[Ii(u)],Fw=(u,e,t)=>{if(e._n)return e;const r=cw((...a)=>$0(e(...a)),t);return r._c=!1,r},xb=(u,e,t)=>{const r=u._ctx;for(const a in u){if(_b(a))continue;const n=u[a];if(be(n))e[a]=Fw(a,n,r);else if(n!=null){const i=$0(n);e[a]=()=>i}}},Sb=(u,e)=>{const t=$0(e);u.slots.default=()=>t},Bw=(u,e)=>{const t=u.slots=bb();if(u.vnode.shapeFlag&32){const r=e._;r?(Dr(t,e),F1(t,"_",r,!0)):xb(e,t)}else e&&Sb(u,e)},zw=(u,e,t)=>{const{vnode:r,slots:a}=u;let n=!0,i=nr;if(r.shapeFlag&32){const o=e._;o?t&&o===1?n=!1:(Dr(a,e),!t&&o===1&&delete a._):(n=!e.$stable,xb(e,a)),i=e}else e&&(Sb(u,e),i={default:1});if(n)for(const o in a)!_b(o)&&i[o]==null&&delete a[o]};function Yp(u,e,t,r,a=!1){if(le(u)){u.forEach((h,d)=>Yp(h,e&&(le(e)?e[d]:e),t,r,a));return}if(Cd(r)&&!a)return;const n=r.shapeFlag&4?ep(r.component):r.el,i=a?null:n,{i:o,r:l}=u,s=e&&e.r,c=o.refs===nr?o.refs={}:o.refs,f=o.setupState;if(s!=null&&s!==l&&(Ar(s)?(c[s]=null,Pe(f,s)&&(f[s]=null)):fn(s)&&(s.value=null)),be(l))fa(l,o,12,[i,c]);else{const h=Ar(l),d=fn(l);if(h||d){const p=()=>{if(u.f){const g=h?Pe(f,l)?f[l]:c[l]:l.value;a?le(g)&&T0(g,n):le(g)?g.includes(n)||g.push(n):h?(c[l]=[n],Pe(f,l)&&(f[l]=c[l])):(l.value=[n],u.k&&(c[u.k]=l.value))}else h?(c[l]=i,Pe(f,l)&&(f[l]=i)):d&&(l.value=i,u.k&&(c[u.k]=i))};i?(p.id=-1,nn(p,t)):p()}}}const nn=gw;function Hw(u){return Uw(u)}function Uw(u,e){const t=B1();t.__VUE__=!0;const{insert:r,remove:a,patchProp:n,createElement:i,createText:o,createComment:l,setText:s,setElementText:c,parentNode:f,nextSibling:h,setScopeId:d=jn,insertStaticContent:p}=u,g=(W,G,et,it=null,K=null,rt=null,nt=void 0,ct=null,ot=!!G.dynamicChildren)=>{if(W===G)return;W&&!_c(W,G)&&(it=X(W),L(W,K,rt,!0),W=null),G.patchFlag===-2&&(ot=!1,G.dynamicChildren=null);const{type:lt,ref:ut,shapeFlag:dt}=G;switch(lt){case Qf:m(W,G,et,it);break;case Fo:b(W,G,et,it);break;case Ep:W==null&&y(G,et,it,nt);break;case Pi:H(W,G,et,it,K,rt,nt,ct,ot);break;default:dt&1?M(W,G,et,it,K,rt,nt,ct,ot):dt&6?C(W,G,et,it,K,rt,nt,ct,ot):(dt&64||dt&128)&&lt.process(W,G,et,it,K,rt,nt,ct,ot,U)}ut!=null&&K&&Yp(ut,W&&W.ref,rt,G||W,!G)},m=(W,G,et,it)=>{if(W==null)r(G.el=o(G.children),et,it);else{const K=G.el=W.el;G.children!==W.children&&s(K,G.children)}},b=(W,G,et,it)=>{W==null?r(G.el=l(G.children||""),et,it):G.el=W.el},y=(W,G,et,it)=>{[W.el,W.anchor]=p(W.children,G,et,it,W.el,W.anchor)},x=({el:W,anchor:G},et,it)=>{let K;for(;W&&W!==G;)K=h(W),r(W,et,it),W=K;r(G,et,it)},k=({el:W,anchor:G})=>{let et;for(;W&&W!==G;)et=h(W),a(W),W=et;a(G)},M=(W,G,et,it,K,rt,nt,ct,ot)=>{G.type==="svg"?nt="svg":G.type==="math"&&(nt="mathml"),W==null?I(G,et,it,K,rt,nt,ct,ot):F(W,G,K,rt,nt,ct,ot)},I=(W,G,et,it,K,rt,nt,ct)=>{let ot,lt;const{props:ut,shapeFlag:dt,transition:mt,dirs:yt}=W;if(ot=W.el=i(W.type,rt,ut&&ut.is,ut),dt&8?c(ot,W.children):dt&16&&j(W.children,ot,null,it,K,Ap(W,rt),nt,ct),yt&&Ta(W,null,it,"created"),B(ot,W,W.scopeId,nt,it),ut){for(const _t in ut)_t!=="value"&&!Vc(_t)&&n(ot,_t,null,ut[_t],rt,W.children,it,K,D);"value"in ut&&n(ot,"value",null,ut.value,rt),(lt=ut.onVnodeBeforeMount)&&fi(lt,it,W)}yt&&Ta(W,null,it,"beforeMount");const vt=$w(K,mt);vt&&mt.beforeEnter(ot),r(ot,G,et),((lt=ut&&ut.onVnodeMounted)||vt||yt)&&nn(()=>{lt&&fi(lt,it,W),vt&&mt.enter(ot),yt&&Ta(W,null,it,"mounted")},K)},B=(W,G,et,it,K)=>{if(et&&d(W,et),it)for(let rt=0;rt<it.length;rt++)d(W,it[rt]);if(K){let rt=K.subTree;if(G===rt){const nt=K.vnode;B(W,nt,nt.scopeId,nt.slotScopeIds,K.parent)}}},j=(W,G,et,it,K,rt,nt,ct,ot=0)=>{for(let lt=ot;lt<W.length;lt++){const ut=W[lt]=ct?Hs(W[lt]):Ii(W[lt]);g(null,ut,G,et,it,K,rt,nt,ct)}},F=(W,G,et,it,K,rt,nt)=>{const ct=G.el=W.el;let{patchFlag:ot,dynamicChildren:lt,dirs:ut}=G;ot|=W.patchFlag&16;const dt=W.props||nr,mt=G.props||nr;let yt;if(et&&Ma(et,!1),(yt=mt.onVnodeBeforeUpdate)&&fi(yt,et,G,W),ut&&Ta(G,W,et,"beforeUpdate"),et&&Ma(et,!0),lt?z(W.dynamicChildren,lt,ct,et,it,Ap(G,K),rt):nt||_(W,G,ct,null,et,it,Ap(G,K),rt,!1),ot>0){if(ot&16)$(ct,G,dt,mt,et,it,K);else if(ot&2&&dt.class!==mt.class&&n(ct,"class",null,mt.class,K),ot&4&&n(ct,"style",dt.style,mt.style,K),ot&8){const vt=G.dynamicProps;for(let _t=0;_t<vt.length;_t++){const Et=vt[_t],Pt=dt[Et],Bt=mt[Et];(Bt!==Pt||Et==="value")&&n(ct,Et,Pt,Bt,K,W.children,et,it,D)}}ot&1&&W.children!==G.children&&c(ct,G.children)}else!nt&&lt==null&&$(ct,G,dt,mt,et,it,K);((yt=mt.onVnodeUpdated)||ut)&&nn(()=>{yt&&fi(yt,et,G,W),ut&&Ta(G,W,et,"updated")},it)},z=(W,G,et,it,K,rt,nt)=>{for(let ct=0;ct<G.length;ct++){const ot=W[ct],lt=G[ct],ut=ot.el&&(ot.type===Pi||!_c(ot,lt)||ot.shapeFlag&70)?f(ot.el):et;g(ot,lt,ut,null,it,K,rt,nt,!0)}},$=(W,G,et,it,K,rt,nt)=>{if(et!==it){if(et!==nr)for(const ct in et)!Vc(ct)&&!(ct in it)&&n(W,ct,et[ct],null,nt,G.children,K,rt,D);for(const ct in it){if(Vc(ct))continue;const ot=it[ct],lt=et[ct];ot!==lt&&ct!=="value"&&n(W,ct,lt,ot,nt,G.children,K,rt,D)}"value"in it&&n(W,"value",et.value,it.value,nt)}},H=(W,G,et,it,K,rt,nt,ct,ot)=>{const lt=G.el=W?W.el:o(""),ut=G.anchor=W?W.anchor:o("");let{patchFlag:dt,dynamicChildren:mt,slotScopeIds:yt}=G;yt&&(ct=ct?ct.concat(yt):yt),W==null?(r(lt,et,it),r(ut,et,it),j(G.children||[],et,ut,K,rt,nt,ct,ot)):dt>0&&dt&64&&mt&&W.dynamicChildren?(z(W.dynamicChildren,mt,et,K,rt,nt,ct),(G.key!=null||K&&G===K.subTree)&&Ab(W,G,!0)):_(W,G,et,ut,K,rt,nt,ct,ot)},C=(W,G,et,it,K,rt,nt,ct,ot)=>{G.slotScopeIds=ct,W==null?G.shapeFlag&512?K.ctx.activate(G,et,it,nt,ot):O(G,et,it,K,rt,nt,ot):A(W,G,ot)},O=(W,G,et,it,K,rt,nt)=>{const ct=W.component=l_(W,it,K);if(Tb(W)&&(ct.ctx.renderer=U),c_(ct),ct.asyncDep){if(K&&K.registerDep(ct,v,nt),!W.el){const ot=ct.subTree=li(Fo);b(null,ot,G,et)}}else v(ct,W,G,et,K,rt,nt)},A=(W,G,et)=>{const it=G.component=W.component;if(dw(W,G,et))if(it.asyncDep&&!it.asyncResolved){w(it,G,et);return}else it.next=G,sw(it.update),it.effect.dirty=!0,it.update();else G.el=W.el,it.vnode=G},v=(W,G,et,it,K,rt,nt)=>{const ct=()=>{if(W.isMounted){let{next:ut,bu:dt,u:mt,parent:yt,vnode:vt}=W;{const Ht=kb(W);if(Ht){ut&&(ut.el=vt.el,w(W,ut,nt)),Ht.asyncDep.then(()=>{W.isUnmounted||ct()});return}}let _t=ut,Et;Ma(W,!1),ut?(ut.el=vt.el,w(W,ut,nt)):ut=vt,dt&&kd(dt),(Et=ut.props&&ut.props.onVnodeBeforeUpdate)&&fi(Et,yt,ut,vt),Ma(W,!0);const Pt=xp(W),Bt=W.subTree;W.subTree=Pt,g(Bt,Pt,f(Bt.el),X(Bt),W,K,rt),ut.el=Pt.el,_t===null&&fw(W,Pt.el),mt&&nn(mt,K),(Et=ut.props&&ut.props.onVnodeUpdated)&&nn(()=>fi(Et,yt,ut,vt),K)}else{let ut;const{el:dt,props:mt}=G,{bm:yt,m:vt,parent:_t}=W,Et=Cd(G);if(Ma(W,!1),yt&&kd(yt),!Et&&(ut=mt&&mt.onVnodeBeforeMount)&&fi(ut,_t,G),Ma(W,!0),dt&&st){const Pt=()=>{W.subTree=xp(W),st(dt,W.subTree,W,K,null)};Et?G.type.__asyncLoader().then(()=>!W.isUnmounted&&Pt()):Pt()}else{const Pt=W.subTree=xp(W);g(null,Pt,et,it,W,K,rt),G.el=Pt.el}if(vt&&nn(vt,K),!Et&&(ut=mt&&mt.onVnodeMounted)){const Pt=G;nn(()=>fi(ut,_t,Pt),K)}(G.shapeFlag&256||_t&&Cd(_t.vnode)&&_t.vnode.shapeFlag&256)&&W.a&&nn(W.a,K),W.isMounted=!0,G=et=it=null}},ot=W.effect=new P0(ct,jn,()=>H0(lt),W.scope),lt=W.update=()=>{ot.dirty&&ot.run()};lt.id=W.uid,Ma(W,!0),lt()},w=(W,G,et)=>{G.component=W;const it=W.vnode.props;W.vnode=G,W.next=null,jw(W,G.props,it,et),zw(W,G.children,et),Sa(),xg(W),Aa()},_=(W,G,et,it,K,rt,nt,ct,ot=!1)=>{const lt=W&&W.children,ut=W?W.shapeFlag:0,dt=G.children,{patchFlag:mt,shapeFlag:yt}=G;if(mt>0){if(mt&128){T(lt,dt,et,it,K,rt,nt,ct,ot);return}else if(mt&256){S(lt,dt,et,it,K,rt,nt,ct,ot);return}}yt&8?(ut&16&&D(lt,K,rt),dt!==lt&&c(et,dt)):ut&16?yt&16?T(lt,dt,et,it,K,rt,nt,ct,ot):D(lt,K,rt,!0):(ut&8&&c(et,""),yt&16&&j(dt,et,it,K,rt,nt,ct,ot))},S=(W,G,et,it,K,rt,nt,ct,ot)=>{W=W||hl,G=G||hl;const lt=W.length,ut=G.length,dt=Math.min(lt,ut);let mt;for(mt=0;mt<dt;mt++){const yt=G[mt]=ot?Hs(G[mt]):Ii(G[mt]);g(W[mt],yt,et,null,K,rt,nt,ct,ot)}lt>ut?D(W,K,rt,!0,!1,dt):j(G,et,it,K,rt,nt,ct,ot,dt)},T=(W,G,et,it,K,rt,nt,ct,ot)=>{let lt=0;const ut=G.length;let dt=W.length-1,mt=ut-1;for(;lt<=dt&&lt<=mt;){const yt=W[lt],vt=G[lt]=ot?Hs(G[lt]):Ii(G[lt]);if(_c(yt,vt))g(yt,vt,et,null,K,rt,nt,ct,ot);else break;lt++}for(;lt<=dt&&lt<=mt;){const yt=W[dt],vt=G[mt]=ot?Hs(G[mt]):Ii(G[mt]);if(_c(yt,vt))g(yt,vt,et,null,K,rt,nt,ct,ot);else break;dt--,mt--}if(lt>dt){if(lt<=mt){const yt=mt+1,vt=yt<ut?G[yt].el:it;for(;lt<=mt;)g(null,G[lt]=ot?Hs(G[lt]):Ii(G[lt]),et,vt,K,rt,nt,ct,ot),lt++}}else if(lt>mt)for(;lt<=dt;)L(W[lt],K,rt,!0),lt++;else{const yt=lt,vt=lt,_t=new Map;for(lt=vt;lt<=mt;lt++){const Lt=G[lt]=ot?Hs(G[lt]):Ii(G[lt]);Lt.key!=null&&_t.set(Lt.key,lt)}let Et,Pt=0;const Bt=mt-vt+1;let Ht=!1,Ot=0;const St=new Array(Bt);for(lt=0;lt<Bt;lt++)St[lt]=0;for(lt=yt;lt<=dt;lt++){const Lt=W[lt];if(Pt>=Bt){L(Lt,K,rt,!0);continue}let It;if(Lt.key!=null)It=_t.get(Lt.key);else for(Et=vt;Et<=mt;Et++)if(St[Et-vt]===0&&_c(Lt,G[Et])){It=Et;break}It===void 0?L(Lt,K,rt,!0):(St[It-vt]=lt+1,It>=Ot?Ot=It:Ht=!0,g(Lt,G[It],et,null,K,rt,nt,ct,ot),Pt++)}const Nt=Ht?Vw(St):hl;for(Et=Nt.length-1,lt=Bt-1;lt>=0;lt--){const Lt=vt+lt,It=G[Lt],pe=Lt+1<ut?G[Lt+1].el:it;St[lt]===0?g(null,It,et,pe,K,rt,nt,ct,ot):Ht&&(Et<0||lt!==Nt[Et]?N(It,et,pe,2):Et--)}}},N=(W,G,et,it,K=null)=>{const{el:rt,type:nt,transition:ct,children:ot,shapeFlag:lt}=W;if(lt&6){N(W.component.subTree,G,et,it);return}if(lt&128){W.suspense.move(G,et,it);return}if(lt&64){nt.move(W,G,et,U);return}if(nt===Pi){r(rt,G,et);for(let dt=0;dt<ot.length;dt++)N(ot[dt],G,et,it);r(W.anchor,G,et);return}if(nt===Ep){x(W,G,et);return}if(it!==2&&lt&1&&ct)if(it===0)ct.beforeEnter(rt),r(rt,G,et),nn(()=>ct.enter(rt),K);else{const{leave:dt,delayLeave:mt,afterLeave:yt}=ct,vt=()=>r(rt,G,et),_t=()=>{dt(rt,()=>{vt(),yt&&yt()})};mt?mt(rt,vt,_t):_t()}else r(rt,G,et)},L=(W,G,et,it=!1,K=!1)=>{const{type:rt,props:nt,ref:ct,children:ot,dynamicChildren:lt,shapeFlag:ut,patchFlag:dt,dirs:mt,memoIndex:yt}=W;if(dt===-2&&(K=!1),ct!=null&&Yp(ct,null,et,W,!0),yt!=null&&(G.renderCache[yt]=void 0),ut&256){G.ctx.deactivate(W);return}const vt=ut&1&&mt,_t=!Cd(W);let Et;if(_t&&(Et=nt&&nt.onVnodeBeforeUnmount)&&fi(Et,G,W),ut&6)Y(W.component,et,it);else{if(ut&128){W.suspense.unmount(et,it);return}vt&&Ta(W,null,G,"beforeUnmount"),ut&64?W.type.remove(W,G,et,U,it):lt&&(rt!==Pi||dt>0&&dt&64)?D(lt,G,et,!1,!0):(rt===Pi&&dt&384||!K&&ut&16)&&D(ot,G,et),it&&V(W)}(_t&&(Et=nt&&nt.onVnodeUnmounted)||vt)&&nn(()=>{Et&&fi(Et,G,W),vt&&Ta(W,null,G,"unmounted")},et)},V=W=>{const{type:G,el:et,anchor:it,transition:K}=W;if(G===Pi){q(et,it);return}if(G===Ep){k(W);return}const rt=()=>{a(et),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(W.shapeFlag&1&&K&&!K.persisted){const{leave:nt,delayLeave:ct}=K,ot=()=>nt(et,rt);ct?ct(W.el,rt,ot):ot()}else rt()},q=(W,G)=>{let et;for(;W!==G;)et=h(W),a(W),W=et;a(G)},Y=(W,G,et)=>{const{bum:it,scope:K,update:rt,subTree:nt,um:ct,m:ot,a:lt}=W;Pg(ot),Pg(lt),it&&kd(it),K.stop(),rt&&(rt.active=!1,L(nt,W,G,et)),ct&&nn(ct,G),nn(()=>{W.isUnmounted=!0},G),G&&G.pendingBranch&&!G.isUnmounted&&W.asyncDep&&!W.asyncResolved&&W.suspenseId===G.pendingId&&(G.deps--,G.deps===0&&G.resolve())},D=(W,G,et,it=!1,K=!1,rt=0)=>{for(let nt=rt;nt<W.length;nt++)L(W[nt],G,et,it,K)},X=W=>W.shapeFlag&6?X(W.component.subTree):W.shapeFlag&128?W.suspense.next():h(W.anchor||W.el);let P=!1;const R=(W,G,et)=>{W==null?G._vnode&&L(G._vnode,null,null,!0):g(G._vnode||null,W,G,null,null,null,et),P||(P=!0,xg(),lb(),P=!1),G._vnode=W},U={p:g,um:L,m:N,r:V,mt:O,mc:j,pc:_,pbc:z,n:X,o:u};let Z,st;return{render:R,hydrate:Z,createApp:Nw(R,Z)}}function Ap({type:u,props:e},t){return t==="svg"&&u==="foreignObject"||t==="mathml"&&u==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Ma({effect:u,update:e},t){u.allowRecurse=e.allowRecurse=t}function $w(u,e){return(!u||u&&!u.pendingBranch)&&e&&!e.persisted}function Ab(u,e,t=!1){const r=u.children,a=e.children;if(le(r)&&le(a))for(let n=0;n<r.length;n++){const i=r[n];let o=a[n];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=a[n]=Hs(a[n]),o.el=i.el),!t&&o.patchFlag!==-2&&Ab(i,o)),o.type===Qf&&(o.el=i.el)}}function Vw(u){const e=u.slice(),t=[0];let r,a,n,i,o;const l=u.length;for(r=0;r<l;r++){const s=u[r];if(s!==0){if(a=t[t.length-1],u[a]<s){e[r]=a,t.push(r);continue}for(n=0,i=t.length-1;n<i;)o=n+i>>1,u[t[o]]<s?n=o+1:i=o;s<u[t[n]]&&(n>0&&(e[r]=t[n-1]),t[n]=r)}}for(n=t.length,i=t[n-1];n-- >0;)t[n]=i,i=e[i];return t}function kb(u){const e=u.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:kb(e)}function Pg(u){if(u)for(let e=0;e<u.length;e++)u[e].active=!1}const Ww=Symbol.for("v-scx"),qw=()=>Td(Ww),bd={};function kp(u,e,t){return Eb(u,e,t)}function Eb(u,e,{immediate:t,deep:r,flush:a,once:n,onTrack:i,onTrigger:o}=nr){if(e&&n){const I=e;e=(...B)=>{I(...B),M()}}const l=Yr,s=I=>r===!0?I:Us(I,r===!1?1:void 0);let c,f=!1,h=!1;if(fn(u)?(c=()=>u.value,f=af(u)):Wc(u)?(c=()=>s(u),f=!0):le(u)?(h=!0,f=u.some(I=>Wc(I)||af(I)),c=()=>u.map(I=>{if(fn(I))return I.value;if(Wc(I))return s(I);if(be(I))return fa(I,l,2)})):be(u)?e?c=()=>fa(u,l,2):c=()=>(d&&d(),oi(u,l,3,[p])):c=jn,e&&r){const I=c;c=()=>Us(I())}let d,p=I=>{d=x.onStop=()=>{fa(I,l,4),d=x.onStop=void 0}},g;if(tp)if(p=jn,e?t&&oi(e,l,3,[c(),h?[]:void 0,p]):c(),a==="sync"){const I=qw();g=I.__watcherHandles||(I.__watcherHandles=[])}else return jn;let m=h?new Array(u.length).fill(bd):bd;const b=()=>{if(!(!x.active||!x.dirty))if(e){const I=x.run();(r||f||(h?I.some((B,j)=>pa(B,m[j])):pa(I,m)))&&(d&&d(),oi(e,l,3,[I,m===bd?void 0:h&&m[0]===bd?[]:m,p]),m=I)}else x.run()};b.allowRecurse=!!e;let y;a==="sync"?y=b:a==="post"?y=()=>nn(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),y=()=>H0(b));const x=new P0(c,jn,y),k=R2(),M=()=>{x.stop(),k&&T0(k.effects,x)};return e?t?b():m=x.run():a==="post"?nn(x.run.bind(x),l&&l.suspense):x.run(),g&&g.push(M),M}function Xw(u,e,t){const r=this.proxy,a=Ar(u)?u.includes(".")?Cb(r,u):()=>r[u]:u.bind(r,r);let n;be(e)?n=e:(n=e.handler,t=e);const i=Yu(this),o=Eb(a,n.bind(r),t);return i(),o}function Cb(u,e){const t=e.split(".");return()=>{let r=u;for(let a=0;a<t.length&&r;a++)r=r[t[a]];return r}}function Us(u,e=1/0,t){if(e<=0||!lr(u)||u.__v_skip||(t=t||new Set,t.has(u)))return u;if(t.add(u),e--,fn(u))Us(u.value,e,t);else if(le(u))for(let r=0;r<u.length;r++)Us(u[r],e,t);else if(I1(u)||ul(u))u.forEach(r=>{Us(r,e,t)});else if(D1(u)){for(const r in u)Us(u[r],e,t);for(const r of Object.getOwnPropertySymbols(u))Object.prototype.propertyIsEnumerable.call(u,r)&&Us(u[r],e,t)}return u}const Tb=u=>u.type.__isKeepAlive;function Gw(u,e){Mb(u,"a",e)}function Kw(u,e){Mb(u,"da",e)}function Mb(u,e,t=Yr){const r=u.__wdc||(u.__wdc=()=>{let a=t;for(;a;){if(a.isDeactivated)return;a=a.parent}return u()});if(Jf(e,r,t),t){let a=t.parent;for(;a&&a.parent;)Tb(a.parent.vnode)&&Zw(r,e,t,a),a=a.parent}}function Zw(u,e,t,r){const a=Jf(e,u,r,!0);fb(()=>{T0(r[e],a)},t)}function Rb(u,e){u.shapeFlag&6&&u.component?Rb(u.component.subTree,e):u.shapeFlag&128?(u.ssContent.transition=e.clone(u.ssContent),u.ssFallback.transition=e.clone(u.ssFallback)):u.transition=e}const Yw=u=>u.__isTeleport,Pi=Symbol.for("v-fgt"),Qf=Symbol.for("v-txt"),Fo=Symbol.for("v-cmt"),Ep=Symbol.for("v-stc"),Gc=[];let si=null;function mi(u=!1){Gc.push(si=u?null:[])}function Jw(){Gc.pop(),si=Gc[Gc.length-1]||null}let rh=1;function Ig(u){rh+=u}function Ob(u){return u.dynamicChildren=rh>0?si||hl:null,Jw(),rh>0&&si&&si.push(u),u}function qi(u,e,t,r,a,n){return Ob(fe(u,e,t,r,a,n,!0))}function Qw(u,e,t,r,a){return Ob(li(u,e,t,r,a,!0))}function t_(u){return u?u.__v_isVNode===!0:!1}function _c(u,e){return u.type===e.type&&u.key===e.key}const Pb=({key:u})=>u??null,Md=({ref:u,ref_key:e,ref_for:t})=>(typeof u=="number"&&(u=""+u),u!=null?Ar(u)||fn(u)||be(u)?{i:Fn,r:u,k:e,f:!!t}:u:null);function fe(u,e=null,t=null,r=0,a=null,n=u===Pi?0:1,i=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:u,props:e,key:e&&Pb(e),ref:e&&Md(e),scopeId:ub,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Fn};return o?(V0(l,t),n&128&&u.normalize(l)):t&&(l.shapeFlag|=Ar(t)?8:16),rh>0&&!i&&si&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&si.push(l),l}const li=e_;function e_(u,e=null,t=null,r=0,a=null,n=!1){if((!u||u===pw)&&(u=Fo),t_(u)){const o=dc(u,e,!0);return t&&V0(o,t),rh>0&&!n&&si&&(o.shapeFlag&6?si[si.indexOf(u)]=o:si.push(o)),o.patchFlag=-2,o}if(f_(u)&&(u=u.__vccOpts),e){e=r_(e);let{class:o,style:l}=e;o&&!Ar(o)&&(e.class=O0(o)),lr(l)&&(eb(l)&&!le(l)&&(l=Dr({},l)),e.style=R0(l))}const i=Ar(u)?1:mw(u)?128:Yw(u)?64:lr(u)?4:be(u)?2:0;return fe(u,e,t,r,a,i,n,!0)}function r_(u){return u?eb(u)||yb(u)?Dr({},u):u:null}function dc(u,e,t=!1,r=!1){const{props:a,ref:n,patchFlag:i,children:o,transition:l}=u,s=e?s_(a||{},e):a,c={__v_isVNode:!0,__v_skip:!0,type:u.type,props:s,key:s&&Pb(s),ref:e&&e.ref?t&&n?le(n)?n.concat(Md(e)):[n,Md(e)]:Md(e):n,scopeId:u.scopeId,slotScopeIds:u.slotScopeIds,children:o,target:u.target,targetAnchor:u.targetAnchor,staticCount:u.staticCount,shapeFlag:u.shapeFlag,patchFlag:e&&u.type!==Pi?i===-1?16:i|16:i,dynamicProps:u.dynamicProps,dynamicChildren:u.dynamicChildren,appContext:u.appContext,dirs:u.dirs,transition:l,component:u.component,suspense:u.suspense,ssContent:u.ssContent&&dc(u.ssContent),ssFallback:u.ssFallback&&dc(u.ssFallback),el:u.el,anchor:u.anchor,ctx:u.ctx,ce:u.ce};return l&&r&&Rb(c,l.clone(c)),c}function n_(u=" ",e=0){return li(Qf,null,u,e)}function i_(u="",e=!1){return e?(mi(),Qw(Fo,null,u)):li(Fo,null,u)}function Ii(u){return u==null||typeof u=="boolean"?li(Fo):le(u)?li(Pi,null,u.slice()):typeof u=="object"?Hs(u):li(Qf,null,String(u))}function Hs(u){return u.el===null&&u.patchFlag!==-1||u.memo?u:dc(u)}function V0(u,e){let t=0;const{shapeFlag:r}=u;if(e==null)e=null;else if(le(e))t=16;else if(typeof e=="object")if(r&65){const a=e.default;a&&(a._c&&(a._d=!1),V0(u,a()),a._c&&(a._d=!0));return}else{t=32;const a=e._;!a&&!yb(e)?e._ctx=Fn:a===3&&Fn&&(Fn.slots._===1?e._=1:(e._=2,u.patchFlag|=1024))}else be(e)?(e={default:e,_ctx:Fn},t=32):(e=String(e),r&64?(t=16,e=[n_(e)]):t=8);u.children=e,u.shapeFlag|=t}function s_(...u){const e={};for(let t=0;t<u.length;t++){const r=u[t];for(const a in r)if(a==="class")e.class!==r.class&&(e.class=O0([e.class,r.class]));else if(a==="style")e.style=R0([e.style,r.style]);else if(qf(a)){const n=e[a],i=r[a];i&&n!==i&&!(le(n)&&n.includes(i))&&(e[a]=n?[].concat(n,i):i)}else a!==""&&(e[a]=r[a])}return e}function fi(u,e,t,r=null){oi(u,e,7,[t,r])}const a_=mb();let o_=0;function l_(u,e,t){const r=u.type,a=(e?e.appContext:u.appContext)||a_,n={uid:o_++,vnode:u,type:r,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new T2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wb(r,a),emitsOptions:hb(r,a),emit:null,emitted:null,propsDefaults:nr,inheritAttrs:r.inheritAttrs,ctx:nr,data:nr,props:nr,attrs:nr,slots:nr,refs:nr,setupState:nr,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=e?e.root:n,n.emit=lw.bind(null,n),u.ce&&u.ce(n),n}let Yr=null,cf,Jp;{const u=B1(),e=(t,r)=>{let a;return(a=u[t])||(a=u[t]=[]),a.push(r),n=>{a.length>1?a.forEach(i=>i(n)):a[0](n)}};cf=e("__VUE_INSTANCE_SETTERS__",t=>Yr=t),Jp=e("__VUE_SSR_SETTERS__",t=>tp=t)}const Yu=u=>{const e=Yr;return cf(u),u.scope.on(),()=>{u.scope.off(),cf(e)}},Ng=()=>{Yr&&Yr.scope.off(),cf(null)};function Ib(u){return u.vnode.shapeFlag&4}let tp=!1;function c_(u,e=!1){e&&Jp(e);const{props:t,children:r}=u.vnode,a=Ib(u);Dw(u,t,a,e),Bw(u,r);const n=a?h_(u,e):void 0;return e&&Jp(!1),n}function h_(u,e){const t=u.type;u.accessCache=Object.create(null),u.proxy=new Proxy(u.ctx,Cw);const{setup:r}=t;if(r){const a=u.setupContext=r.length>1?d_(u):null,n=Yu(u);Sa();const i=fa(r,u,0,[u.props,a]);if(Aa(),n(),N1(i)){if(i.then(Ng,Ng),e)return i.then(o=>{Lg(u,o,e)}).catch(o=>{Zf(o,u,0)});u.asyncDep=i}else Lg(u,i,e)}else Nb(u,e)}function Lg(u,e,t){be(e)?u.type.__ssrInlineRender?u.ssrRender=e:u.render=e:lr(e)&&(u.setupState=sb(e)),Nb(u,t)}let Dg;function Nb(u,e,t){const r=u.type;if(!u.render){if(!e&&Dg&&!r.render){const a=r.template||U0(u).template;if(a){const{isCustomElement:n,compilerOptions:i}=u.appContext.config,{delimiters:o,compilerOptions:l}=r,s=Dr(Dr({isCustomElement:n,delimiters:o},i),l);r.render=Dg(a,s)}}u.render=r.render||jn}{const a=Yu(u);Sa();try{Tw(u)}finally{Aa(),a()}}}const u_={get(u,e){return dn(u,"get",""),u[e]}};function d_(u){const e=t=>{u.exposed=t||{}};return{attrs:new Proxy(u.attrs,u_),slots:u.slots,emit:u.emit,expose:e}}function ep(u){return u.exposed?u.exposeProxy||(u.exposeProxy=new Proxy(sb(Y2(u.exposed)),{get(e,t){if(t in e)return e[t];if(t in qc)return qc[t](u)},has(e,t){return t in e||t in qc}})):u.proxy}function f_(u){return be(u)&&"__vccOpts"in u}const p_=(u,e)=>J2(u,e,tp),m_="3.4.31";/**
* @vue/runtime-dom v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const g_="http://www.w3.org/2000/svg",b_="http://www.w3.org/1998/Math/MathML",Xi=typeof document<"u"?document:null,jg=Xi&&Xi.createElement("template"),y_={insert:(u,e,t)=>{e.insertBefore(u,t||null)},remove:u=>{const e=u.parentNode;e&&e.removeChild(u)},createElement:(u,e,t,r)=>{const a=e==="svg"?Xi.createElementNS(g_,u):e==="mathml"?Xi.createElementNS(b_,u):t?Xi.createElement(u,{is:t}):Xi.createElement(u);return u==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:u=>Xi.createTextNode(u),createComment:u=>Xi.createComment(u),setText:(u,e)=>{u.nodeValue=e},setElementText:(u,e)=>{u.textContent=e},parentNode:u=>u.parentNode,nextSibling:u=>u.nextSibling,querySelector:u=>Xi.querySelector(u),setScopeId(u,e){u.setAttribute(e,"")},insertStaticContent(u,e,t,r,a,n){const i=t?t.previousSibling:e.lastChild;if(a&&(a===n||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),t),!(a===n||!(a=a.nextSibling)););else{jg.innerHTML=r==="svg"?`<svg>${u}</svg>`:r==="mathml"?`<math>${u}</math>`:u;const o=jg.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,t)}return[i?i.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},v_=Symbol("_vtc");function w_(u,e,t){const r=u[v_];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?u.removeAttribute("class"):t?u.setAttribute("class",e):u.className=e}const Fg=Symbol("_vod"),__=Symbol("_vsh"),x_=Symbol(""),S_=/(^|;)\s*display\s*:/;function A_(u,e,t){const r=u.style,a=Ar(t);let n=!1;if(t&&!a){if(e)if(Ar(e))for(const i of e.split(";")){const o=i.slice(0,i.indexOf(":")).trim();t[o]==null&&Rd(r,o,"")}else for(const i in e)t[i]==null&&Rd(r,i,"");for(const i in t)i==="display"&&(n=!0),Rd(r,i,t[i])}else if(a){if(e!==t){const i=r[x_];i&&(t+=";"+i),r.cssText=t,n=S_.test(t)}}else e&&u.removeAttribute("style");Fg in u&&(u[Fg]=n?r.display:"",u[__]&&(r.display="none"))}const Bg=/\s*!important$/;function Rd(u,e,t){if(le(t))t.forEach(r=>Rd(u,e,r));else if(t==null&&(t=""),e.startsWith("--"))u.setProperty(e,t);else{const r=k_(u,e);Bg.test(t)?u.setProperty(bc(r),t.replace(Bg,""),"important"):u[r]=t}}const zg=["Webkit","Moz","ms"],Cp={};function k_(u,e){const t=Cp[e];if(t)return t;let r=uc(e);if(r!=="filter"&&r in u)return Cp[e]=r;r=j1(r);for(let a=0;a<zg.length;a++){const n=zg[a]+r;if(n in u)return Cp[e]=n}return e}const Hg="http://www.w3.org/1999/xlink";function Ug(u,e,t,r,a,n=C2(e)){r&&e.startsWith("xlink:")?t==null?u.removeAttributeNS(Hg,e.slice(6,e.length)):u.setAttributeNS(Hg,e,t):t==null||n&&!z1(t)?u.removeAttribute(e):u.setAttribute(e,n?"":xa(t)?String(t):t)}function E_(u,e,t,r,a,n,i){if(e==="innerHTML"||e==="textContent"){r&&i(r,a,n),u[e]=t??"";return}const o=u.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const s=o==="OPTION"?u.getAttribute("value")||"":u.value,c=t==null?"":String(t);(s!==c||!("_value"in u))&&(u.value=c),t==null&&u.removeAttribute(e),u._value=t;return}let l=!1;if(t===""||t==null){const s=typeof u[e];s==="boolean"?t=z1(t):t==null&&s==="string"?(t="",l=!0):s==="number"&&(t=0,l=!0)}try{u[e]=t}catch{}l&&u.removeAttribute(e)}function tl(u,e,t,r){u.addEventListener(e,t,r)}function C_(u,e,t,r){u.removeEventListener(e,t,r)}const $g=Symbol("_vei");function T_(u,e,t,r,a=null){const n=u[$g]||(u[$g]={}),i=n[e];if(r&&i)i.value=r;else{const[o,l]=M_(e);if(r){const s=n[e]=P_(r,a);tl(u,o,s,l)}else i&&(C_(u,o,i,l),n[e]=void 0)}}const Vg=/(?:Once|Passive|Capture)$/;function M_(u){let e;if(Vg.test(u)){e={};let r;for(;r=u.match(Vg);)u=u.slice(0,u.length-r[0].length),e[r[0].toLowerCase()]=!0}return[u[2]===":"?u.slice(3):bc(u.slice(2)),e]}let Tp=0;const R_=Promise.resolve(),O_=()=>Tp||(R_.then(()=>Tp=0),Tp=Date.now());function P_(u,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;oi(I_(r,t.value),e,5,[r])};return t.value=u,t.attached=O_(),t}function I_(u,e){if(le(e)){const t=u.stopImmediatePropagation;return u.stopImmediatePropagation=()=>{t.call(u),u._stopped=!0},e.map(r=>a=>!a._stopped&&r&&r(a))}else return e}const Wg=u=>u.charCodeAt(0)===111&&u.charCodeAt(1)===110&&u.charCodeAt(2)>96&&u.charCodeAt(2)<123,N_=(u,e,t,r,a,n,i,o,l)=>{const s=a==="svg";e==="class"?w_(u,r,s):e==="style"?A_(u,t,r):qf(e)?C0(e)||T_(u,e,t,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):L_(u,e,r,s))?(E_(u,e,r,n,i,o,l),!u.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ug(u,e,r,s,i,e!=="value")):(e==="true-value"?u._trueValue=r:e==="false-value"&&(u._falseValue=r),Ug(u,e,r,s))};function L_(u,e,t,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in u&&Wg(e)&&be(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&u.tagName==="INPUT"||e==="type"&&u.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const a=u.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Wg(e)&&Ar(t)?!1:e in u}const qg=u=>{const e=u.props["onUpdate:modelValue"]||!1;return le(e)?t=>kd(e,t):e};function D_(u){u.target.composing=!0}function Xg(u){const e=u.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Mp=Symbol("_assign"),j_={created(u,{modifiers:{lazy:e,trim:t,number:r}},a){u[Mp]=qg(a);const n=r||a.props&&a.props.type==="number";tl(u,e?"change":"input",i=>{if(i.target.composing)return;let o=u.value;t&&(o=o.trim()),n&&(o=Hp(o)),u[Mp](o)}),t&&tl(u,"change",()=>{u.value=u.value.trim()}),e||(tl(u,"compositionstart",D_),tl(u,"compositionend",Xg),tl(u,"change",Xg))},mounted(u,{value:e}){u.value=e??""},beforeUpdate(u,{value:e,oldValue:t,modifiers:{lazy:r,trim:a,number:n}},i){if(u[Mp]=qg(i),u.composing)return;const o=(n||u.type==="number")&&!/^0\d/.test(u.value)?Hp(u.value):u.value,l=e??"";o!==l&&(document.activeElement===u&&u.type!=="range"&&(r&&e===t||a&&u.value.trim()===l)||(u.value=l))}},F_=["ctrl","shift","alt","meta"],B_={stop:u=>u.stopPropagation(),prevent:u=>u.preventDefault(),self:u=>u.target!==u.currentTarget,ctrl:u=>!u.ctrlKey,shift:u=>!u.shiftKey,alt:u=>!u.altKey,meta:u=>!u.metaKey,left:u=>"button"in u&&u.button!==0,middle:u=>"button"in u&&u.button!==1,right:u=>"button"in u&&u.button!==2,exact:(u,e)=>F_.some(t=>u[`${t}Key`]&&!e.includes(t))},z_=(u,e)=>{const t=u._withMods||(u._withMods={}),r=e.join(".");return t[r]||(t[r]=(a,...n)=>{for(let i=0;i<e.length;i++){const o=B_[e[i]];if(o&&o(a,e))return}return u(a,...n)})},H_=Dr({patchProp:N_},y_);let Gg;function U_(){return Gg||(Gg=Hw(H_))}const $_=(...u)=>{const e=U_().createApp(...u),{mount:t}=e;return e.mount=r=>{const a=W_(r);if(!a)return;const n=e._component;!be(n)&&!n.render&&!n.template&&(n.template=a.innerHTML),a.innerHTML="";const i=t(a,!1,V_(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),i},e};function V_(u){if(u instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&u instanceof MathMLElement)return"mathml"}function W_(u){return Ar(u)?document.querySelector(u):u}const q_={class:"flex justify-center items-center h-screen"},X_={__name:"UploadButton",emits:["file-uploaded"],setup(u,{emit:e}){const t=Na(null),r=e,a=()=>{t.value.click()},n=i=>{const o=i.target.files[0];o&&r("file-uploaded",o)};return(i,o)=>(mi(),qi("div",q_,[fe("button",{onClick:a,class:"bg-black hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"}," Upload Scan "),fe("input",{type:"file",ref_key:"fileInput",ref:t,onChange:n,class:"hidden",accept:"[image/*, application/pdf]"},null,544)]))}},G_=fe("label",{for:"apiKey",class:"block text-sm font-medium text-black mb-2"},"OpenAI API Key",-1),K_={__name:"KeyInput",emits:["save-api-key"],setup(u,{emit:e}){const t=Na(""),r=e;db(()=>{t.value=localStorage.getItem("openaiApiKey")||""});const a=()=>{r("save-api-key",t.value)};return(n,i)=>(mi(),qi("div",null,[G_,kw(fe("input",{type:"text",id:"apiKey","onUpdate:modelValue":i[0]||(i[0]=o=>t.value=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-black mb-4",placeholder:"Voer hier in..."},null,512),[[j_,t.value]]),fe("button",{onClick:a,class:"bg-black text-white px-4 py-2 rounded hover:bg-gray-700 font-bold"}," Opslaan ")]))}};var Me;(function(u){u.assertEqual=a=>a;function e(a){}u.assertIs=e;function t(a){throw new Error}u.assertNever=t,u.arrayToEnum=a=>{const n={};for(const i of a)n[i]=i;return n},u.getValidEnumValues=a=>{const n=u.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),i={};for(const o of n)i[o]=a[o];return u.objectValues(i)},u.objectValues=a=>u.objectKeys(a).map(function(n){return a[n]}),u.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const n=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&n.push(i);return n},u.find=(a,n)=>{for(const i of a)if(n(i))return i},u.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,n=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(n)}u.joinValues=r,u.jsonStringifyReplacer=(a,n)=>typeof n=="bigint"?n.toString():n})(Me||(Me={}));var Qp;(function(u){u.mergeShapes=(e,t)=>({...e,...t})})(Qp||(Qp={}));const zt=Me.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$s=u=>{switch(typeof u){case"undefined":return zt.undefined;case"string":return zt.string;case"number":return isNaN(u)?zt.nan:zt.number;case"boolean":return zt.boolean;case"function":return zt.function;case"bigint":return zt.bigint;case"symbol":return zt.symbol;case"object":return Array.isArray(u)?zt.array:u===null?zt.null:u.then&&typeof u.then=="function"&&u.catch&&typeof u.catch=="function"?zt.promise:typeof Map<"u"&&u instanceof Map?zt.map:typeof Set<"u"&&u instanceof Set?zt.set:typeof Date<"u"&&u instanceof Date?zt.date:zt.object;default:return zt.unknown}},At=Me.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Z_=u=>JSON.stringify(u,null,2).replace(/"([^"]+)":/g,"$1:");class Tn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(n){return n.message},r={_errors:[]},a=n=>{for(const i of n.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)r._errors.push(t(i));else{let o=r,l=0;for(;l<i.path.length;){const s=i.path[l];l===i.path.length-1?(o[s]=o[s]||{_errors:[]},o[s]._errors.push(t(i))):o[s]=o[s]||{_errors:[]},o=o[s],l++}}};return a(this),r}static assert(e){if(!(e instanceof Tn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Me.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Tn.create=u=>new Tn(u);const fc=(u,e)=>{let t;switch(u.code){case At.invalid_type:u.received===zt.undefined?t="Required":t=`Expected ${u.expected}, received ${u.received}`;break;case At.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(u.expected,Me.jsonStringifyReplacer)}`;break;case At.unrecognized_keys:t=`Unrecognized key(s) in object: ${Me.joinValues(u.keys,", ")}`;break;case At.invalid_union:t="Invalid input";break;case At.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Me.joinValues(u.options)}`;break;case At.invalid_enum_value:t=`Invalid enum value. Expected ${Me.joinValues(u.options)}, received '${u.received}'`;break;case At.invalid_arguments:t="Invalid function arguments";break;case At.invalid_return_type:t="Invalid function return type";break;case At.invalid_date:t="Invalid date";break;case At.invalid_string:typeof u.validation=="object"?"includes"in u.validation?(t=`Invalid input: must include "${u.validation.includes}"`,typeof u.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${u.validation.position}`)):"startsWith"in u.validation?t=`Invalid input: must start with "${u.validation.startsWith}"`:"endsWith"in u.validation?t=`Invalid input: must end with "${u.validation.endsWith}"`:Me.assertNever(u.validation):u.validation!=="regex"?t=`Invalid ${u.validation}`:t="Invalid";break;case At.too_small:u.type==="array"?t=`Array must contain ${u.exact?"exactly":u.inclusive?"at least":"more than"} ${u.minimum} element(s)`:u.type==="string"?t=`String must contain ${u.exact?"exactly":u.inclusive?"at least":"over"} ${u.minimum} character(s)`:u.type==="number"?t=`Number must be ${u.exact?"exactly equal to ":u.inclusive?"greater than or equal to ":"greater than "}${u.minimum}`:u.type==="date"?t=`Date must be ${u.exact?"exactly equal to ":u.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(u.minimum))}`:t="Invalid input";break;case At.too_big:u.type==="array"?t=`Array must contain ${u.exact?"exactly":u.inclusive?"at most":"less than"} ${u.maximum} element(s)`:u.type==="string"?t=`String must contain ${u.exact?"exactly":u.inclusive?"at most":"under"} ${u.maximum} character(s)`:u.type==="number"?t=`Number must be ${u.exact?"exactly":u.inclusive?"less than or equal to":"less than"} ${u.maximum}`:u.type==="bigint"?t=`BigInt must be ${u.exact?"exactly":u.inclusive?"less than or equal to":"less than"} ${u.maximum}`:u.type==="date"?t=`Date must be ${u.exact?"exactly":u.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(u.maximum))}`:t="Invalid input";break;case At.custom:t="Invalid input";break;case At.invalid_intersection_types:t="Intersection results could not be merged";break;case At.not_multiple_of:t=`Number must be a multiple of ${u.multipleOf}`;break;case At.not_finite:t="Number must be finite";break;default:t=e.defaultError,Me.assertNever(u)}return{message:t}};let Lb=fc;function Y_(u){Lb=u}function hf(){return Lb}const uf=u=>{const{data:e,path:t,errorMaps:r,issueData:a}=u,n=[...t,...a.path||[]],i={...a,path:n};if(a.message!==void 0)return{...a,path:n,message:a.message};let o="";const l=r.filter(s=>!!s).slice().reverse();for(const s of l)o=s(i,{data:e,defaultError:o}).message;return{...a,path:n,message:o}},J_=[];function Ft(u,e){const t=hf(),r=uf({issueData:e,data:u.data,path:u.path,errorMaps:[u.common.contextualErrorMap,u.schemaErrorMap,t,t===fc?void 0:fc].filter(a=>!!a)});u.common.issues.push(r)}class Vr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const a of t){if(a.status==="aborted")return re;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const a of t){const n=await a.key,i=await a.value;r.push({key:n,value:i})}return Vr.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const a of t){const{key:n,value:i}=a;if(n.status==="aborted"||i.status==="aborted")return re;n.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(r[n.value]=i.value)}return{status:e.value,value:r}}}const re=Object.freeze({status:"aborted"}),ll=u=>({status:"dirty",value:u}),tn=u=>({status:"valid",value:u}),tm=u=>u.status==="aborted",em=u=>u.status==="dirty",nh=u=>u.status==="valid",ih=u=>typeof Promise<"u"&&u instanceof Promise;function df(u,e,t,r){if(typeof e=="function"?u!==e||!r:!e.has(u))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(u)}function Db(u,e,t,r,a){if(typeof e=="function"?u!==e||!a:!e.has(u))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(u,t),t}var qt;(function(u){u.errToObj=e=>typeof e=="string"?{message:e}:e||{},u.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(qt||(qt={}));var Cc,Tc;class Fi{constructor(e,t,r,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Kg=(u,e)=>{if(nh(e))return{success:!0,data:e.value};if(!u.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Tn(u.common.issues);return this._error=t,this._error}}};function de(u){if(!u)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:a}=u;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(i,o)=>{var l,s;const{message:c}=u;return i.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:(l=c??r)!==null&&l!==void 0?l:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(s=c??t)!==null&&s!==void 0?s:o.defaultError}},description:a}}class ye{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return $s(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:$s(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Vr,ctx:{common:e.parent.common,data:e.data,parsedType:$s(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(ih(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const a={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$s(e)},n=this._parseSync({data:e,path:a.path,parent:a});return Kg(a,n)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$s(e)},a=this._parse({data:e,path:r.path,parent:r}),n=await(ih(a)?a:Promise.resolve(a));return Kg(r,n)}refine(e,t){const r=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,n)=>{const i=e(a),o=()=>n.addIssue({code:At.custom,...r(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,t){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof t=="function"?t(r,a):t),!1))}_refinement(e){return new ui({schema:this,typeName:kt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Li.create(this,this._def)}nullable(){return ya.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ci.create(this,this._def)}promise(){return mc.create(this,this._def)}or(e){return lh.create([this,e],this._def)}and(e){return ch.create(this,e,this._def)}transform(e){return new ui({...de(this._def),schema:this,typeName:kt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new ph({...de(this._def),innerType:this,defaultValue:t,typeName:kt.ZodDefault})}brand(){return new W0({typeName:kt.ZodBranded,type:this,...de(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new mh({...de(this._def),innerType:this,catchValue:t,typeName:kt.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Ju.create(this,e)}readonly(){return gh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Q_=/^c[^\s-]{8,}$/i,t3=/^[0-9a-z]+$/,e3=/^[0-9A-HJKMNP-TV-Z]{26}$/,r3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,n3=/^[a-z0-9_-]{21}$/i,i3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,s3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,a3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Rp;const o3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,l3=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,c3=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",h3=new RegExp(`^${jb}$`);function Fb(u){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return u.precision?e=`${e}\\.\\d{${u.precision}}`:u.precision==null&&(e=`${e}(\\.\\d+)?`),e}function u3(u){return new RegExp(`^${Fb(u)}$`)}function Bb(u){let e=`${jb}T${Fb(u)}`;const t=[];return t.push(u.local?"Z?":"Z"),u.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function d3(u,e){return!!((e==="v4"||!e)&&o3.test(u)||(e==="v6"||!e)&&l3.test(u))}class ai extends ye{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==zt.string){const n=this._getOrReturnCtx(e);return Ft(n,{code:At.invalid_type,expected:zt.string,received:n.parsedType}),re}const r=new Vr;let a;for(const n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(a=this._getOrReturnCtx(e,a),Ft(a,{code:At.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="max")e.data.length>n.value&&(a=this._getOrReturnCtx(e,a),Ft(a,{code:At.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="length"){const i=e.data.length>n.value,o=e.data.length<n.value;(i||o)&&(a=this._getOrReturnCtx(e,a),i?Ft(a,{code:At.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):o&&Ft(a,{code:At.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),r.dirty())}else if(n.kind==="email")s3.test(e.data)||(a=this._getOrReturnCtx(e,a),Ft(a,{validation:"email",code:At.invalid_string,message:n.message}),r.dirty());else if(n.kind==="emoji")Rp||(Rp=new RegExp(a3,"u")),Rp.test(e.data)||(a=this._getOrReturnCtx(e,a),Ft(a,{validation:"emoji",code:At.invalid_string,message:n.message}),r.dirty());else if(n.kind==="uuid")r3.test(e.data)||(a=this._getOrReturnCtx(e,a),Ft(a,{validation:"uuid",code:At.invalid_string,message:n.message}),r.dirty());else if(n.kind==="nanoid")n3.test(e.data)||(a=this._getOrReturnCtx(e,a),Ft(a,{validation:"nanoid",code:At.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid")Q_.test(e.data)||(a=this._getOrReturnCtx(e,a),Ft(a,{validation:"cuid",code:At.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid2")t3.test(e.data)||(a=this._getOrReturnCtx(e,a),Ft(a,{validation:"cuid2",code:At.invalid_string,message:n.message}),r.dirty());else if(n.kind==="ulid")e3.test(e.data)||(a=this._getOrReturnCtx(e,a),Ft(a,{validation:"ulid",code:At.invalid_string,message:n.message}),r.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Ft(a,{validation:"url",code:At.invalid_string,message:n.message}),r.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Ft(a,{validation:"regex",code:At.invalid_string,message:n.message}),r.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(a=this._getOrReturnCtx(e,a),Ft(a,{code:At.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),r.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(a=this._getOrReturnCtx(e,a),Ft(a,{code:At.invalid_string,validation:{startsWith:n.value},message:n.message}),r.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(a=this._getOrReturnCtx(e,a),Ft(a,{code:At.invalid_string,validation:{endsWith:n.value},message:n.message}),r.dirty()):n.kind==="datetime"?Bb(n).test(e.data)||(a=this._getOrReturnCtx(e,a),Ft(a,{code:At.invalid_string,validation:"datetime",message:n.message}),r.dirty()):n.kind==="date"?h3.test(e.data)||(a=this._getOrReturnCtx(e,a),Ft(a,{code:At.invalid_string,validation:"date",message:n.message}),r.dirty()):n.kind==="time"?u3(n).test(e.data)||(a=this._getOrReturnCtx(e,a),Ft(a,{code:At.invalid_string,validation:"time",message:n.message}),r.dirty()):n.kind==="duration"?i3.test(e.data)||(a=this._getOrReturnCtx(e,a),Ft(a,{validation:"duration",code:At.invalid_string,message:n.message}),r.dirty()):n.kind==="ip"?d3(e.data,n.version)||(a=this._getOrReturnCtx(e,a),Ft(a,{validation:"ip",code:At.invalid_string,message:n.message}),r.dirty()):n.kind==="base64"?c3.test(e.data)||(a=this._getOrReturnCtx(e,a),Ft(a,{validation:"base64",code:At.invalid_string,message:n.message}),r.dirty()):Me.assertNever(n);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(a=>e.test(a),{validation:t,code:At.invalid_string,...qt.errToObj(r)})}_addCheck(e){return new ai({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...qt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...qt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...qt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...qt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...qt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...qt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...qt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...qt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...qt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...qt.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...qt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...qt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...qt.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...qt.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...qt.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...qt.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...qt.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...qt.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...qt.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...qt.errToObj(t)})}nonempty(e){return this.min(1,qt.errToObj(e))}trim(){return new ai({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ai({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ai({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ai.create=u=>{var e;return new ai({checks:[],typeName:kt.ZodString,coerce:(e=u==null?void 0:u.coerce)!==null&&e!==void 0?e:!1,...de(u)})};function f3(u,e){const t=(u.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=t>r?t:r,n=parseInt(u.toFixed(a).replace(".","")),i=parseInt(e.toFixed(a).replace(".",""));return n%i/Math.pow(10,a)}class ma extends ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==zt.number){const n=this._getOrReturnCtx(e);return Ft(n,{code:At.invalid_type,expected:zt.number,received:n.parsedType}),re}let r;const a=new Vr;for(const n of this._def.checks)n.kind==="int"?Me.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ft(r,{code:At.invalid_type,expected:"integer",received:"float",message:n.message}),a.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(r=this._getOrReturnCtx(e,r),Ft(r,{code:At.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(r=this._getOrReturnCtx(e,r),Ft(r,{code:At.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="multipleOf"?f3(e.data,n.value)!==0&&(r=this._getOrReturnCtx(e,r),Ft(r,{code:At.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ft(r,{code:At.not_finite,message:n.message}),a.dirty()):Me.assertNever(n);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,qt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,qt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,qt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,qt.toString(t))}setLimit(e,t,r,a){return new ma({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:qt.toString(a)}]})}_addCheck(e){return new ma({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:qt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:qt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:qt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:qt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:qt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:qt.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:qt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:qt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:qt.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Me.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ma.create=u=>new ma({checks:[],typeName:kt.ZodNumber,coerce:(u==null?void 0:u.coerce)||!1,...de(u)});class ga extends ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==zt.bigint){const n=this._getOrReturnCtx(e);return Ft(n,{code:At.invalid_type,expected:zt.bigint,received:n.parsedType}),re}let r;const a=new Vr;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(r=this._getOrReturnCtx(e,r),Ft(r,{code:At.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(r=this._getOrReturnCtx(e,r),Ft(r,{code:At.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ft(r,{code:At.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):Me.assertNever(n);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,qt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,qt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,qt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,qt.toString(t))}setLimit(e,t,r,a){return new ga({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:qt.toString(a)}]})}_addCheck(e){return new ga({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:qt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:qt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:qt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:qt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:qt.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ga.create=u=>{var e;return new ga({checks:[],typeName:kt.ZodBigInt,coerce:(e=u==null?void 0:u.coerce)!==null&&e!==void 0?e:!1,...de(u)})};class sh extends ye{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==zt.boolean){const r=this._getOrReturnCtx(e);return Ft(r,{code:At.invalid_type,expected:zt.boolean,received:r.parsedType}),re}return tn(e.data)}}sh.create=u=>new sh({typeName:kt.ZodBoolean,coerce:(u==null?void 0:u.coerce)||!1,...de(u)});class Bo extends ye{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==zt.date){const n=this._getOrReturnCtx(e);return Ft(n,{code:At.invalid_type,expected:zt.date,received:n.parsedType}),re}if(isNaN(e.data.getTime())){const n=this._getOrReturnCtx(e);return Ft(n,{code:At.invalid_date}),re}const r=new Vr;let a;for(const n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(a=this._getOrReturnCtx(e,a),Ft(a,{code:At.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(a=this._getOrReturnCtx(e,a),Ft(a,{code:At.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):Me.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Bo({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:qt.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:qt.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Bo.create=u=>new Bo({checks:[],coerce:(u==null?void 0:u.coerce)||!1,typeName:kt.ZodDate,...de(u)});class ff extends ye{_parse(e){if(this._getType(e)!==zt.symbol){const r=this._getOrReturnCtx(e);return Ft(r,{code:At.invalid_type,expected:zt.symbol,received:r.parsedType}),re}return tn(e.data)}}ff.create=u=>new ff({typeName:kt.ZodSymbol,...de(u)});class ah extends ye{_parse(e){if(this._getType(e)!==zt.undefined){const r=this._getOrReturnCtx(e);return Ft(r,{code:At.invalid_type,expected:zt.undefined,received:r.parsedType}),re}return tn(e.data)}}ah.create=u=>new ah({typeName:kt.ZodUndefined,...de(u)});class oh extends ye{_parse(e){if(this._getType(e)!==zt.null){const r=this._getOrReturnCtx(e);return Ft(r,{code:At.invalid_type,expected:zt.null,received:r.parsedType}),re}return tn(e.data)}}oh.create=u=>new oh({typeName:kt.ZodNull,...de(u)});class pc extends ye{constructor(){super(...arguments),this._any=!0}_parse(e){return tn(e.data)}}pc.create=u=>new pc({typeName:kt.ZodAny,...de(u)});class Do extends ye{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tn(e.data)}}Do.create=u=>new Do({typeName:kt.ZodUnknown,...de(u)});class Cs extends ye{_parse(e){const t=this._getOrReturnCtx(e);return Ft(t,{code:At.invalid_type,expected:zt.never,received:t.parsedType}),re}}Cs.create=u=>new Cs({typeName:kt.ZodNever,...de(u)});class pf extends ye{_parse(e){if(this._getType(e)!==zt.undefined){const r=this._getOrReturnCtx(e);return Ft(r,{code:At.invalid_type,expected:zt.void,received:r.parsedType}),re}return tn(e.data)}}pf.create=u=>new pf({typeName:kt.ZodVoid,...de(u)});class ci extends ye{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),a=this._def;if(t.parsedType!==zt.array)return Ft(t,{code:At.invalid_type,expected:zt.array,received:t.parsedType}),re;if(a.exactLength!==null){const i=t.data.length>a.exactLength.value,o=t.data.length<a.exactLength.value;(i||o)&&(Ft(t,{code:i?At.too_big:At.too_small,minimum:o?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(Ft(t,{code:At.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(Ft(t,{code:At.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((i,o)=>a.type._parseAsync(new Fi(t,i,t.path,o)))).then(i=>Vr.mergeArray(r,i));const n=[...t.data].map((i,o)=>a.type._parseSync(new Fi(t,i,t.path,o)));return Vr.mergeArray(r,n)}get element(){return this._def.type}min(e,t){return new ci({...this._def,minLength:{value:e,message:qt.toString(t)}})}max(e,t){return new ci({...this._def,maxLength:{value:e,message:qt.toString(t)}})}length(e,t){return new ci({...this._def,exactLength:{value:e,message:qt.toString(t)}})}nonempty(e){return this.min(1,e)}}ci.create=(u,e)=>new ci({type:u,minLength:null,maxLength:null,exactLength:null,typeName:kt.ZodArray,...de(e)});function el(u){if(u instanceof or){const e={};for(const t in u.shape){const r=u.shape[t];e[t]=Li.create(el(r))}return new or({...u._def,shape:()=>e})}else return u instanceof ci?new ci({...u._def,type:el(u.element)}):u instanceof Li?Li.create(el(u.unwrap())):u instanceof ya?ya.create(el(u.unwrap())):u instanceof Bi?Bi.create(u.items.map(e=>el(e))):u}class or extends ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Me.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==zt.object){const s=this._getOrReturnCtx(e);return Ft(s,{code:At.invalid_type,expected:zt.object,received:s.parsedType}),re}const{status:r,ctx:a}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof Cs&&this._def.unknownKeys==="strip"))for(const s in a.data)i.includes(s)||o.push(s);const l=[];for(const s of i){const c=n[s],f=a.data[s];l.push({key:{status:"valid",value:s},value:c._parse(new Fi(a,f,a.path,s)),alwaysSet:s in a.data})}if(this._def.catchall instanceof Cs){const s=this._def.unknownKeys;if(s==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:a.data[c]}});else if(s==="strict")o.length>0&&(Ft(a,{code:At.unrecognized_keys,keys:o}),r.dirty());else if(s!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const s=this._def.catchall;for(const c of o){const f=a.data[c];l.push({key:{status:"valid",value:c},value:s._parse(new Fi(a,f,a.path,c)),alwaysSet:c in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const s=[];for(const c of l){const f=await c.key,h=await c.value;s.push({key:f,value:h,alwaysSet:c.alwaysSet})}return s}).then(s=>Vr.mergeObjectSync(r,s)):Vr.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return qt.errToObj,new or({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var a,n,i,o;const l=(i=(n=(a=this._def).errorMap)===null||n===void 0?void 0:n.call(a,t,r).message)!==null&&i!==void 0?i:r.defaultError;return t.code==="unrecognized_keys"?{message:(o=qt.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new or({...this._def,unknownKeys:"strip"})}passthrough(){return new or({...this._def,unknownKeys:"passthrough"})}extend(e){return new or({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new or({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:kt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new or({...this._def,catchall:e})}pick(e){const t={};return Me.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new or({...this._def,shape:()=>t})}omit(e){const t={};return Me.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new or({...this._def,shape:()=>t})}deepPartial(){return el(this)}partial(e){const t={};return Me.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];e&&!e[r]?t[r]=a:t[r]=a.optional()}),new or({...this._def,shape:()=>t})}required(e){const t={};return Me.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let n=this.shape[r];for(;n instanceof Li;)n=n._def.innerType;t[r]=n}}),new or({...this._def,shape:()=>t})}keyof(){return zb(Me.objectKeys(this.shape))}}or.create=(u,e)=>new or({shape:()=>u,unknownKeys:"strip",catchall:Cs.create(),typeName:kt.ZodObject,...de(e)});or.strictCreate=(u,e)=>new or({shape:()=>u,unknownKeys:"strict",catchall:Cs.create(),typeName:kt.ZodObject,...de(e)});or.lazycreate=(u,e)=>new or({shape:u,unknownKeys:"strip",catchall:Cs.create(),typeName:kt.ZodObject,...de(e)});class lh extends ye{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function a(n){for(const o of n)if(o.result.status==="valid")return o.result;for(const o of n)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const i=n.map(o=>new Tn(o.ctx.common.issues));return Ft(t,{code:At.invalid_union,unionErrors:i}),re}if(t.common.async)return Promise.all(r.map(async n=>{const i={...t,common:{...t.common,issues:[]},parent:null};return{result:await n._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(a);{let n;const i=[];for(const l of r){const s={...t,common:{...t.common,issues:[]},parent:null},c=l._parseSync({data:t.data,path:t.path,parent:s});if(c.status==="valid")return c;c.status==="dirty"&&!n&&(n={result:c,ctx:s}),s.common.issues.length&&i.push(s.common.issues)}if(n)return t.common.issues.push(...n.ctx.common.issues),n.result;const o=i.map(l=>new Tn(l));return Ft(t,{code:At.invalid_union,unionErrors:o}),re}}get options(){return this._def.options}}lh.create=(u,e)=>new lh({options:u,typeName:kt.ZodUnion,...de(e)});const Vi=u=>u instanceof uh?Vi(u.schema):u instanceof ui?Vi(u.innerType()):u instanceof dh?[u.value]:u instanceof ba?u.options:u instanceof fh?Me.objectValues(u.enum):u instanceof ph?Vi(u._def.innerType):u instanceof ah?[void 0]:u instanceof oh?[null]:u instanceof Li?[void 0,...Vi(u.unwrap())]:u instanceof ya?[null,...Vi(u.unwrap())]:u instanceof W0||u instanceof gh?Vi(u.unwrap()):u instanceof mh?Vi(u._def.innerType):[];class rp extends ye{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==zt.object)return Ft(t,{code:At.invalid_type,expected:zt.object,received:t.parsedType}),re;const r=this.discriminator,a=t.data[r],n=this.optionsMap.get(a);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(Ft(t,{code:At.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),re)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const a=new Map;for(const n of t){const i=Vi(n.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(a.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);a.set(o,n)}}return new rp({typeName:kt.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...de(r)})}}function rm(u,e){const t=$s(u),r=$s(e);if(u===e)return{valid:!0,data:u};if(t===zt.object&&r===zt.object){const a=Me.objectKeys(e),n=Me.objectKeys(u).filter(o=>a.indexOf(o)!==-1),i={...u,...e};for(const o of n){const l=rm(u[o],e[o]);if(!l.valid)return{valid:!1};i[o]=l.data}return{valid:!0,data:i}}else if(t===zt.array&&r===zt.array){if(u.length!==e.length)return{valid:!1};const a=[];for(let n=0;n<u.length;n++){const i=u[n],o=e[n],l=rm(i,o);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return t===zt.date&&r===zt.date&&+u==+e?{valid:!0,data:u}:{valid:!1}}class ch extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),a=(n,i)=>{if(tm(n)||tm(i))return re;const o=rm(n.value,i.value);return o.valid?((em(n)||em(i))&&t.dirty(),{status:t.value,value:o.data}):(Ft(r,{code:At.invalid_intersection_types}),re)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([n,i])=>a(n,i)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ch.create=(u,e,t)=>new ch({left:u,right:e,typeName:kt.ZodIntersection,...de(t)});class Bi extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==zt.array)return Ft(r,{code:At.invalid_type,expected:zt.array,received:r.parsedType}),re;if(r.data.length<this._def.items.length)return Ft(r,{code:At.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),re;!this._def.rest&&r.data.length>this._def.items.length&&(Ft(r,{code:At.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const n=[...r.data].map((i,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Fi(r,i,r.path,o)):null}).filter(i=>!!i);return r.common.async?Promise.all(n).then(i=>Vr.mergeArray(t,i)):Vr.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new Bi({...this._def,rest:e})}}Bi.create=(u,e)=>{if(!Array.isArray(u))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bi({items:u,typeName:kt.ZodTuple,rest:null,...de(e)})};class hh extends ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==zt.object)return Ft(r,{code:At.invalid_type,expected:zt.object,received:r.parsedType}),re;const a=[],n=this._def.keyType,i=this._def.valueType;for(const o in r.data)a.push({key:n._parse(new Fi(r,o,r.path,o)),value:i._parse(new Fi(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Vr.mergeObjectAsync(t,a):Vr.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof ye?new hh({keyType:e,valueType:t,typeName:kt.ZodRecord,...de(r)}):new hh({keyType:ai.create(),valueType:e,typeName:kt.ZodRecord,...de(t)})}}class mf extends ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==zt.map)return Ft(r,{code:At.invalid_type,expected:zt.map,received:r.parsedType}),re;const a=this._def.keyType,n=this._def.valueType,i=[...r.data.entries()].map(([o,l],s)=>({key:a._parse(new Fi(r,o,r.path,[s,"key"])),value:n._parse(new Fi(r,l,r.path,[s,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of i){const s=await l.key,c=await l.value;if(s.status==="aborted"||c.status==="aborted")return re;(s.status==="dirty"||c.status==="dirty")&&t.dirty(),o.set(s.value,c.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const l of i){const s=l.key,c=l.value;if(s.status==="aborted"||c.status==="aborted")return re;(s.status==="dirty"||c.status==="dirty")&&t.dirty(),o.set(s.value,c.value)}return{status:t.value,value:o}}}}mf.create=(u,e,t)=>new mf({valueType:e,keyType:u,typeName:kt.ZodMap,...de(t)});class zo extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==zt.set)return Ft(r,{code:At.invalid_type,expected:zt.set,received:r.parsedType}),re;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(Ft(r,{code:At.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(Ft(r,{code:At.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const n=this._def.valueType;function i(l){const s=new Set;for(const c of l){if(c.status==="aborted")return re;c.status==="dirty"&&t.dirty(),s.add(c.value)}return{status:t.value,value:s}}const o=[...r.data.values()].map((l,s)=>n._parse(new Fi(r,l,r.path,s)));return r.common.async?Promise.all(o).then(l=>i(l)):i(o)}min(e,t){return new zo({...this._def,minSize:{value:e,message:qt.toString(t)}})}max(e,t){return new zo({...this._def,maxSize:{value:e,message:qt.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}zo.create=(u,e)=>new zo({valueType:u,minSize:null,maxSize:null,typeName:kt.ZodSet,...de(e)});class fl extends ye{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==zt.function)return Ft(t,{code:At.invalid_type,expected:zt.function,received:t.parsedType}),re;function r(o,l){return uf({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,hf(),fc].filter(s=>!!s),issueData:{code:At.invalid_arguments,argumentsError:l}})}function a(o,l){return uf({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,hf(),fc].filter(s=>!!s),issueData:{code:At.invalid_return_type,returnTypeError:l}})}const n={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof mc){const o=this;return tn(async function(...l){const s=new Tn([]),c=await o._def.args.parseAsync(l,n).catch(d=>{throw s.addIssue(r(l,d)),s}),f=await Reflect.apply(i,this,c);return await o._def.returns._def.type.parseAsync(f,n).catch(d=>{throw s.addIssue(a(f,d)),s})})}else{const o=this;return tn(function(...l){const s=o._def.args.safeParse(l,n);if(!s.success)throw new Tn([r(l,s.error)]);const c=Reflect.apply(i,this,s.data),f=o._def.returns.safeParse(c,n);if(!f.success)throw new Tn([a(c,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new fl({...this._def,args:Bi.create(e).rest(Do.create())})}returns(e){return new fl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new fl({args:e||Bi.create([]).rest(Do.create()),returns:t||Do.create(),typeName:kt.ZodFunction,...de(r)})}}class uh extends ye{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}uh.create=(u,e)=>new uh({getter:u,typeName:kt.ZodLazy,...de(e)});class dh extends ye{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ft(t,{received:t.data,code:At.invalid_literal,expected:this._def.value}),re}return{status:"valid",value:e.data}}get value(){return this._def.value}}dh.create=(u,e)=>new dh({value:u,typeName:kt.ZodLiteral,...de(e)});function zb(u,e){return new ba({values:u,typeName:kt.ZodEnum,...de(e)})}class ba extends ye{constructor(){super(...arguments),Cc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return Ft(t,{expected:Me.joinValues(r),received:t.parsedType,code:At.invalid_type}),re}if(df(this,Cc)||Db(this,Cc,new Set(this._def.values)),!df(this,Cc).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return Ft(t,{received:t.data,code:At.invalid_enum_value,options:r}),re}return tn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ba.create(e,{...this._def,...t})}exclude(e,t=this._def){return ba.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Cc=new WeakMap;ba.create=zb;class fh extends ye{constructor(){super(...arguments),Tc.set(this,void 0)}_parse(e){const t=Me.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==zt.string&&r.parsedType!==zt.number){const a=Me.objectValues(t);return Ft(r,{expected:Me.joinValues(a),received:r.parsedType,code:At.invalid_type}),re}if(df(this,Tc)||Db(this,Tc,new Set(Me.getValidEnumValues(this._def.values))),!df(this,Tc).has(e.data)){const a=Me.objectValues(t);return Ft(r,{received:r.data,code:At.invalid_enum_value,options:a}),re}return tn(e.data)}get enum(){return this._def.values}}Tc=new WeakMap;fh.create=(u,e)=>new fh({values:u,typeName:kt.ZodNativeEnum,...de(e)});class mc extends ye{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==zt.promise&&t.common.async===!1)return Ft(t,{code:At.invalid_type,expected:zt.promise,received:t.parsedType}),re;const r=t.parsedType===zt.promise?t.data:Promise.resolve(t.data);return tn(r.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}}mc.create=(u,e)=>new mc({type:u,typeName:kt.ZodPromise,...de(e)});class ui extends ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===kt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),a=this._def.effect||null,n={addIssue:i=>{Ft(r,i),i.fatal?t.abort():t.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),a.type==="preprocess"){const i=a.transform(r.data,n);if(r.common.async)return Promise.resolve(i).then(async o=>{if(t.value==="aborted")return re;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?re:l.status==="dirty"||t.value==="dirty"?ll(l.value):l});{if(t.value==="aborted")return re;const o=this._def.schema._parseSync({data:i,path:r.path,parent:r});return o.status==="aborted"?re:o.status==="dirty"||t.value==="dirty"?ll(o.value):o}}if(a.type==="refinement"){const i=o=>{const l=a.refinement(o,n);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?re:(o.status==="dirty"&&t.dirty(),i(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?re:(o.status==="dirty"&&t.dirty(),i(o.value).then(()=>({status:t.value,value:o.value}))))}if(a.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!nh(i))return i;const o=a.transform(i.value,n);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>nh(i)?Promise.resolve(a.transform(i.value,n)).then(o=>({status:t.value,value:o})):i);Me.assertNever(a)}}ui.create=(u,e,t)=>new ui({schema:u,typeName:kt.ZodEffects,effect:e,...de(t)});ui.createWithPreprocess=(u,e,t)=>new ui({schema:e,effect:{type:"preprocess",transform:u},typeName:kt.ZodEffects,...de(t)});class Li extends ye{_parse(e){return this._getType(e)===zt.undefined?tn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Li.create=(u,e)=>new Li({innerType:u,typeName:kt.ZodOptional,...de(e)});class ya extends ye{_parse(e){return this._getType(e)===zt.null?tn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ya.create=(u,e)=>new ya({innerType:u,typeName:kt.ZodNullable,...de(e)});class ph extends ye{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===zt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ph.create=(u,e)=>new ph({innerType:u,typeName:kt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...de(e)});class mh extends ye{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ih(a)?a.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Tn(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Tn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}mh.create=(u,e)=>new mh({innerType:u,typeName:kt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...de(e)});class gf extends ye{_parse(e){if(this._getType(e)!==zt.nan){const r=this._getOrReturnCtx(e);return Ft(r,{code:At.invalid_type,expected:zt.nan,received:r.parsedType}),re}return{status:"valid",value:e.data}}}gf.create=u=>new gf({typeName:kt.ZodNaN,...de(u)});const p3=Symbol("zod_brand");class W0 extends ye{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Ju extends ye{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?re:n.status==="dirty"?(t.dirty(),ll(n.value)):this._def.out._parseAsync({data:n.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?re:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,t){return new Ju({in:e,out:t,typeName:kt.ZodPipeline})}}class gh extends ye{_parse(e){const t=this._def.innerType._parse(e),r=a=>(nh(a)&&(a.value=Object.freeze(a.value)),a);return ih(t)?t.then(a=>r(a)):r(t)}unwrap(){return this._def.innerType}}gh.create=(u,e)=>new gh({innerType:u,typeName:kt.ZodReadonly,...de(e)});function Hb(u,e={},t){return u?pc.create().superRefine((r,a)=>{var n,i;if(!u(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(i=(n=o.fatal)!==null&&n!==void 0?n:t)!==null&&i!==void 0?i:!0,s=typeof o=="string"?{message:o}:o;a.addIssue({code:"custom",...s,fatal:l})}}):pc.create()}const m3={object:or.lazycreate};var kt;(function(u){u.ZodString="ZodString",u.ZodNumber="ZodNumber",u.ZodNaN="ZodNaN",u.ZodBigInt="ZodBigInt",u.ZodBoolean="ZodBoolean",u.ZodDate="ZodDate",u.ZodSymbol="ZodSymbol",u.ZodUndefined="ZodUndefined",u.ZodNull="ZodNull",u.ZodAny="ZodAny",u.ZodUnknown="ZodUnknown",u.ZodNever="ZodNever",u.ZodVoid="ZodVoid",u.ZodArray="ZodArray",u.ZodObject="ZodObject",u.ZodUnion="ZodUnion",u.ZodDiscriminatedUnion="ZodDiscriminatedUnion",u.ZodIntersection="ZodIntersection",u.ZodTuple="ZodTuple",u.ZodRecord="ZodRecord",u.ZodMap="ZodMap",u.ZodSet="ZodSet",u.ZodFunction="ZodFunction",u.ZodLazy="ZodLazy",u.ZodLiteral="ZodLiteral",u.ZodEnum="ZodEnum",u.ZodEffects="ZodEffects",u.ZodNativeEnum="ZodNativeEnum",u.ZodOptional="ZodOptional",u.ZodNullable="ZodNullable",u.ZodDefault="ZodDefault",u.ZodCatch="ZodCatch",u.ZodPromise="ZodPromise",u.ZodBranded="ZodBranded",u.ZodPipeline="ZodPipeline",u.ZodReadonly="ZodReadonly"})(kt||(kt={}));const g3=(u,e={message:`Input not instance of ${u.name}`})=>Hb(t=>t instanceof u,e),Ub=ai.create,$b=ma.create,b3=gf.create,y3=ga.create,Vb=sh.create,v3=Bo.create,w3=ff.create,_3=ah.create,x3=oh.create,S3=pc.create,A3=Do.create,k3=Cs.create,E3=pf.create,C3=ci.create,T3=or.create,M3=or.strictCreate,R3=lh.create,O3=rp.create,P3=ch.create,I3=Bi.create,N3=hh.create,L3=mf.create,D3=zo.create,j3=fl.create,F3=uh.create,B3=dh.create,z3=ba.create,H3=fh.create,U3=mc.create,Zg=ui.create,$3=Li.create,V3=ya.create,W3=ui.createWithPreprocess,q3=Ju.create,X3=()=>Ub().optional(),G3=()=>$b().optional(),K3=()=>Vb().optional(),Z3={string:u=>ai.create({...u,coerce:!0}),number:u=>ma.create({...u,coerce:!0}),boolean:u=>sh.create({...u,coerce:!0}),bigint:u=>ga.create({...u,coerce:!0}),date:u=>Bo.create({...u,coerce:!0})},Y3=re;var gn=Object.freeze({__proto__:null,defaultErrorMap:fc,setErrorMap:Y_,getErrorMap:hf,makeIssue:uf,EMPTY_PATH:J_,addIssueToContext:Ft,ParseStatus:Vr,INVALID:re,DIRTY:ll,OK:tn,isAborted:tm,isDirty:em,isValid:nh,isAsync:ih,get util(){return Me},get objectUtil(){return Qp},ZodParsedType:zt,getParsedType:$s,ZodType:ye,datetimeRegex:Bb,ZodString:ai,ZodNumber:ma,ZodBigInt:ga,ZodBoolean:sh,ZodDate:Bo,ZodSymbol:ff,ZodUndefined:ah,ZodNull:oh,ZodAny:pc,ZodUnknown:Do,ZodNever:Cs,ZodVoid:pf,ZodArray:ci,ZodObject:or,ZodUnion:lh,ZodDiscriminatedUnion:rp,ZodIntersection:ch,ZodTuple:Bi,ZodRecord:hh,ZodMap:mf,ZodSet:zo,ZodFunction:fl,ZodLazy:uh,ZodLiteral:dh,ZodEnum:ba,ZodNativeEnum:fh,ZodPromise:mc,ZodEffects:ui,ZodTransformer:ui,ZodOptional:Li,ZodNullable:ya,ZodDefault:ph,ZodCatch:mh,ZodNaN:gf,BRAND:p3,ZodBranded:W0,ZodPipeline:Ju,ZodReadonly:gh,custom:Hb,Schema:ye,ZodSchema:ye,late:m3,get ZodFirstPartyTypeKind(){return kt},coerce:Z3,any:S3,array:C3,bigint:y3,boolean:Vb,date:v3,discriminatedUnion:O3,effect:Zg,enum:z3,function:j3,instanceof:g3,intersection:P3,lazy:F3,literal:B3,map:L3,nan:b3,nativeEnum:H3,never:k3,null:x3,nullable:V3,number:$b,object:T3,oboolean:K3,onumber:G3,optional:$3,ostring:X3,pipeline:q3,preprocess:W3,promise:U3,record:N3,set:D3,strictObject:M3,string:Ub,symbol:w3,transformer:Zg,tuple:I3,undefined:_3,union:R3,unknown:A3,void:E3,NEVER:Y3,ZodIssueCode:At,quotelessJson:Z_,ZodError:Tn});const J3=Symbol("Let zodToJsonSchema decide on which parser to use"),Yg={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},Q3=u=>typeof u=="string"?{...Yg,name:u}:{...Yg,...u},t4=u=>{const e=Q3(u),t=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:t,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,a])=>[a._def,{def:a._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function Wb(u,e,t,r){r!=null&&r.errorMessages&&t&&(u.errorMessage={...u.errorMessage,[e]:t})}function Ge(u,e,t,r,a){u[e]=t,Wb(u,e,r,a)}function e4(){return{}}function r4(u,e){var r,a;const t={type:"array"};return((a=(r=u.type)==null?void 0:r._def)==null?void 0:a.typeName)!==kt.ZodAny&&(t.items=Le(u.type._def,{...e,currentPath:[...e.currentPath,"items"]})),u.minLength&&Ge(t,"minItems",u.minLength.value,u.minLength.message,e),u.maxLength&&Ge(t,"maxItems",u.maxLength.value,u.maxLength.message,e),u.exactLength&&(Ge(t,"minItems",u.exactLength.value,u.exactLength.message,e),Ge(t,"maxItems",u.exactLength.value,u.exactLength.message,e)),t}function n4(u,e){const t={type:"integer",format:"int64"};if(!u.checks)return t;for(const r of u.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?Ge(t,"minimum",r.value,r.message,e):Ge(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),Ge(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?Ge(t,"maximum",r.value,r.message,e):Ge(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),Ge(t,"maximum",r.value,r.message,e));break;case"multipleOf":Ge(t,"multipleOf",r.value,r.message,e);break}return t}function i4(){return{type:"boolean"}}function s4(u,e){return Le(u.type._def,e)}const a4=(u,e)=>Le(u.innerType._def,e);function qb(u,e,t){const r=t??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,n)=>qb(u,e,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return o4(u,e)}}const o4=(u,e)=>{const t={type:"integer",format:"unix-time"};if(e.target==="openApi3")return t;for(const r of u.checks)switch(r.kind){case"min":Ge(t,"minimum",r.value,r.message,e);break;case"max":Ge(t,"maximum",r.value,r.message,e);break}return t};function l4(u,e){return{...Le(u.innerType._def,e),default:u.defaultValue()}}function c4(u,e){return e.effectStrategy==="input"?Le(u.schema._def,e):{}}function h4(u){return{type:"string",enum:u.values}}const u4=u=>"type"in u&&u.type==="string"?!1:"allOf"in u;function d4(u,e){const t=[Le(u.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),Le(u.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(n=>!!n);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const a=[];return t.forEach(n=>{if(u4(n))a.push(...n.allOf),n.unevaluatedProperties===void 0&&(r=void 0);else{let i=n;if("additionalProperties"in n&&n.additionalProperties===!1){const{additionalProperties:o,...l}=n;i=l}else r=void 0;a.push(i)}}),a.length?{allOf:a,...r}:void 0}function f4(u,e){const t=typeof u.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(u.value)?"array":"object"}:e.target==="openApi3"?{type:t==="bigint"?"integer":t,enum:[u.value]}:{type:t==="bigint"?"integer":t,const:u.value}}const Ra={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function Xb(u,e){const t={type:"string"};function r(a){return e.patternStrategy==="escape"?p4(a):a}if(u.checks)for(const a of u.checks)switch(a.kind){case"min":Ge(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,a.value):a.value,a.message,e);break;case"max":Ge(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,a.value):a.value,a.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Hn(t,"email",a.message,e);break;case"format:idn-email":Hn(t,"idn-email",a.message,e);break;case"pattern:zod":Un(t,Ra.email,a.message,e);break}break;case"url":Hn(t,"uri",a.message,e);break;case"uuid":Hn(t,"uuid",a.message,e);break;case"regex":Un(t,a.regex,a.message,e);break;case"cuid":Un(t,Ra.cuid,a.message,e);break;case"cuid2":Un(t,Ra.cuid2,a.message,e);break;case"startsWith":Un(t,RegExp(`^${r(a.value)}`),a.message,e);break;case"endsWith":Un(t,RegExp(`${r(a.value)}$`),a.message,e);break;case"datetime":Hn(t,"date-time",a.message,e);break;case"date":Hn(t,"date",a.message,e);break;case"time":Hn(t,"time",a.message,e);break;case"duration":Hn(t,"duration",a.message,e);break;case"length":Ge(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,a.value):a.value,a.message,e),Ge(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,a.value):a.value,a.message,e);break;case"includes":{Un(t,RegExp(r(a.value)),a.message,e);break}case"ip":{a.version!=="v6"&&Hn(t,"ipv4",a.message,e),a.version!=="v4"&&Hn(t,"ipv6",a.message,e);break}case"emoji":Un(t,Ra.emoji,a.message,e);break;case"ulid":{Un(t,Ra.ulid,a.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Hn(t,"binary",a.message,e);break}case"contentEncoding:base64":{Ge(t,"contentEncoding","base64",a.message,e);break}case"pattern:zod":{Un(t,Ra.base64,a.message,e);break}}break}case"nanoid":Un(t,Ra.nanoid,a.message,e)}return t}const p4=u=>Array.from(u).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),Hn=(u,e,t,r)=>{var a;u.format||(a=u.anyOf)!=null&&a.some(n=>n.format)?(u.anyOf||(u.anyOf=[]),u.format&&(u.anyOf.push({format:u.format,...u.errorMessage&&r.errorMessages&&{errorMessage:{format:u.errorMessage.format}}}),delete u.format,u.errorMessage&&(delete u.errorMessage.format,Object.keys(u.errorMessage).length===0&&delete u.errorMessage)),u.anyOf.push({format:e,...t&&r.errorMessages&&{errorMessage:{format:t}}})):Ge(u,"format",e,t,r)},Un=(u,e,t,r)=>{var a;u.pattern||(a=u.allOf)!=null&&a.some(n=>n.pattern)?(u.allOf||(u.allOf=[]),u.pattern&&(u.allOf.push({pattern:u.pattern,...u.errorMessage&&r.errorMessages&&{errorMessage:{pattern:u.errorMessage.pattern}}}),delete u.pattern,u.errorMessage&&(delete u.errorMessage.pattern,Object.keys(u.errorMessage).length===0&&delete u.errorMessage)),u.allOf.push({pattern:Jg(e,r),...t&&r.errorMessages&&{errorMessage:{pattern:t}}})):Ge(u,"pattern",Jg(e,r),t,r)},Jg=(u,e)=>{var l;if(!e.applyRegexFlags||!u.flags)return u.source;const t={i:u.flags.includes("i"),m:u.flags.includes("m"),s:u.flags.includes("s")},r=t.i?u.source.toLowerCase():u.source;let a="",n=!1,i=!1,o=!1;for(let s=0;s<r.length;s++){if(n){a+=r[s],n=!1;continue}if(t.i){if(i){if(r[s].match(/[a-z]/)){o?(a+=r[s],a+=`${r[s-2]}-${r[s]}`.toUpperCase(),o=!1):r[s+1]==="-"&&((l=r[s+2])!=null&&l.match(/[a-z]/))?(a+=r[s],o=!0):a+=`${r[s]}${r[s].toUpperCase()}`;continue}}else if(r[s].match(/[a-z]/)){a+=`[${r[s]}${r[s].toUpperCase()}]`;continue}}if(t.m){if(r[s]==="^"){a+=`(^|(?<=[\r
]))`;continue}else if(r[s]==="$"){a+=`($|(?=[\r
]))`;continue}}if(t.s&&r[s]==="."){a+=i?`${r[s]}\r
`:`[${r[s]}\r
]`;continue}a+=r[s],r[s]==="\\"?n=!0:i&&r[s]==="]"?i=!1:!i&&r[s]==="["&&(i=!0)}try{const s=new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),u.source}return a};function Gb(u,e){var r,a,n,i;if(e.target==="openApi3"&&((r=u.keyType)==null?void 0:r._def.typeName)===kt.ZodEnum)return{type:"object",required:u.keyType._def.values,properties:u.keyType._def.values.reduce((o,l)=>({...o,[l]:Le(u.valueType._def,{...e,currentPath:[...e.currentPath,"properties",l]})??{}}),{}),additionalProperties:!1};const t={type:"object",additionalProperties:Le(u.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return t;if(((a=u.keyType)==null?void 0:a._def.typeName)===kt.ZodString&&((n=u.keyType._def.checks)!=null&&n.length)){const o=Object.entries(Xb(u.keyType._def,e)).reduce((l,[s,c])=>s==="type"?l:{...l,[s]:c},{});return{...t,propertyNames:o}}else if(((i=u.keyType)==null?void 0:i._def.typeName)===kt.ZodEnum)return{...t,propertyNames:{enum:u.keyType._def.values}};return t}function m4(u,e){if(e.mapStrategy==="record")return Gb(u,e);const t=Le(u.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=Le(u.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[t,r],minItems:2,maxItems:2}}}function g4(u){const e=u.values,r=Object.keys(u.values).filter(n=>typeof e[e[n]]!="number").map(n=>e[n]),a=Array.from(new Set(r.map(n=>typeof n)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function b4(){return{not:{}}}function y4(u){return u.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const bf={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function v4(u,e){if(e.target==="openApi3")return Qg(u,e);const t=u.options instanceof Map?Array.from(u.options.values()):u.options;if(t.every(r=>r._def.typeName in bf&&(!r._def.checks||!r._def.checks.length))){const r=t.reduce((a,n)=>{const i=bf[n._def.typeName];return i&&!a.includes(i)?[...a,i]:a},[]);return{type:r.length>1?r:r[0]}}else if(t.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=t.reduce((a,n)=>{const i=typeof n._def.value;switch(i){case"string":case"number":case"boolean":return[...a,i];case"bigint":return[...a,"integer"];case"object":if(n._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(r.length===t.length){const a=r.filter((n,i,o)=>o.indexOf(n)===i);return{type:a.length>1?a:a[0],enum:t.reduce((n,i)=>n.includes(i._def.value)?n:[...n,i._def.value],[])}}}else if(t.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:t.reduce((r,a)=>[...r,...a._def.values.filter(n=>!r.includes(n))],[])};return Qg(u,e)}const Qg=(u,e)=>{const t=(u.options instanceof Map?Array.from(u.options.values()):u.options).map((r,a)=>Le(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return t.length?{anyOf:t}:void 0};function w4(u,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(u.innerType._def.typeName)&&(!u.innerType._def.checks||!u.innerType._def.checks.length))return e.target==="openApi3"?{type:bf[u.innerType._def.typeName],nullable:!0}:{type:[bf[u.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=Le(u.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const t=Le(u.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return t&&{anyOf:[t,{type:"null"}]}}function _4(u,e){const t={type:"number"};if(!u.checks)return t;for(const r of u.checks)switch(r.kind){case"int":t.type="integer",Wb(t,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?Ge(t,"minimum",r.value,r.message,e):Ge(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),Ge(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?Ge(t,"maximum",r.value,r.message,e):Ge(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),Ge(t,"maximum",r.value,r.message,e));break;case"multipleOf":Ge(t,"multipleOf",r.value,r.message,e);break}return t}function x4(u,e){return e.removeAdditionalStrategy==="strict"?u.catchall._def.typeName==="ZodNever"?u.unknownKeys!=="strict":Le(u.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:u.catchall._def.typeName==="ZodNever"?u.unknownKeys==="passthrough":Le(u.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function S4(u,e){const t={type:"object",...Object.entries(u.shape()).reduce((r,[a,n])=>{if(n===void 0||n._def===void 0)return r;const i=Le(n._def,{...e,currentPath:[...e.currentPath,"properties",a],propertyPath:[...e.currentPath,"properties",a]});return i===void 0?r:{properties:{...r.properties,[a]:i},required:n.isOptional()?r.required:[...r.required,a]}},{properties:{},required:[]}),additionalProperties:x4(u,e)};return t.required.length||delete t.required,t}const A4=(u,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return Le(u.innerType._def,e);const t=Le(u.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return t?{anyOf:[{not:{}},t]}:{}},k4=(u,e)=>{if(e.pipeStrategy==="input")return Le(u.in._def,e);if(e.pipeStrategy==="output")return Le(u.out._def,e);const t=Le(u.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=Le(u.out._def,{...e,currentPath:[...e.currentPath,"allOf",t?"1":"0"]});return{allOf:[t,r].filter(a=>a!==void 0)}};function E4(u,e){return Le(u.type._def,e)}function C4(u,e){const r={type:"array",uniqueItems:!0,items:Le(u.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return u.minSize&&Ge(r,"minItems",u.minSize.value,u.minSize.message,e),u.maxSize&&Ge(r,"maxItems",u.maxSize.value,u.maxSize.message,e),r}function T4(u,e){return u.rest?{type:"array",minItems:u.items.length,items:u.items.map((t,r)=>Le(t._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((t,r)=>r===void 0?t:[...t,r],[]),additionalItems:Le(u.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:u.items.length,maxItems:u.items.length,items:u.items.map((t,r)=>Le(t._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((t,r)=>r===void 0?t:[...t,r],[])}}function M4(){return{not:{}}}function R4(){return{}}const O4=(u,e)=>Le(u.innerType._def,e);function Le(u,e,t=!1){var i;const r=e.seen.get(u);if(e.override){const o=(i=e.override)==null?void 0:i.call(e,u,e,r,t);if(o!==J3)return o}if(r&&!t){const o=P4(r,e);if(o!==void 0)return o}const a={def:u,path:e.currentPath,jsonSchema:void 0};e.seen.set(u,a);const n=N4(u,u.typeName,e);return n&&L4(u,e,n),a.jsonSchema=n,n}const P4=(u,e)=>{switch(e.$refStrategy){case"root":return{$ref:u.path.join("/")};case"relative":return{$ref:I4(e.currentPath,u.path)};case"none":case"seen":return u.path.length<e.currentPath.length&&u.path.every((t,r)=>e.currentPath[r]===t)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},I4=(u,e)=>{let t=0;for(;t<u.length&&t<e.length&&u[t]===e[t];t++);return[(u.length-t).toString(),...e.slice(t)].join("/")},N4=(u,e,t)=>{switch(e){case kt.ZodString:return Xb(u,t);case kt.ZodNumber:return _4(u,t);case kt.ZodObject:return S4(u,t);case kt.ZodBigInt:return n4(u,t);case kt.ZodBoolean:return i4();case kt.ZodDate:return qb(u,t);case kt.ZodUndefined:return M4();case kt.ZodNull:return y4(t);case kt.ZodArray:return r4(u,t);case kt.ZodUnion:case kt.ZodDiscriminatedUnion:return v4(u,t);case kt.ZodIntersection:return d4(u,t);case kt.ZodTuple:return T4(u,t);case kt.ZodRecord:return Gb(u,t);case kt.ZodLiteral:return f4(u,t);case kt.ZodEnum:return h4(u);case kt.ZodNativeEnum:return g4(u);case kt.ZodNullable:return w4(u,t);case kt.ZodOptional:return A4(u,t);case kt.ZodMap:return m4(u,t);case kt.ZodSet:return C4(u,t);case kt.ZodLazy:return Le(u.getter()._def,t);case kt.ZodPromise:return E4(u,t);case kt.ZodNaN:case kt.ZodNever:return b4();case kt.ZodEffects:return c4(u,t);case kt.ZodAny:return e4();case kt.ZodUnknown:return R4();case kt.ZodDefault:return l4(u,t);case kt.ZodBranded:return s4(u,t);case kt.ZodReadonly:return O4(u,t);case kt.ZodCatch:return a4(u,t);case kt.ZodPipeline:return k4(u,t);case kt.ZodFunction:case kt.ZodVoid:case kt.ZodSymbol:return;default:return(r=>{})()}},L4=(u,e,t)=>(u.description&&(t.description=u.description,e.markdownDescription&&(t.markdownDescription=u.description)),t),D4=(u,e)=>{const t=t4(e),r=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((l,[s,c])=>({...l,[s]:Le(c._def,{...t,currentPath:[...t.basePath,t.definitionPath,s]},!0)??{}}),{}):void 0,a=typeof e=="string"?e:(e==null?void 0:e.nameStrategy)==="title"||e==null?void 0:e.name,n=Le(u._def,a===void 0?t:{...t,currentPath:[...t.basePath,t.definitionPath,a]},!1)??{},i=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;i!==void 0&&(n.title=i);const o=a===void 0?r?{...n,[t.definitionPath]:r}:n:{$ref:[...t.$refStrategy==="relative"?[]:t.basePath,t.definitionPath,a].join("/"),[t.definitionPath]:{...r,[a]:n}};return t.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":t.target==="jsonSchema2019-09"&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),o};function Kb(u,e){return function(){return u.apply(e,arguments)}}const{toString:j4}=Object.prototype,{getPrototypeOf:q0}=Object,np=(u=>e=>{const t=j4.call(e);return u[t]||(u[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),di=u=>(u=u.toLowerCase(),e=>np(e)===u),ip=u=>e=>typeof e===u,{isArray:yc}=Array,bh=ip("undefined");function F4(u){return u!==null&&!bh(u)&&u.constructor!==null&&!bh(u.constructor)&&Bn(u.constructor.isBuffer)&&u.constructor.isBuffer(u)}const Zb=di("ArrayBuffer");function B4(u){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(u):e=u&&u.buffer&&Zb(u.buffer),e}const z4=ip("string"),Bn=ip("function"),Yb=ip("number"),sp=u=>u!==null&&typeof u=="object",H4=u=>u===!0||u===!1,Od=u=>{if(np(u)!=="object")return!1;const e=q0(u);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)},U4=di("Date"),$4=di("File"),V4=di("Blob"),W4=di("FileList"),q4=u=>sp(u)&&Bn(u.pipe),X4=u=>{let e;return u&&(typeof FormData=="function"&&u instanceof FormData||Bn(u.append)&&((e=np(u))==="formdata"||e==="object"&&Bn(u.toString)&&u.toString()==="[object FormData]"))},G4=di("URLSearchParams"),[K4,Z4,Y4,J4]=["ReadableStream","Request","Response","Headers"].map(di),Q4=u=>u.trim?u.trim():u.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qu(u,e,{allOwnKeys:t=!1}={}){if(u===null||typeof u>"u")return;let r,a;if(typeof u!="object"&&(u=[u]),yc(u))for(r=0,a=u.length;r<a;r++)e.call(null,u[r],r,u);else{const n=t?Object.getOwnPropertyNames(u):Object.keys(u),i=n.length;let o;for(r=0;r<i;r++)o=n[r],e.call(null,u[o],o,u)}}function Jb(u,e){e=e.toLowerCase();const t=Object.keys(u);let r=t.length,a;for(;r-- >0;)if(a=t[r],e===a.toLowerCase())return a;return null}const Qb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ty=u=>!bh(u)&&u!==Qb;function nm(){const{caseless:u}=ty(this)&&this||{},e={},t=(r,a)=>{const n=u&&Jb(e,a)||a;Od(e[n])&&Od(r)?e[n]=nm(e[n],r):Od(r)?e[n]=nm({},r):yc(r)?e[n]=r.slice():e[n]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Qu(arguments[r],t);return e}const t6=(u,e,t,{allOwnKeys:r}={})=>(Qu(e,(a,n)=>{t&&Bn(a)?u[n]=Kb(a,t):u[n]=a},{allOwnKeys:r}),u),e6=u=>(u.charCodeAt(0)===65279&&(u=u.slice(1)),u),r6=(u,e,t,r)=>{u.prototype=Object.create(e.prototype,r),u.prototype.constructor=u,Object.defineProperty(u,"super",{value:e.prototype}),t&&Object.assign(u.prototype,t)},n6=(u,e,t,r)=>{let a,n,i;const o={};if(e=e||{},u==null)return e;do{for(a=Object.getOwnPropertyNames(u),n=a.length;n-- >0;)i=a[n],(!r||r(i,u,e))&&!o[i]&&(e[i]=u[i],o[i]=!0);u=t!==!1&&q0(u)}while(u&&(!t||t(u,e))&&u!==Object.prototype);return e},i6=(u,e,t)=>{u=String(u),(t===void 0||t>u.length)&&(t=u.length),t-=e.length;const r=u.indexOf(e,t);return r!==-1&&r===t},s6=u=>{if(!u)return null;if(yc(u))return u;let e=u.length;if(!Yb(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=u[e];return t},a6=(u=>e=>u&&e instanceof u)(typeof Uint8Array<"u"&&q0(Uint8Array)),o6=(u,e)=>{const r=(u&&u[Symbol.iterator]).call(u);let a;for(;(a=r.next())&&!a.done;){const n=a.value;e.call(u,n[0],n[1])}},l6=(u,e)=>{let t;const r=[];for(;(t=u.exec(e))!==null;)r.push(t);return r},c6=di("HTMLFormElement"),h6=u=>u.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,a){return r.toUpperCase()+a}),t1=(({hasOwnProperty:u})=>(e,t)=>u.call(e,t))(Object.prototype),u6=di("RegExp"),ey=(u,e)=>{const t=Object.getOwnPropertyDescriptors(u),r={};Qu(t,(a,n)=>{let i;(i=e(a,n,u))!==!1&&(r[n]=i||a)}),Object.defineProperties(u,r)},d6=u=>{ey(u,(e,t)=>{if(Bn(u)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=u[t];if(Bn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},f6=(u,e)=>{const t={},r=a=>{a.forEach(n=>{t[n]=!0})};return yc(u)?r(u):r(String(u).split(e)),t},p6=()=>{},m6=(u,e)=>u!=null&&Number.isFinite(u=+u)?u:e,Op="abcdefghijklmnopqrstuvwxyz",e1="0123456789",ry={DIGIT:e1,ALPHA:Op,ALPHA_DIGIT:Op+Op.toUpperCase()+e1},g6=(u=16,e=ry.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;u--;)t+=e[Math.random()*r|0];return t};function b6(u){return!!(u&&Bn(u.append)&&u[Symbol.toStringTag]==="FormData"&&u[Symbol.iterator])}const y6=u=>{const e=new Array(10),t=(r,a)=>{if(sp(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[a]=r;const n=yc(r)?[]:{};return Qu(r,(i,o)=>{const l=t(i,a+1);!bh(l)&&(n[o]=l)}),e[a]=void 0,n}}return r};return t(u,0)},v6=di("AsyncFunction"),w6=u=>u&&(sp(u)||Bn(u))&&Bn(u.then)&&Bn(u.catch),gt={isArray:yc,isArrayBuffer:Zb,isBuffer:F4,isFormData:X4,isArrayBufferView:B4,isString:z4,isNumber:Yb,isBoolean:H4,isObject:sp,isPlainObject:Od,isReadableStream:K4,isRequest:Z4,isResponse:Y4,isHeaders:J4,isUndefined:bh,isDate:U4,isFile:$4,isBlob:V4,isRegExp:u6,isFunction:Bn,isStream:q4,isURLSearchParams:G4,isTypedArray:a6,isFileList:W4,forEach:Qu,merge:nm,extend:t6,trim:Q4,stripBOM:e6,inherits:r6,toFlatObject:n6,kindOf:np,kindOfTest:di,endsWith:i6,toArray:s6,forEachEntry:o6,matchAll:l6,isHTMLForm:c6,hasOwnProperty:t1,hasOwnProp:t1,reduceDescriptors:ey,freezeMethods:d6,toObjectSet:f6,toCamelCase:h6,noop:p6,toFiniteNumber:m6,findKey:Jb,global:Qb,isContextDefined:ty,ALPHABET:ry,generateString:g6,isSpecCompliantForm:b6,toJSONObject:y6,isAsyncFn:v6,isThenable:w6};function ue(u,e,t,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=u,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),a&&(this.response=a)}gt.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:gt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ny=ue.prototype,iy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(u=>{iy[u]={value:u}});Object.defineProperties(ue,iy);Object.defineProperty(ny,"isAxiosError",{value:!0});ue.from=(u,e,t,r,a,n)=>{const i=Object.create(ny);return gt.toFlatObject(u,i,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),ue.call(i,u.message,e,t,r,a),i.cause=u,i.name=u.name,n&&Object.assign(i,n),i};const _6=null;function im(u){return gt.isPlainObject(u)||gt.isArray(u)}function sy(u){return gt.endsWith(u,"[]")?u.slice(0,-2):u}function r1(u,e,t){return u?u.concat(e).map(function(a,n){return a=sy(a),!t&&n?"["+a+"]":a}).join(t?".":""):e}function x6(u){return gt.isArray(u)&&!u.some(im)}const S6=gt.toFlatObject(gt,{},null,function(e){return/^is[A-Z]/.test(e)});function ap(u,e,t){if(!gt.isObject(u))throw new TypeError("target must be an object");e=e||new FormData,t=gt.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,m){return!gt.isUndefined(m[g])});const r=t.metaTokens,a=t.visitor||c,n=t.dots,i=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&gt.isSpecCompliantForm(e);if(!gt.isFunction(a))throw new TypeError("visitor must be a function");function s(p){if(p===null)return"";if(gt.isDate(p))return p.toISOString();if(!l&&gt.isBlob(p))throw new ue("Blob is not supported. Use a Buffer instead.");return gt.isArrayBuffer(p)||gt.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,g,m){let b=p;if(p&&!m&&typeof p=="object"){if(gt.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(gt.isArray(p)&&x6(p)||(gt.isFileList(p)||gt.endsWith(g,"[]"))&&(b=gt.toArray(p)))return g=sy(g),b.forEach(function(x,k){!(gt.isUndefined(x)||x===null)&&e.append(i===!0?r1([g],k,n):i===null?g:g+"[]",s(x))}),!1}return im(p)?!0:(e.append(r1(m,g,n),s(p)),!1)}const f=[],h=Object.assign(S6,{defaultVisitor:c,convertValue:s,isVisitable:im});function d(p,g){if(!gt.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(p),gt.forEach(p,function(b,y){(!(gt.isUndefined(b)||b===null)&&a.call(e,b,gt.isString(y)?y.trim():y,g,h))===!0&&d(b,g?g.concat(y):[y])}),f.pop()}}if(!gt.isObject(u))throw new TypeError("data must be an object");return d(u),e}function n1(u){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(u).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function X0(u,e){this._pairs=[],u&&ap(u,this,e)}const ay=X0.prototype;ay.append=function(e,t){this._pairs.push([e,t])};ay.toString=function(e){const t=e?function(r){return e.call(this,r,n1)}:n1;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function A6(u){return encodeURIComponent(u).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oy(u,e,t){if(!e)return u;const r=t&&t.encode||A6,a=t&&t.serialize;let n;if(a?n=a(e,t):n=gt.isURLSearchParams(e)?e.toString():new X0(e,t).toString(r),n){const i=u.indexOf("#");i!==-1&&(u=u.slice(0,i)),u+=(u.indexOf("?")===-1?"?":"&")+n}return u}class i1{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){gt.forEach(this.handlers,function(r){r!==null&&e(r)})}}const ly={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},k6=typeof URLSearchParams<"u"?URLSearchParams:X0,E6=typeof FormData<"u"?FormData:null,C6=typeof Blob<"u"?Blob:null,T6={isBrowser:!0,classes:{URLSearchParams:k6,FormData:E6,Blob:C6},protocols:["http","https","file","blob","url","data"]},G0=typeof window<"u"&&typeof document<"u",M6=(u=>G0&&["ReactNative","NativeScript","NS"].indexOf(u)<0)(typeof navigator<"u"&&navigator.product),R6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",O6=G0&&window.location.href||"http://localhost",P6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:G0,hasStandardBrowserEnv:M6,hasStandardBrowserWebWorkerEnv:R6,origin:O6},Symbol.toStringTag,{value:"Module"})),hi={...P6,...T6};function I6(u,e){return ap(u,new hi.classes.URLSearchParams,Object.assign({visitor:function(t,r,a,n){return hi.isNode&&gt.isBuffer(t)?(this.append(r,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}function N6(u){return gt.matchAll(/\w+|\[(\w*)]/g,u).map(e=>e[0]==="[]"?"":e[1]||e[0])}function L6(u){const e={},t=Object.keys(u);let r;const a=t.length;let n;for(r=0;r<a;r++)n=t[r],e[n]=u[n];return e}function cy(u){function e(t,r,a,n){let i=t[n++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),l=n>=t.length;return i=!i&&gt.isArray(a)?a.length:i,l?(gt.hasOwnProp(a,i)?a[i]=[a[i],r]:a[i]=r,!o):((!a[i]||!gt.isObject(a[i]))&&(a[i]=[]),e(t,r,a[i],n)&&gt.isArray(a[i])&&(a[i]=L6(a[i])),!o)}if(gt.isFormData(u)&&gt.isFunction(u.entries)){const t={};return gt.forEachEntry(u,(r,a)=>{e(N6(r),a,t,0)}),t}return null}function D6(u,e,t){if(gt.isString(u))try{return(e||JSON.parse)(u),gt.trim(u)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(u)}const td={transitional:ly,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",a=r.indexOf("application/json")>-1,n=gt.isObject(e);if(n&&gt.isHTMLForm(e)&&(e=new FormData(e)),gt.isFormData(e))return a?JSON.stringify(cy(e)):e;if(gt.isArrayBuffer(e)||gt.isBuffer(e)||gt.isStream(e)||gt.isFile(e)||gt.isBlob(e)||gt.isReadableStream(e))return e;if(gt.isArrayBufferView(e))return e.buffer;if(gt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(n){if(r.indexOf("application/x-www-form-urlencoded")>-1)return I6(e,this.formSerializer).toString();if((o=gt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ap(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return n||a?(t.setContentType("application/json",!1),D6(e)):e}],transformResponse:[function(e){const t=this.transitional||td.transitional,r=t&&t.forcedJSONParsing,a=this.responseType==="json";if(gt.isResponse(e)||gt.isReadableStream(e))return e;if(e&&gt.isString(e)&&(r&&!this.responseType||a)){const i=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(o){if(i)throw o.name==="SyntaxError"?ue.from(o,ue.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hi.classes.FormData,Blob:hi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};gt.forEach(["delete","get","head","post","put","patch"],u=>{td.headers[u]={}});const j6=gt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),F6=u=>{const e={};let t,r,a;return u&&u.split(`
`).forEach(function(i){a=i.indexOf(":"),t=i.substring(0,a).trim().toLowerCase(),r=i.substring(a+1).trim(),!(!t||e[t]&&j6[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},s1=Symbol("internals");function xc(u){return u&&String(u).trim().toLowerCase()}function Pd(u){return u===!1||u==null?u:gt.isArray(u)?u.map(Pd):String(u)}function B6(u){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(u);)e[r[1]]=r[2];return e}const z6=u=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(u.trim());function Pp(u,e,t,r,a){if(gt.isFunction(r))return r.call(this,e,t);if(a&&(e=t),!!gt.isString(e)){if(gt.isString(r))return e.indexOf(r)!==-1;if(gt.isRegExp(r))return r.test(e)}}function H6(u){return u.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function U6(u,e){const t=gt.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(u,r+t,{value:function(a,n,i){return this[r].call(this,e,a,n,i)},configurable:!0})})}class hn{constructor(e){e&&this.set(e)}set(e,t,r){const a=this;function n(o,l,s){const c=xc(l);if(!c)throw new Error("header name must be a non-empty string");const f=gt.findKey(a,c);(!f||a[f]===void 0||s===!0||s===void 0&&a[f]!==!1)&&(a[f||l]=Pd(o))}const i=(o,l)=>gt.forEach(o,(s,c)=>n(s,c,l));if(gt.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(gt.isString(e)&&(e=e.trim())&&!z6(e))i(F6(e),t);else if(gt.isHeaders(e))for(const[o,l]of e.entries())n(l,o,r);else e!=null&&n(t,e,r);return this}get(e,t){if(e=xc(e),e){const r=gt.findKey(this,e);if(r){const a=this[r];if(!t)return a;if(t===!0)return B6(a);if(gt.isFunction(t))return t.call(this,a,r);if(gt.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=xc(e),e){const r=gt.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Pp(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let a=!1;function n(i){if(i=xc(i),i){const o=gt.findKey(r,i);o&&(!t||Pp(r,r[o],o,t))&&(delete r[o],a=!0)}}return gt.isArray(e)?e.forEach(n):n(e),a}clear(e){const t=Object.keys(this);let r=t.length,a=!1;for(;r--;){const n=t[r];(!e||Pp(this,this[n],n,e,!0))&&(delete this[n],a=!0)}return a}normalize(e){const t=this,r={};return gt.forEach(this,(a,n)=>{const i=gt.findKey(r,n);if(i){t[i]=Pd(a),delete t[n];return}const o=e?H6(n):String(n).trim();o!==n&&delete t[n],t[o]=Pd(a),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return gt.forEach(this,(r,a)=>{r!=null&&r!==!1&&(t[a]=e&&gt.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[s1]=this[s1]={accessors:{}}).accessors,a=this.prototype;function n(i){const o=xc(i);r[o]||(U6(a,i),r[o]=!0)}return gt.isArray(e)?e.forEach(n):n(e),this}}hn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);gt.reduceDescriptors(hn.prototype,({value:u},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>u,set(r){this[t]=r}}});gt.freezeMethods(hn);function Ip(u,e){const t=this||td,r=e||t,a=hn.from(r.headers);let n=r.data;return gt.forEach(u,function(o){n=o.call(t,n,a.normalize(),e?e.status:void 0)}),a.normalize(),n}function hy(u){return!!(u&&u.__CANCEL__)}function vc(u,e,t){ue.call(this,u??"canceled",ue.ERR_CANCELED,e,t),this.name="CanceledError"}gt.inherits(vc,ue,{__CANCEL__:!0});function uy(u,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?u(t):e(new ue("Request failed with status code "+t.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function $6(u){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(u);return e&&e[1]||""}function V6(u,e){u=u||10;const t=new Array(u),r=new Array(u);let a=0,n=0,i;return e=e!==void 0?e:1e3,function(l){const s=Date.now(),c=r[n];i||(i=s),t[a]=l,r[a]=s;let f=n,h=0;for(;f!==a;)h+=t[f++],f=f%u;if(a=(a+1)%u,a===n&&(n=(n+1)%u),s-i<e)return;const d=c&&s-c;return d?Math.round(h*1e3/d):void 0}}function W6(u,e){let t=0;const r=1e3/e;let a=null;return function(){const i=this===!0,o=Date.now();if(i||o-t>r)return a&&(clearTimeout(a),a=null),t=o,u.apply(null,arguments);a||(a=setTimeout(()=>(a=null,t=Date.now(),u.apply(null,arguments)),r-(o-t)))}}const yf=(u,e,t=3)=>{let r=0;const a=V6(50,250);return W6(n=>{const i=n.loaded,o=n.lengthComputable?n.total:void 0,l=i-r,s=a(l),c=i<=o;r=i;const f={loaded:i,total:o,progress:o?i/o:void 0,bytes:l,rate:s||void 0,estimated:s&&o&&c?(o-i)/s:void 0,event:n,lengthComputable:o!=null};f[e?"download":"upload"]=!0,u(f)},t)},q6=hi.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function a(n){let i=n;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=a(window.location.href),function(i){const o=gt.isString(i)?a(i):i;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}(),X6=hi.hasStandardBrowserEnv?{write(u,e,t,r,a,n){const i=[u+"="+encodeURIComponent(e)];gt.isNumber(t)&&i.push("expires="+new Date(t).toGMTString()),gt.isString(r)&&i.push("path="+r),gt.isString(a)&&i.push("domain="+a),n===!0&&i.push("secure"),document.cookie=i.join("; ")},read(u){const e=document.cookie.match(new RegExp("(^|;\\s*)("+u+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(u){this.write(u,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function G6(u){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(u)}function K6(u,e){return e?u.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):u}function dy(u,e){return u&&!G6(e)?K6(u,e):e}const a1=u=>u instanceof hn?{...u}:u;function Ho(u,e){e=e||{};const t={};function r(s,c,f){return gt.isPlainObject(s)&&gt.isPlainObject(c)?gt.merge.call({caseless:f},s,c):gt.isPlainObject(c)?gt.merge({},c):gt.isArray(c)?c.slice():c}function a(s,c,f){if(gt.isUndefined(c)){if(!gt.isUndefined(s))return r(void 0,s,f)}else return r(s,c,f)}function n(s,c){if(!gt.isUndefined(c))return r(void 0,c)}function i(s,c){if(gt.isUndefined(c)){if(!gt.isUndefined(s))return r(void 0,s)}else return r(void 0,c)}function o(s,c,f){if(f in e)return r(s,c);if(f in u)return r(void 0,s)}const l={url:n,method:n,data:n,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(s,c)=>a(a1(s),a1(c),!0)};return gt.forEach(Object.keys(Object.assign({},u,e)),function(c){const f=l[c]||a,h=f(u[c],e[c],c);gt.isUndefined(h)&&f!==o||(t[c]=h)}),t}const fy=u=>{const e=Ho({},u);let{data:t,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:n,headers:i,auth:o}=e;e.headers=i=hn.from(i),e.url=oy(dy(e.baseURL,e.url),u.params,u.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(gt.isFormData(t)){if(hi.hasStandardBrowserEnv||hi.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((l=i.getContentType())!==!1){const[s,...c]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([s||"multipart/form-data",...c].join("; "))}}if(hi.hasStandardBrowserEnv&&(r&&gt.isFunction(r)&&(r=r(e)),r||r!==!1&&q6(e.url))){const s=a&&n&&X6.read(n);s&&i.set(a,s)}return e},Z6=typeof XMLHttpRequest<"u",Y6=Z6&&function(u){return new Promise(function(t,r){const a=fy(u);let n=a.data;const i=hn.from(a.headers).normalize();let{responseType:o}=a,l;function s(){a.cancelToken&&a.cancelToken.unsubscribe(l),a.signal&&a.signal.removeEventListener("abort",l)}let c=new XMLHttpRequest;c.open(a.method.toUpperCase(),a.url,!0),c.timeout=a.timeout;function f(){if(!c)return;const d=hn.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:d,config:u,request:c};uy(function(b){t(b),s()},function(b){r(b),s()},g),c=null}"onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(r(new ue("Request aborted",ue.ECONNABORTED,a,c)),c=null)},c.onerror=function(){r(new ue("Network Error",ue.ERR_NETWORK,a,c)),c=null},c.ontimeout=function(){let p=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const g=a.transitional||ly;a.timeoutErrorMessage&&(p=a.timeoutErrorMessage),r(new ue(p,g.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,a,c)),c=null},n===void 0&&i.setContentType(null),"setRequestHeader"in c&&gt.forEach(i.toJSON(),function(p,g){c.setRequestHeader(g,p)}),gt.isUndefined(a.withCredentials)||(c.withCredentials=!!a.withCredentials),o&&o!=="json"&&(c.responseType=a.responseType),typeof a.onDownloadProgress=="function"&&c.addEventListener("progress",yf(a.onDownloadProgress,!0)),typeof a.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",yf(a.onUploadProgress)),(a.cancelToken||a.signal)&&(l=d=>{c&&(r(!d||d.type?new vc(null,u,c):d),c.abort(),c=null)},a.cancelToken&&a.cancelToken.subscribe(l),a.signal&&(a.signal.aborted?l():a.signal.addEventListener("abort",l)));const h=$6(a.url);if(h&&hi.protocols.indexOf(h)===-1){r(new ue("Unsupported protocol "+h+":",ue.ERR_BAD_REQUEST,u));return}c.send(n||null)})},J6=(u,e)=>{let t=new AbortController,r;const a=function(l){if(!r){r=!0,i();const s=l instanceof Error?l:this.reason;t.abort(s instanceof ue?s:new vc(s instanceof Error?s.message:s))}};let n=e&&setTimeout(()=>{a(new ue(`timeout ${e} of ms exceeded`,ue.ETIMEDOUT))},e);const i=()=>{u&&(n&&clearTimeout(n),n=null,u.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",a):l.unsubscribe(a))}),u=null)};u.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",a));const{signal:o}=t;return o.unsubscribe=i,[o,()=>{n&&clearTimeout(n),n=null}]},Q6=function*(u,e){let t=u.byteLength;if(!e||t<e){yield u;return}let r=0,a;for(;r<t;)a=r+e,yield u.slice(r,a),r=a},tx=async function*(u,e,t){for await(const r of u)yield*Q6(ArrayBuffer.isView(r)?r:await t(String(r)),e)},o1=(u,e,t,r,a)=>{const n=tx(u,e,a);let i=0;return new ReadableStream({type:"bytes",async pull(o){const{done:l,value:s}=await n.next();if(l){o.close(),r();return}let c=s.byteLength;t&&t(i+=c),o.enqueue(new Uint8Array(s))},cancel(o){return r(o),n.return()}},{highWaterMark:2})},l1=(u,e)=>{const t=u!=null;return r=>setTimeout(()=>e({lengthComputable:t,total:u,loaded:r}))},op=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",py=op&&typeof ReadableStream=="function",sm=op&&(typeof TextEncoder=="function"?(u=>e=>u.encode(e))(new TextEncoder):async u=>new Uint8Array(await new Response(u).arrayBuffer())),ex=py&&(()=>{let u=!1;const e=new Request(hi.origin,{body:new ReadableStream,method:"POST",get duplex(){return u=!0,"half"}}).headers.has("Content-Type");return u&&!e})(),c1=64*1024,am=py&&!!(()=>{try{return gt.isReadableStream(new Response("").body)}catch{}})(),vf={stream:am&&(u=>u.body)};op&&(u=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!vf[e]&&(vf[e]=gt.isFunction(u[e])?t=>t[e]():(t,r)=>{throw new ue(`Response type '${e}' is not supported`,ue.ERR_NOT_SUPPORT,r)})})})(new Response);const rx=async u=>{if(u==null)return 0;if(gt.isBlob(u))return u.size;if(gt.isSpecCompliantForm(u))return(await new Request(u).arrayBuffer()).byteLength;if(gt.isArrayBufferView(u))return u.byteLength;if(gt.isURLSearchParams(u)&&(u=u+""),gt.isString(u))return(await sm(u)).byteLength},nx=async(u,e)=>{const t=gt.toFiniteNumber(u.getContentLength());return t??rx(e)},ix=op&&(async u=>{let{url:e,method:t,data:r,signal:a,cancelToken:n,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:s,headers:c,withCredentials:f="same-origin",fetchOptions:h}=fy(u);s=s?(s+"").toLowerCase():"text";let[d,p]=a||n||i?J6([a,n],i):[],g,m;const b=()=>{!g&&setTimeout(()=>{d&&d.unsubscribe()}),g=!0};let y;try{if(l&&ex&&t!=="get"&&t!=="head"&&(y=await nx(c,r))!==0){let I=new Request(e,{method:"POST",body:r,duplex:"half"}),B;gt.isFormData(r)&&(B=I.headers.get("content-type"))&&c.setContentType(B),I.body&&(r=o1(I.body,c1,l1(y,yf(l)),null,sm))}gt.isString(f)||(f=f?"cors":"omit"),m=new Request(e,{...h,signal:d,method:t.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",withCredentials:f});let x=await fetch(m);const k=am&&(s==="stream"||s==="response");if(am&&(o||k)){const I={};["status","statusText","headers"].forEach(j=>{I[j]=x[j]});const B=gt.toFiniteNumber(x.headers.get("content-length"));x=new Response(o1(x.body,c1,o&&l1(B,yf(o,!0)),k&&b,sm),I)}s=s||"text";let M=await vf[gt.findKey(vf,s)||"text"](x,u);return!k&&b(),p&&p(),await new Promise((I,B)=>{uy(I,B,{data:M,headers:hn.from(x.headers),status:x.status,statusText:x.statusText,config:u,request:m})})}catch(x){throw b(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,u,m),{cause:x.cause||x}):ue.from(x,x&&x.code,u,m)}}),om={http:_6,xhr:Y6,fetch:ix};gt.forEach(om,(u,e)=>{if(u){try{Object.defineProperty(u,"name",{value:e})}catch{}Object.defineProperty(u,"adapterName",{value:e})}});const h1=u=>`- ${u}`,sx=u=>gt.isFunction(u)||u===null||u===!1,my={getAdapter:u=>{u=gt.isArray(u)?u:[u];const{length:e}=u;let t,r;const a={};for(let n=0;n<e;n++){t=u[n];let i;if(r=t,!sx(t)&&(r=om[(i=String(t)).toLowerCase()],r===void 0))throw new ue(`Unknown adapter '${i}'`);if(r)break;a[i||"#"+n]=r}if(!r){const n=Object.entries(a).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=e?n.length>1?`since :
`+n.map(h1).join(`
`):" "+h1(n[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:om};function Np(u){if(u.cancelToken&&u.cancelToken.throwIfRequested(),u.signal&&u.signal.aborted)throw new vc(null,u)}function u1(u){return Np(u),u.headers=hn.from(u.headers),u.data=Ip.call(u,u.transformRequest),["post","put","patch"].indexOf(u.method)!==-1&&u.headers.setContentType("application/x-www-form-urlencoded",!1),my.getAdapter(u.adapter||td.adapter)(u).then(function(r){return Np(u),r.data=Ip.call(u,u.transformResponse,r),r.headers=hn.from(r.headers),r},function(r){return hy(r)||(Np(u),r&&r.response&&(r.response.data=Ip.call(u,u.transformResponse,r.response),r.response.headers=hn.from(r.response.headers))),Promise.reject(r)})}const gy="1.7.2",K0={};["object","boolean","number","function","string","symbol"].forEach((u,e)=>{K0[u]=function(r){return typeof r===u||"a"+(e<1?"n ":" ")+u}});const d1={};K0.transitional=function(e,t,r){function a(n,i){return"[Axios v"+gy+"] Transitional option '"+n+"'"+i+(r?". "+r:"")}return(n,i,o)=>{if(e===!1)throw new ue(a(i," has been removed"+(t?" in "+t:"")),ue.ERR_DEPRECATED);return t&&!d1[i]&&(d1[i]=!0,console.warn(a(i," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(n,i,o):!0}};function ax(u,e,t){if(typeof u!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(u);let a=r.length;for(;a-- >0;){const n=r[a],i=e[n];if(i){const o=u[n],l=o===void 0||i(o,n,u);if(l!==!0)throw new ue("option "+n+" must be "+l,ue.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ue("Unknown option "+n,ue.ERR_BAD_OPTION)}}const lm={assertOptions:ax,validators:K0},Ls=lm.validators;class jo{constructor(e){this.defaults=e,this.interceptors={request:new i1,response:new i1}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const n=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?n&&!String(r.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+n):r.stack=n}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ho(this.defaults,t);const{transitional:r,paramsSerializer:a,headers:n}=t;r!==void 0&&lm.assertOptions(r,{silentJSONParsing:Ls.transitional(Ls.boolean),forcedJSONParsing:Ls.transitional(Ls.boolean),clarifyTimeoutError:Ls.transitional(Ls.boolean)},!1),a!=null&&(gt.isFunction(a)?t.paramsSerializer={serialize:a}:lm.assertOptions(a,{encode:Ls.function,serialize:Ls.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=n&&gt.merge(n.common,n[t.method]);n&&gt.forEach(["delete","get","head","post","put","patch","common"],p=>{delete n[p]}),t.headers=hn.concat(i,n);const o=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(l=l&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const s=[];this.interceptors.response.forEach(function(g){s.push(g.fulfilled,g.rejected)});let c,f=0,h;if(!l){const p=[u1.bind(this),void 0];for(p.unshift.apply(p,o),p.push.apply(p,s),h=p.length,c=Promise.resolve(t);f<h;)c=c.then(p[f++],p[f++]);return c}h=o.length;let d=t;for(f=0;f<h;){const p=o[f++],g=o[f++];try{d=p(d)}catch(m){g.call(this,m);break}}try{c=u1.call(this,d)}catch(p){return Promise.reject(p)}for(f=0,h=s.length;f<h;)c=c.then(s[f++],s[f++]);return c}getUri(e){e=Ho(this.defaults,e);const t=dy(e.baseURL,e.url);return oy(t,e.params,e.paramsSerializer)}}gt.forEach(["delete","get","head","options"],function(e){jo.prototype[e]=function(t,r){return this.request(Ho(r||{},{method:e,url:t,data:(r||{}).data}))}});gt.forEach(["post","put","patch"],function(e){function t(r){return function(n,i,o){return this.request(Ho(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}jo.prototype[e]=t(),jo.prototype[e+"Form"]=t(!0)});class Z0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(n){t=n});const r=this;this.promise.then(a=>{if(!r._listeners)return;let n=r._listeners.length;for(;n-- >0;)r._listeners[n](a);r._listeners=null}),this.promise.then=a=>{let n;const i=new Promise(o=>{r.subscribe(o),n=o}).then(a);return i.cancel=function(){r.unsubscribe(n)},i},e(function(n,i,o){r.reason||(r.reason=new vc(n,i,o),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new Z0(function(a){e=a}),cancel:e}}}function ox(u){return function(t){return u.apply(null,t)}}function lx(u){return gt.isObject(u)&&u.isAxiosError===!0}const cm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cm).forEach(([u,e])=>{cm[e]=u});function by(u){const e=new jo(u),t=Kb(jo.prototype.request,e);return gt.extend(t,jo.prototype,e,{allOwnKeys:!0}),gt.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return by(Ho(u,a))},t}const mr=by(td);mr.Axios=jo;mr.CanceledError=vc;mr.CancelToken=Z0;mr.isCancel=hy;mr.VERSION=gy;mr.toFormData=ap;mr.AxiosError=ue;mr.Cancel=mr.CanceledError;mr.all=function(e){return Promise.all(e)};mr.spread=ox;mr.isAxiosError=lx;mr.mergeConfig=Ho;mr.AxiosHeaders=hn;mr.formToJSON=u=>cy(gt.isHTMLForm(u)?new FormData(u):u);mr.getAdapter=my.getAdapter;mr.HttpStatusCode=cm;mr.default=mr;const cx=gn.object({startIndex:gn.number().describe("What row will you start at? Indicated by the owner."),lastRowExplanation:gn.string().describe("Look very closely at the last row of the table (this row may be empty). 1. mention the row id. 2. Explain if this row is missing its bottom bar and is therefore not fully visible, due to an image crop."),endIndex:gn.number().describe("Based on the explanation for the visibility of the last row, write down the id of the last visible row. If the last row is not missing its bottom bar, list this id. If it is missing its bottom bar, write down the id of the previous last row. This is the last row you will take into consideration."),rows:gn.array(gn.object({id:gn.number().describe("The row number. Can be everything between 1 and 50."),amount:gn.number().default(1).describe("The number of products in the delivery. Typically between 1 and 10."),street:gn.string().default("#unkown").describe(`The street the flowers were delivered to WITHOUT number. If the cell is unclear or empty write #unknown. Else if the cell doesn't include a street name, but " or ', then write #same to indicate that the cell value is the same as the cell above. Make sure to correct all capitalization the writer used.`),numberWithAddition:gn.string().default("#unkown").describe("The house number and optional addition of the address column."),place:gn.string().default("#unknown").describe(`The city, village or neighbourhood the flowers were delivered in. If the cell is unclear or empty write #unknown. Else if the cell doesn't include a street name, but " or ', then write #same to indicate that the cell value is the same as the cell above. Make sure to correct all capitalization the writer used.`),sender:gn.enum(["Boeketten.nl","Kapteyn bloemen","Orchidee","Lotus","Bloem Den Daas","Iris","Margriet","Rozeneiland","Jopies bloemen","Nicole","#unknown","#same"]).default("#unkown").describe(`The shop the flowers were sold by and where they needed to be picked up for delivery. Only choose from the predefined options: Boeketten.nl, Kapteyn bloemen, Orchidee, Lotus, Bloem Den Daas, Iris, Margriet, Rozeneiland, Jopies bloemen, Nicole. IMPORTANT If the name you read is NOT in the list of options, then write down #unknown! If the cell doesn't include a name, but " or ', then choose #same to indicate that the cell value is the same as the cell above.`),date:gn.string().default("#unknown").describe(`The date in the 'datum' column. ALWAYS convert it to DD-MM notation (e.g. '14 sept' becomes '14-09' and '22-7-2023' becomes '22-07')! If the cell does not contain a value or the value is unclear, then choose #unknown. If the cell only contains a " or ', then write #same to indicate that the cell value is the same as the cell above.`)}).describe("A full row from the table. Do not include empty rows.")).describe("An array of rows from the table. Include only the fully visible rows, as defined by the startIndex and endIndex. If a row is not filled out, you MUST leave it out of this array! It is possible that all rows are empty, then leave this array empty.")}),hx={type:"function",function:{name:"insert_rows",description:"Inserts records of flower deliveries into a table.",parameters:D4(cx,"tableSchema").definitions.tableSchema}},ux=u=>new Promise((e,t)=>{const r=new FileReader;r.readAsDataURL(u),r.onload=()=>e(r.result),r.onerror=a=>t(a)}),dx=async(u,e)=>{const t={model:"gpt-4o",tools:[hx],tool_choice:{type:"function",function:{name:"insert_rows"}},messages:[{role:"system",content:[{type:"text",text:"You are an assistant helping the owner of a flower courier with his administration. The owner receives handwritten tables from his couriers containing information about flower deliveries. It is your job to convert these tables to a format that can be easily imported in Excel."}]},{role:"user",content:[{type:"text",text:`Please find attached a cropped version of the handwritten table. Convert the rows to machine readable text. IMPORTANT: if a row was cut off during the cropping stage, skip it! You can clearly see if a row is cut off by it missing a top or bottom bar. This usually happens with the top or bottom row. When a row is cut off indicate this in your reponse by using the 'skip' option. When converting a row: only look at that exact row! Go over it row by row. Do not create information that is not there, just read it character by character. Start at row ${e}!`},{type:"image_url",image_url:{url:u,detail:"high"}}]}]};try{return(await mr.post("https://api.openai.com/v1/chat/completions",JSON.stringify(t),{headers:{Authorization:`Bearer ${localStorage.getItem("openaiApiKey")}`,"Content-Type":"application/json"}})).data.choices[0].message.tool_calls[0].function.arguments}catch(r){throw console.error("Error sending image with prompt:",r),r}},fx="modulepreload",px=function(u){return"/handgeschreven-tabel-converter/"+u},f1={},yd=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),i=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));a=Promise.all(t.map(o=>{if(o=px(o),o in f1)return;f1[o]=!0;const l=o.endsWith(".css"),s=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${s}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":fx,l||(c.as="script",c.crossOrigin=""),c.href=o,i&&c.setAttribute("nonce",i),document.head.appendChild(c),l)return new Promise((f,h)=>{c.addEventListener("load",f),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})}))}return a.then(()=>e()).catch(n=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=n,window.dispatchEvent(i),!i.defaultPrevented)throw n})};var Kc={};Kc.d=(u,e)=>{for(var t in e)Kc.o(e,t)&&!Kc.o(u,t)&&Object.defineProperty(u,t,{enumerable:!0,get:e[t]})};Kc.o=(u,e)=>Object.prototype.hasOwnProperty.call(u,e);var ie=globalThis.pdfjsLib={};Kc.d(ie,{AbortException:()=>Go,AnnotationEditorLayer:()=>v0,AnnotationEditorParamsType:()=>oe,AnnotationEditorType:()=>Te,AnnotationEditorUIManager:()=>$o,AnnotationLayer:()=>d8,AnnotationMode:()=>Vs,CMapCompressionType:()=>um,ColorPicker:()=>kf,DOMSVGFactory:()=>Q0,DrawLayer:()=>S0,FeatureTest:()=>ln,GlobalWorkerOptions:()=>Ss,ImageKind:()=>Id,InvalidPDFException:()=>vy,MissingPDFException:()=>Xo,OPS:()=>Wn,Outliner:()=>t0,PDFDataRangeTransport:()=>pv,PDFDateString:()=>Ey,PDFWorker:()=>ml,PasswordResponses:()=>yx,PermissionFlag:()=>bx,PixelsPerInch:()=>va,RenderingCancelledException:()=>tg,TextLayer:()=>gc,UnexpectedResponseException:()=>up,Util:()=>Vt,VerbosityLevel:()=>lp,XfaLayer:()=>gv,build:()=>q5,createValidAbsoluteUrl:()=>xx,fetchData:()=>gp,getDocument:()=>j5,getFilenameFromUrl:()=>Px,getPdfFilenameFromUrl:()=>Ix,getXfaPageViewport:()=>Nx,isDataScheme:()=>eg,isPdfFile:()=>rg,noContextMenu:()=>un,normalizeUnicode:()=>Tx,renderTextLayer:()=>T5,setLayerDimensions:()=>Uo,shadow:()=>Ie,updateTextLayer:()=>M5,version:()=>W5});const $r=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),yy=[1,0,0,1,0,0],hm=[.001,0,0,.001,0,0],mx=1e7,Lp=1.35,Nn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Vs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},gx="pdfjs_internal_editor_",Te={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},oe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},bx={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},jr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Id={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},yr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Sc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},lp={ERRORS:0,WARNINGS:1,INFOS:5},um={NONE:0,BINARY:1},Wn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},yx={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let cp=lp.WARNINGS;function vx(u){Number.isInteger(u)&&(cp=u)}function wx(){return cp}function hp(u){cp>=lp.INFOS&&console.log(`Info: ${u}`)}function we(u){cp>=lp.WARNINGS&&console.log(`Warning: ${u}`)}function Ye(u){throw new Error(u)}function Sr(u,e){u||Ye(e)}function _x(u){switch(u==null?void 0:u.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function xx(u,e=null,t=null){if(!u)return null;try{if(t&&typeof u=="string"){if(t.addDefaultProtocol&&u.startsWith("www.")){const a=u.match(/\./g);(a==null?void 0:a.length)>=2&&(u=`http://${u}`)}if(t.tryConvertEncoding)try{u=Cx(u)}catch{}}const r=e?new URL(u,e):new URL(u);if(_x(r))return r}catch{}return null}function Ie(u,e,t,r=!1){return Object.defineProperty(u,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const ka=function(){function e(t,r){this.constructor===e&&Ye("Cannot initialize BaseException."),this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class dm extends ka{constructor(e,t){super(e,"PasswordException"),this.code=t}}class fm extends ka{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class vy extends ka{constructor(e){super(e,"InvalidPDFException")}}class Xo extends ka{constructor(e){super(e,"MissingPDFException")}}class up extends ka{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class Sx extends ka{constructor(e){super(e,"FormatError")}}class Go extends ka{constructor(e){super(e,"AbortException")}}function wy(u){(typeof u!="object"||(u==null?void 0:u.length)===void 0)&&Ye("Invalid argument for bytesToString");const e=u.length,t=8192;if(e<t)return String.fromCharCode.apply(null,u);const r=[];for(let a=0;a<e;a+=t){const n=Math.min(a+t,e),i=u.subarray(a,n);r.push(String.fromCharCode.apply(null,i))}return r.join("")}function dp(u){typeof u!="string"&&Ye("Invalid argument for stringToBytes");const e=u.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=u.charCodeAt(r)&255;return t}function Ax(u){return String.fromCharCode(u>>24&255,u>>16&255,u>>8&255,u&255)}function Y0(u){const e=Object.create(null);for(const[t,r]of u)e[t]=r;return e}function kx(){const u=new Uint8Array(4);return u[0]=1,new Uint32Array(u.buffer,0,1)[0]===1}function Ex(){try{return new Function(""),!0}catch{return!1}}class ln{static get isLittleEndian(){return Ie(this,"isLittleEndian",kx())}static get isEvalSupported(){return Ie(this,"isEvalSupported",Ex())}static get isOffscreenCanvasSupported(){return Ie(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ie(this,"platform",{isMac:navigator.platform.includes("Mac")}):Ie(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return Ie(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Dp=Array.from(Array(256).keys(),u=>u.toString(16).padStart(2,"0"));var ks,Nd,pm;class Vt{static makeHexColor(e,t,r){return`#${Dp[e]}${Dp[t]}${Dp[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],a=e[0]*t[1]+e[1]*t[3]+t[5];return[r,a]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],a=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,n=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[a,n]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),a=this.applyTransform(e.slice(2,4),t),n=this.applyTransform([e[0],e[3]],t),i=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],a[0],n[0],i[0]),Math.min(r[1],a[1],n[1],i[1]),Math.max(r[0],a[0],n[0],i[0]),Math.max(r[1],a[1],n[1],i[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],a=e[0]*t[1]+e[1]*t[3],n=e[2]*t[0]+e[3]*t[2],i=e[2]*t[1]+e[3]*t[3],o=(r+i)/2,l=Math.sqrt((r+i)**2-4*(r*i-n*a))/2,s=o+l||1,c=o-l||1;return[Math.sqrt(s),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),a=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>a)return null;const n=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),i=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return n>i?null:[r,n,a,i]}static bezierBoundingBox(e,t,r,a,n,i,o,l,s){return s?(s[0]=Math.min(s[0],e,o),s[1]=Math.min(s[1],t,l),s[2]=Math.max(s[2],e,o),s[3]=Math.max(s[3],t,l)):s=[Math.min(e,o),Math.min(t,l),Math.max(e,o),Math.max(t,l)],Q(this,ks,pm).call(this,e,r,n,o,t,a,i,l,3*(-e+3*(r-n)+o),6*(e-2*r+n),3*(r-e),s),Q(this,ks,pm).call(this,e,r,n,o,t,a,i,l,3*(-t+3*(a-i)+l),6*(t-2*a+i),3*(a-t),s),s}}ks=new WeakSet,Nd=function(e,t,r,a,n,i,o,l,s,c){if(s<=0||s>=1)return;const f=1-s,h=s*s,d=h*s,p=f*(f*(f*e+3*s*t)+3*h*r)+d*a,g=f*(f*(f*n+3*s*i)+3*h*o)+d*l;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],g),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],g)},pm=function(e,t,r,a,n,i,o,l,s,c,f,h){if(Math.abs(s)<1e-12){Math.abs(c)>=1e-12&&Q(this,ks,Nd).call(this,e,t,r,a,n,i,o,l,-f/c,h);return}const d=c**2-4*f*s;if(d<0)return;const p=Math.sqrt(d),g=2*s;Q(this,ks,Nd).call(this,e,t,r,a,n,i,o,l,(-c+p)/g,h),Q(this,ks,Nd).call(this,e,t,r,a,n,i,o,l,(-c-p)/g,h)},tt(Vt,ks);function Cx(u){return decodeURIComponent(escape(u))}let jp=null,p1=null;function Tx(u){return jp||(jp=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,p1=new Map([["","t"]])),u.replaceAll(jp,(e,t,r)=>t?t.normalize("NFKC"):p1.get(r))}function Mx(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const u=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(u);else for(let e=0;e<32;e++)u[e]=Math.floor(Math.random()*255);return wy(u)}const _y="pdfjs_internal_id_",Ui={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class fp{constructor(){this.constructor===fp&&Ye("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,a,n){return"none"}destroy(e=!1){}}var vh;const og=class og{constructor({enableHWA:e=!1}={}){tt(this,vh,!1);this.constructor===og&&Ye("Cannot initialize BaseCanvasFactory."),J(this,vh,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!E(this,vh)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ye("Abstract method `_createCanvas` called.")}};vh=new WeakMap;let wf=og;class pp{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===pp&&Ye("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?um.BINARY:um.NONE;return this._fetchData(t,r).catch(a=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){Ye("Abstract method `_fetchData` called.")}}class mp{constructor({baseUrl:e=null}){this.constructor===mp&&Ye("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){Ye("Abstract method `_fetchData` called.")}}class J0{constructor(){this.constructor===J0&&Ye("Cannot initialize BaseSVGFactory.")}create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),r||(a.setAttribute("width",`${e}px`),a.setAttribute("height",`${t}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${e} ${t}`),a}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ye("Abstract method `_createSVG` called.")}}const Wi="http://www.w3.org/2000/svg",Da=class Da{};ce(Da,"CSS",96),ce(Da,"PDF",72),ce(Da,"PDF_TO_CSS_UNITS",Da.CSS/Da.PDF);let va=Da;var Fa,gi,Ji,sn,Cf,Ba,Ut,Fr,rl,nl,Ld,xy,mm,il,Mc,Rc,gm,Oc;class Rx extends fp{constructor({docId:t,ownerDocument:r=globalThis.document}={}){super();tt(this,Ut);tt(this,Fa);tt(this,gi);tt(this,Ji);tt(this,sn);tt(this,Cf);tt(this,Ba,0);J(this,Ji,t),J(this,sn,r)}addFilter(t){if(!t)return"none";let r=E(this,Ut,Fr).get(t);if(r)return r;const[a,n,i]=Q(this,Ut,Ld).call(this,t),o=t.length===1?a:`${a}${n}${i}`;if(r=E(this,Ut,Fr).get(o),r)return E(this,Ut,Fr).set(t,r),r;const l=`g_${E(this,Ji)}_transfer_map_${mn(this,Ba)._++}`,s=`url(#${l})`;E(this,Ut,Fr).set(t,s),E(this,Ut,Fr).set(o,s);const c=Q(this,Ut,il).call(this,l);return Q(this,Ut,Rc).call(this,a,n,i,c),s}addHCMFilter(t,r){var p;const a=`${t}-${r}`,n="base";let i=E(this,Ut,rl).get(n);if((i==null?void 0:i.key)===a||(i?((p=i.filter)==null||p.remove(),i.key=a,i.url="none",i.filter=null):(i={key:a,url:"none",filter:null},E(this,Ut,rl).set(n,i)),!t||!r))return i.url;const o=Q(this,Ut,Oc).call(this,t);t=Vt.makeHexColor(...o);const l=Q(this,Ut,Oc).call(this,r);if(r=Vt.makeHexColor(...l),E(this,Ut,nl).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return i.url;const s=new Array(256);for(let g=0;g<=255;g++){const m=g/255;s[g]=m<=.03928?m/12.92:((m+.055)/1.055)**2.4}const c=s.join(","),f=`g_${E(this,Ji)}_hcm_filter`,h=i.filter=Q(this,Ut,il).call(this,f);Q(this,Ut,Rc).call(this,c,c,c,h),Q(this,Ut,mm).call(this,h);const d=(g,m)=>{const b=o[g]/255,y=l[g]/255,x=new Array(m+1);for(let k=0;k<=m;k++)x[k]=b+k/m*(y-b);return x.join(",")};return Q(this,Ut,Rc).call(this,d(0,5),d(1,5),d(2,5),h),i.url=`url(#${f})`,i.url}addAlphaFilter(t){let r=E(this,Ut,Fr).get(t);if(r)return r;const[a]=Q(this,Ut,Ld).call(this,[t]),n=`alpha_${a}`;if(r=E(this,Ut,Fr).get(n),r)return E(this,Ut,Fr).set(t,r),r;const i=`g_${E(this,Ji)}_alpha_map_${mn(this,Ba)._++}`,o=`url(#${i})`;E(this,Ut,Fr).set(t,o),E(this,Ut,Fr).set(n,o);const l=Q(this,Ut,il).call(this,i);return Q(this,Ut,gm).call(this,a,l),o}addLuminosityFilter(t){let r=E(this,Ut,Fr).get(t||"luminosity");if(r)return r;let a,n;if(t?([a]=Q(this,Ut,Ld).call(this,[t]),n=`luminosity_${a}`):n="luminosity",r=E(this,Ut,Fr).get(n),r)return E(this,Ut,Fr).set(t,r),r;const i=`g_${E(this,Ji)}_luminosity_map_${mn(this,Ba)._++}`,o=`url(#${i})`;E(this,Ut,Fr).set(t,o),E(this,Ut,Fr).set(n,o);const l=Q(this,Ut,il).call(this,i);return Q(this,Ut,xy).call(this,l),t&&Q(this,Ut,gm).call(this,a,l),o}addHighlightHCMFilter(t,r,a,n,i){var y;const o=`${r}-${a}-${n}-${i}`;let l=E(this,Ut,rl).get(t);if((l==null?void 0:l.key)===o||(l?((y=l.filter)==null||y.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},E(this,Ut,rl).set(t,l)),!r||!a))return l.url;const[s,c]=[r,a].map(Q(this,Ut,Oc).bind(this));let f=Math.round(.2126*s[0]+.7152*s[1]+.0722*s[2]),h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[d,p]=[n,i].map(Q(this,Ut,Oc).bind(this));h<f&&([f,h,d,p]=[h,f,p,d]),E(this,Ut,nl).style.color="";const g=(x,k,M)=>{const I=new Array(256),B=(h-f)/M,j=x/255,F=(k-x)/(255*M);let z=0;for(let $=0;$<=M;$++){const H=Math.round(f+$*B),C=j+$*F;for(let O=z;O<=H;O++)I[O]=C;z=H+1}for(let $=z;$<256;$++)I[$]=I[z-1];return I.join(",")},m=`g_${E(this,Ji)}_hcm_${t}_filter`,b=l.filter=Q(this,Ut,il).call(this,m);return Q(this,Ut,mm).call(this,b),Q(this,Ut,Rc).call(this,g(d[0],p[0],5),g(d[1],p[1],5),g(d[2],p[2],5),b),l.url=`url(#${m})`,l.url}destroy(t=!1){t&&E(this,Ut,rl).size!==0||(E(this,gi)&&(E(this,gi).parentNode.parentNode.remove(),J(this,gi,null)),E(this,Fa)&&(E(this,Fa).clear(),J(this,Fa,null)),J(this,Ba,0))}}Fa=new WeakMap,gi=new WeakMap,Ji=new WeakMap,sn=new WeakMap,Cf=new WeakMap,Ba=new WeakMap,Ut=new WeakSet,Fr=function(){return E(this,Fa)||J(this,Fa,new Map)},rl=function(){return E(this,Cf)||J(this,Cf,new Map)},nl=function(){if(!E(this,gi)){const t=E(this,sn).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const a=E(this,sn).createElementNS(Wi,"svg");a.setAttribute("width",0),a.setAttribute("height",0),J(this,gi,E(this,sn).createElementNS(Wi,"defs")),t.append(a),a.append(E(this,gi)),E(this,sn).body.append(t)}return E(this,gi)},Ld=function(t){if(t.length===1){const s=t[0],c=new Array(256);for(let h=0;h<256;h++)c[h]=s[h]/255;const f=c.join(",");return[f,f,f]}const[r,a,n]=t,i=new Array(256),o=new Array(256),l=new Array(256);for(let s=0;s<256;s++)i[s]=r[s]/255,o[s]=a[s]/255,l[s]=n[s]/255;return[i.join(","),o.join(","),l.join(",")]},xy=function(t){const r=E(this,sn).createElementNS(Wi,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},mm=function(t){const r=E(this,sn).createElementNS(Wi,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},il=function(t){const r=E(this,sn).createElementNS(Wi,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),E(this,Ut,nl).append(r),r},Mc=function(t,r,a){const n=E(this,sn).createElementNS(Wi,r);n.setAttribute("type","discrete"),n.setAttribute("tableValues",a),t.append(n)},Rc=function(t,r,a,n){const i=E(this,sn).createElementNS(Wi,"feComponentTransfer");n.append(i),Q(this,Ut,Mc).call(this,i,"feFuncR",t),Q(this,Ut,Mc).call(this,i,"feFuncG",r),Q(this,Ut,Mc).call(this,i,"feFuncB",a)},gm=function(t,r){const a=E(this,sn).createElementNS(Wi,"feComponentTransfer");r.append(a),Q(this,Ut,Mc).call(this,a,"feFuncA",t)},Oc=function(t){return E(this,Ut,nl).style.color=t,ng(getComputedStyle(E(this,Ut,nl)).getPropertyValue("color"))};class Ox extends wf{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}async function gp(u,e="text"){if(Pc(u,document.baseURI)){const t=await fetch(u);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const a=new XMLHttpRequest;a.open("GET",u,!0),a.responseType=e,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(a.response);return}t(a.responseText);return}r(new Error(a.statusText))}},a.send(null)})}class Sy extends pp{_fetchData(e,t){return gp(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):dp(r),compressionType:t}))}}class Ay extends mp{_fetchData(e){return gp(e,"arraybuffer").then(t=>new Uint8Array(t))}}class Q0 extends J0{_createSVG(e){return document.createElementNS(Wi,e)}}class ed{constructor({viewBox:e,scale:t,rotation:r,offsetX:a=0,offsetY:n=0,dontFlip:i=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=a,this.offsetY=n;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let s,c,f,h;switch(r%=360,r<0&&(r+=360),r){case 180:s=-1,c=0,f=0,h=1;break;case 90:s=0,c=1,f=1,h=0;break;case 270:s=0,c=-1,f=-1,h=0;break;case 0:s=1,c=0,f=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}i&&(f=-f,h=-h);let d,p,g,m;s===0?(d=Math.abs(l-e[1])*t+a,p=Math.abs(o-e[0])*t+n,g=(e[3]-e[1])*t,m=(e[2]-e[0])*t):(d=Math.abs(o-e[0])*t+a,p=Math.abs(l-e[1])*t+n,g=(e[2]-e[0])*t,m=(e[3]-e[1])*t),this.transform=[s*t,c*t,f*t,h*t,d-s*t*o-f*t*l,p-c*t*o-h*t*l],this.width=g,this.height=m}get rawDims(){const{viewBox:e}=this;return Ie(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:a=this.offsetY,dontFlip:n=!1}={}){return new ed({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:a,dontFlip:n})}convertToViewportPoint(e,t){return Vt.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Vt.applyTransform([e[0],e[1]],this.transform),r=Vt.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return Vt.applyInverseTransform([e,t],this.transform)}}class tg extends ka{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function eg(u){const e=u.length;let t=0;for(;t<e&&u[t].trim()==="";)t++;return u.substring(t,t+5).toLowerCase()==="data:"}function rg(u){return typeof u=="string"&&/\.pdf$/i.test(u)}function Px(u){return[u]=u.split(/[#?]/,1),u.substring(u.lastIndexOf("/")+1)}function Ix(u,e="document.pdf"){if(typeof u!="string")return e;if(eg(u))return we('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=t.exec(u);let n=r.exec(a[1])||r.exec(a[2])||r.exec(a[3]);if(n&&(n=n[0],n.includes("%")))try{n=r.exec(decodeURIComponent(n))[0]}catch{}return n||e}class m1{constructor(){ce(this,"started",Object.create(null));ce(this,"times",[])}time(e){e in this.started&&we(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||we(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:a,end:n}of this.times)e.push(`${r.padEnd(t)} ${n-a}ms
`);return e.join("")}}function Pc(u,e){try{const{protocol:t}=e?new URL(u,e):new URL(u);return t==="http:"||t==="https:"}catch{return!1}}function un(u){u.preventDefault()}function ky(u){console.log("Deprecated API usage: "+u)}let g1;class Ey{static toDateObject(e){if(!e||typeof e!="string")return null;g1||(g1=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=g1.exec(e);if(!t)return null;const r=parseInt(t[1],10);let a=parseInt(t[2],10);a=a>=1&&a<=12?a-1:0;let n=parseInt(t[3],10);n=n>=1&&n<=31?n:1;let i=parseInt(t[4],10);i=i>=0&&i<=23?i:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const s=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,s==="-"?(i+=c,o+=f):s==="+"&&(i-=c,o-=f),new Date(Date.UTC(r,a,n,i,o,l))}}function Nx(u,{scale:e=1,rotation:t=0}){const{width:r,height:a}=u.attributes.style,n=[0,0,parseInt(r),parseInt(a)];return new ed({viewBox:n,scale:e,rotation:t})}function ng(u){if(u.startsWith("#")){const e=parseInt(u.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return u.startsWith("rgb(")?u.slice(4,-1).split(",").map(e=>parseInt(e)):u.startsWith("rgba(")?u.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(we(`Not a valid color format: "${u}"`),[0,0,0])}function Lx(u){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of u.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;u.set(t,ng(r))}e.remove()}function ar(u){const{a:e,b:t,c:r,d:a,e:n,f:i}=u.getTransform();return[e,t,r,a,n,i]}function $i(u){const{a:e,b:t,c:r,d:a,e:n,f:i}=u.getTransform().invertSelf();return[e,t,r,a,n,i]}function Uo(u,e,t=!1,r=!0){if(e instanceof ed){const{pageWidth:a,pageHeight:n}=e.rawDims,{style:i}=u,o=ln.isCSSRoundSupported,l=`var(--scale-factor) * ${a}px`,s=`var(--scale-factor) * ${n}px`,c=o?`round(${l}, 1px)`:`calc(${l})`,f=o?`round(${s}, 1px)`:`calc(${s})`;!t||e.rotation%180===0?(i.width=c,i.height=f):(i.width=f,i.height=c)}r&&u.setAttribute("data-main-rotation",e.rotation)}var za,Ha,vn,Ua,Tf,Cy,Jr,Ty,My,Dd,Ry,ym;const Mf=class Mf{constructor(e){tt(this,Jr);tt(this,za,null);tt(this,Ha,null);tt(this,vn);tt(this,Ua,null);J(this,vn,e)}render(){const e=J(this,za,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=E(this,vn)._uiManager._signal;e.addEventListener("contextmenu",un,{signal:t}),e.addEventListener("pointerdown",Q(Mf,Tf,Cy),{signal:t});const r=J(this,Ua,document.createElement("div"));r.className="buttons",e.append(r);const a=E(this,vn).toolbarPosition;if(a){const{style:n}=e,i=E(this,vn)._uiManager.direction==="ltr"?1-a[0]:a[0];n.insetInlineEnd=`${100*i}%`,n.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return Q(this,Jr,Ry).call(this),e}hide(){var e;E(this,za).classList.add("hidden"),(e=E(this,Ha))==null||e.hideDropdown()}show(){E(this,za).classList.remove("hidden")}addAltTextButton(e){Q(this,Jr,Dd).call(this,e),E(this,Ua).prepend(e,E(this,Jr,ym))}addColorPicker(e){J(this,Ha,e);const t=e.renderButton();Q(this,Jr,Dd).call(this,t),E(this,Ua).prepend(t,E(this,Jr,ym))}remove(){var e;E(this,za).remove(),(e=E(this,Ha))==null||e.destroy(),J(this,Ha,null)}};za=new WeakMap,Ha=new WeakMap,vn=new WeakMap,Ua=new WeakMap,Tf=new WeakSet,Cy=function(e){e.stopPropagation()},Jr=new WeakSet,Ty=function(e){E(this,vn)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},My=function(e){E(this,vn)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Dd=function(e){const t=E(this,vn)._uiManager._signal;e.addEventListener("focusin",Q(this,Jr,Ty).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",Q(this,Jr,My).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",un,{signal:t})},Ry=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${E(this,vn).editorType}-button`),Q(this,Jr,Dd).call(this,e),e.addEventListener("click",t=>{E(this,vn)._uiManager.delete()},{signal:E(this,vn)._uiManager._signal}),E(this,Ua).append(e)},ym=function(){const e=document.createElement("div");return e.className="divider",e},tt(Mf,Tf);let bm=Mf;var wh,$a,Va,wa,Oy,Py,Iy;class Dx{constructor(e){tt(this,wa);tt(this,wh,null);tt(this,$a,null);tt(this,Va);J(this,Va,e)}show(e,t,r){const[a,n]=Q(this,wa,Py).call(this,t,r),{style:i}=E(this,$a)||J(this,$a,Q(this,wa,Oy).call(this));e.append(E(this,$a)),i.insetInlineEnd=`${100*a}%`,i.top=`calc(${100*n}% + var(--editor-toolbar-vert-offset))`}hide(){E(this,$a).remove()}}wh=new WeakMap,$a=new WeakMap,Va=new WeakMap,wa=new WeakSet,Oy=function(){const e=J(this,$a,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",un,{signal:E(this,Va)._signal});const t=J(this,wh,document.createElement("div"));return t.className="buttons",e.append(t),Q(this,wa,Iy).call(this),e},Py=function(e,t){let r=0,a=0;for(const n of e){const i=n.y+n.height;if(i<r)continue;const o=n.x+(t?n.width:0);if(i>r){a=o,r=i;continue}t?o>a&&(a=o):o<a&&(a=o)}return[t?1-a:a,r]},Iy=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=E(this,Va)._signal;e.addEventListener("contextmenu",un,{signal:r}),e.addEventListener("click",()=>{E(this,Va).highlightSelection("floating_button")},{signal:r}),E(this,wh).append(e)};function _f(u,e,t){for(const r of t)e.addEventListener(r,u[r].bind(u))}function jx(u){return Math.round(Math.min(255,Math.max(1,255*u))).toString(16).padStart(2,"0")}var Rf;class Fx{constructor(){tt(this,Rf,0)}get id(){return`${gx}${mn(this,Rf)._++}`}}Rf=new WeakMap;var _h,Of,Rn,xh,wm;const lg=class lg{constructor(){tt(this,xh);tt(this,_h,Mx());tt(this,Of,0);tt(this,Rn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=e;const n=a.decode().then(()=>(r.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Ie(this,"_isSVGFittingCanvas",n)}async getFromFile(e){const{lastModified:t,name:r,size:a,type:n}=e;return Q(this,xh,wm).call(this,`${t}_${r}_${a}_${n}`,e)}async getFromUrl(e){return Q(this,xh,wm).call(this,e,e)}async getFromId(e){E(this,Rn)||J(this,Rn,new Map);const t=E(this,Rn).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=E(this,Rn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){E(this,Rn)||J(this,Rn,new Map);const t=E(this,Rn).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${E(this,_h)}_`)}};_h=new WeakMap,Of=new WeakMap,Rn=new WeakMap,xh=new WeakSet,wm=async function(e,t){E(this,Rn)||J(this,Rn,new Map);let r=E(this,Rn).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${E(this,_h)}_${mn(this,Of)._++}`,refCounter:0,isSvg:!1});let a;if(typeof t=="string"?(r.url=t,a=await gp(t,"blob")):a=r.file=t,a.type==="image/svg+xml"){const n=lg._isSVGFittingCanvas,i=new FileReader,o=new Image,l=new Promise((s,c)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,s()},i.onload=async()=>{const f=r.svgUrl=i.result;o.src=await n?`${f}#svgView(preserveAspectRatio(none))`:f},o.onerror=i.onerror=c});i.readAsDataURL(a),await l}else r.bitmap=await createImageBitmap(a);r.refCounter=1}catch(a){console.error(a),r=null}return E(this,Rn).set(e,r),r&&E(this,Rn).set(r.id,r),r};let vm=lg;var Er,Ws,Sh,Cr;class Bx{constructor(e=128){tt(this,Er,[]);tt(this,Ws,!1);tt(this,Sh);tt(this,Cr,-1);J(this,Sh,e)}add({cmd:e,undo:t,post:r,mustExec:a,type:n=NaN,overwriteIfSameType:i=!1,keepUndo:o=!1}){if(a&&e(),E(this,Ws))return;const l={cmd:e,undo:t,post:r,type:n};if(E(this,Cr)===-1){E(this,Er).length>0&&(E(this,Er).length=0),J(this,Cr,0),E(this,Er).push(l);return}if(i&&E(this,Er)[E(this,Cr)].type===n){o&&(l.undo=E(this,Er)[E(this,Cr)].undo),E(this,Er)[E(this,Cr)]=l;return}const s=E(this,Cr)+1;s===E(this,Sh)?E(this,Er).splice(0,1):(J(this,Cr,s),s<E(this,Er).length&&E(this,Er).splice(s)),E(this,Er).push(l)}undo(){if(E(this,Cr)===-1)return;J(this,Ws,!0);const{undo:e,post:t}=E(this,Er)[E(this,Cr)];e(),t==null||t(),J(this,Ws,!1),J(this,Cr,E(this,Cr)-1)}redo(){if(E(this,Cr)<E(this,Er).length-1){J(this,Cr,E(this,Cr)+1),J(this,Ws,!0);const{cmd:e,post:t}=E(this,Er)[E(this,Cr)];e(),t==null||t(),J(this,Ws,!1)}}hasSomethingToUndo(){return E(this,Cr)!==-1}hasSomethingToRedo(){return E(this,Cr)<E(this,Er).length-1}destroy(){J(this,Er,null)}}Er=new WeakMap,Ws=new WeakMap,Sh=new WeakMap,Cr=new WeakMap;var Pf,Ny;class rd{constructor(e){tt(this,Pf);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=ln.platform;for(const[r,a,n={}]of e)for(const i of r){const o=i.startsWith("mac+");t&&o?(this.callbacks.set(i.slice(4),{callback:a,options:n}),this.allKeys.add(i.split("+").at(-1))):!t&&!o&&(this.callbacks.set(i,{callback:a,options:n}),this.allKeys.add(i.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(Q(this,Pf,Ny).call(this,t));if(!r)return;const{callback:a,options:{bubbles:n=!1,args:i=[],checker:o=null}}=r;o&&!o(e,t)||(a.bind(e,...i,t)(),n||(t.stopPropagation(),t.preventDefault()))}}Pf=new WeakSet,Ny=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const If=class If{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Lx(e),Ie(this,"_colors",e)}convert(e){const t=ng(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,a]of this._colors)if(a.every((n,i)=>n===t[i]))return If._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Vt.makeHexColor(...t):e}};ce(If,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _m=If;var gl,wn,vr,Mr,bl,Qi,yl,qn,vl,Wa,bi,Xn,qa,Ah,kh,yi,wl,qs,vi,Nf,Xs,Eh,Xa,Ch,_l,Rr,qe,ts,Ga,Th,Mh,Rh,Oh,Ph,Ih,Nh,Lh,Dh,jh,Fh,Bh,zh,Gs,wi,es,Hh,Dt,jd,Ly,Dy,Fd,jy,Fy,By,xm,zy,Sm,Am,Hy,Xr,js,Uy,$y,km,Vy,Ic,Em;const cl=class cl{constructor(e,t,r,a,n,i,o,l,s){tt(this,Dt);tt(this,gl,new AbortController);tt(this,wn,null);tt(this,vr,new Map);tt(this,Mr,new Map);tt(this,bl,null);tt(this,Qi,null);tt(this,yl,null);tt(this,qn,new Bx);tt(this,vl,0);tt(this,Wa,new Set);tt(this,bi,null);tt(this,Xn,null);tt(this,qa,new Set);tt(this,Ah,!1);tt(this,kh,null);tt(this,yi,null);tt(this,wl,null);tt(this,qs,!1);tt(this,vi,null);tt(this,Nf,new Fx);tt(this,Xs,!1);tt(this,Eh,!1);tt(this,Xa,null);tt(this,Ch,null);tt(this,_l,null);tt(this,Rr,Te.NONE);tt(this,qe,new Set);tt(this,ts,null);tt(this,Ga,null);tt(this,Th,null);tt(this,Mh,this.blur.bind(this));tt(this,Rh,this.focus.bind(this));tt(this,Oh,this.copy.bind(this));tt(this,Ph,this.cut.bind(this));tt(this,Ih,this.paste.bind(this));tt(this,Nh,this.keydown.bind(this));tt(this,Lh,this.keyup.bind(this));tt(this,Dh,this.onEditingAction.bind(this));tt(this,jh,this.onPageChanging.bind(this));tt(this,Fh,this.onScaleChanging.bind(this));tt(this,Bh,this.onRotationChanging.bind(this));tt(this,zh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});tt(this,Gs,[0,0]);tt(this,wi,null);tt(this,es,null);tt(this,Hh,null);this._signal=E(this,gl).signal,J(this,es,e),J(this,Hh,t),J(this,bl,r),this._eventBus=a,this._eventBus._on("editingaction",E(this,Dh)),this._eventBus._on("pagechanging",E(this,jh)),this._eventBus._on("scalechanging",E(this,Fh)),this._eventBus._on("rotationchanging",E(this,Bh)),Q(this,Dt,jy).call(this),Q(this,Dt,Hy).call(this),Q(this,Dt,xm).call(this),J(this,Qi,n.annotationStorage),J(this,kh,n.filterFactory),J(this,Ga,i),J(this,wl,o||null),J(this,Ah,l),J(this,_l,s||null),this.viewParameters={realScale:va.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=cl.prototype,t=i=>E(i,es).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&i.hasSomethingToControl(),r=(i,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},a=this.TRANSLATE_SMALL,n=this.TRANSLATE_BIG;return Ie(this,"_keyboardManager",new rd([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(i,{target:o})=>!(o instanceof HTMLButtonElement)&&E(i,es).contains(o)&&!i.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(i,{target:o})=>!(o instanceof HTMLButtonElement)&&E(i,es).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-n,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[n,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-n],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,n],checker:t}]]))}destroy(){var e,t,r;(e=E(this,gl))==null||e.abort(),J(this,gl,null),this._signal=null,this._eventBus._off("editingaction",E(this,Dh)),this._eventBus._off("pagechanging",E(this,jh)),this._eventBus._off("scalechanging",E(this,Fh)),this._eventBus._off("rotationchanging",E(this,Bh));for(const a of E(this,Mr).values())a.destroy();E(this,Mr).clear(),E(this,vr).clear(),E(this,qa).clear(),J(this,wn,null),E(this,qe).clear(),E(this,qn).destroy(),(t=E(this,bl))==null||t.destroy(),(r=E(this,vi))==null||r.hide(),J(this,vi,null),E(this,yi)&&(clearTimeout(E(this,yi)),J(this,yi,null)),E(this,wi)&&(clearTimeout(E(this,wi)),J(this,wi,null))}async mlGuess(e){var t;return((t=E(this,_l))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!E(this,_l)}get hcmFilter(){return Ie(this,"hcmFilter",E(this,Ga)?E(this,kh).addHCMFilter(E(this,Ga).foreground,E(this,Ga).background):"none")}get direction(){return Ie(this,"direction",getComputedStyle(E(this,es)).direction)}get highlightColors(){return Ie(this,"highlightColors",E(this,wl)?new Map(E(this,wl).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Ie(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){J(this,Ch,e)}editAltText(e){var t;(t=E(this,bl))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){J(this,vl,e-1)}focusMainContainer(){E(this,es).focus()}findParent(e,t){for(const r of E(this,Mr).values()){const{x:a,y:n,width:i,height:o}=r.div.getBoundingClientRect();if(e>=a&&e<=a+i&&t>=n&&t<=n+o)return r}return null}disableUserSelect(e=!1){E(this,Hh).classList.toggle("noUserSelect",e)}addShouldRescale(e){E(this,qa).add(e)}removeShouldRescale(e){E(this,qa).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*va.PDF_TO_CSS_UNITS;for(const t of E(this,qa))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:a,focusNode:n,focusOffset:i}=t,o=t.toString(),s=Q(this,Dt,jd).call(this,t).closest(".textLayer"),c=this.getSelectionBoxes(s);if(c){t.empty(),E(this,Rr)===Te.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Te.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const f of E(this,Mr).values())if(f.hasTextLayer(s)){f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:r,anchorOffset:a,focusNode:n,focusOffset:i,text:o});break}}}addToAnnotationStorage(e){!e.isEmpty()&&E(this,Qi)&&!E(this,Qi).has(e.id)&&E(this,Qi).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,E(this,qs)&&(J(this,qs,!1),Q(this,Dt,Fd).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of E(this,qe))if(t.div.contains(e)){J(this,Xa,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!E(this,Xa))return;const[e,t]=E(this,Xa);J(this,Xa,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){Q(this,Dt,xm).call(this),Q(this,Dt,Sm).call(this)}removeEditListeners(){Q(this,Dt,zy).call(this),Q(this,Dt,Am).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of E(this,Xn))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of E(this,Xn))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=E(this,wn))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const a of E(this,qe)){const n=a.serialize(!0);n&&t.push(n)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const n of t.items)for(const i of E(this,Xn))if(i.isHandlingMimeForPasting(n.type)){i.paste(n,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(n){we(`paste: "${n.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const a=this.currentLayer;try{const n=[];for(const l of r){const s=a.deserialize(l);if(!s)return;n.push(s)}const i=()=>{for(const l of n)Q(this,Dt,km).call(this,l);Q(this,Dt,Em).call(this,n)},o=()=>{for(const l of n)l.remove()};this.addCommands({cmd:i,undo:o,mustExec:!0})}catch(n){we(`paste: "${n.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),E(this,Rr)!==Te.NONE&&!this.isEditorHandlingKeyboard&&cl._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,E(this,qs)&&(J(this,qs,!1),Q(this,Dt,Fd).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(Q(this,Dt,Fy).call(this),Q(this,Dt,Sm).call(this),Q(this,Dt,Xr).call(this,{isEditing:E(this,Rr)!==Te.NONE,isEmpty:Q(this,Dt,Ic).call(this),hasSomethingToUndo:E(this,qn).hasSomethingToUndo(),hasSomethingToRedo:E(this,qn).hasSomethingToRedo(),hasSelectedEditor:!1})):(Q(this,Dt,By).call(this),Q(this,Dt,Am).call(this),Q(this,Dt,Xr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!E(this,Xn)){J(this,Xn,e);for(const t of E(this,Xn))Q(this,Dt,js).call(this,t.defaultPropertiesToUpdate)}}getId(){return E(this,Nf).id}get currentLayer(){return E(this,Mr).get(E(this,vl))}getLayer(e){return E(this,Mr).get(e)}get currentPageIndex(){return E(this,vl)}addLayer(e){E(this,Mr).set(e.pageIndex,e),E(this,Xs)?e.enable():e.disable()}removeLayer(e){E(this,Mr).delete(e.pageIndex)}updateMode(e,t=null,r=!1){if(E(this,Rr)!==e){if(J(this,Rr,e),e===Te.NONE){this.setEditingState(!1),Q(this,Dt,$y).call(this);return}this.setEditingState(!0),Q(this,Dt,Uy).call(this),this.unselectAll();for(const a of E(this,Mr).values())a.updateMode(e);if(!t&&r){this.addNewEditorFromKeyboard();return}if(t){for(const a of E(this,vr).values())if(a.annotationElementId===t){this.setSelected(a),a.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==E(this,Rr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(E(this,Xn)){switch(e){case oe.CREATE:this.currentLayer.addNewEditor();return;case oe.HIGHLIGHT_DEFAULT_COLOR:(r=E(this,Ch))==null||r.updateColor(t);break;case oe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(E(this,Th)||J(this,Th,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const a of E(this,qe))a.updateParams(e,t);for(const a of E(this,Xn))a.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var n;for(const i of E(this,vr).values())i.editorType===e&&i.show(t);(((n=E(this,Th))==null?void 0:n.get(oe.HIGHLIGHT_SHOW_ALL))??!0)!==t&&Q(this,Dt,js).call(this,[[oe.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(E(this,Eh)!==e){J(this,Eh,e);for(const t of E(this,Mr).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of E(this,vr).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return E(this,vr).get(e)}addEditor(e){E(this,vr).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(E(this,yi)&&clearTimeout(E(this,yi)),J(this,yi,setTimeout(()=>{this.focusMainContainer(),J(this,yi,null)},0))),E(this,vr).delete(e.id),this.unselect(e),(!e.annotationElementId||!E(this,Wa).has(e.annotationElementId))&&((t=E(this,Qi))==null||t.remove(e.id))}addDeletedAnnotationElement(e){E(this,Wa).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return E(this,Wa).has(e)}removeDeletedAnnotationElement(e){E(this,Wa).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){E(this,wn)!==e&&(J(this,wn,e),e&&Q(this,Dt,js).call(this,e.propertiesToUpdate))}updateUI(e){E(this,Dt,Vy)===e&&Q(this,Dt,js).call(this,e.propertiesToUpdate)}toggleSelected(e){if(E(this,qe).has(e)){E(this,qe).delete(e),e.unselect(),Q(this,Dt,Xr).call(this,{hasSelectedEditor:this.hasSelection});return}E(this,qe).add(e),e.select(),Q(this,Dt,js).call(this,e.propertiesToUpdate),Q(this,Dt,Xr).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of E(this,qe))t!==e&&t.unselect();E(this,qe).clear(),E(this,qe).add(e),e.select(),Q(this,Dt,js).call(this,e.propertiesToUpdate),Q(this,Dt,Xr).call(this,{hasSelectedEditor:!0})}isSelected(e){return E(this,qe).has(e)}get firstSelectedEditor(){return E(this,qe).values().next().value}unselect(e){e.unselect(),E(this,qe).delete(e),Q(this,Dt,Xr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return E(this,qe).size!==0}get isEnterHandled(){return E(this,qe).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){E(this,qn).undo(),Q(this,Dt,Xr).call(this,{hasSomethingToUndo:E(this,qn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Q(this,Dt,Ic).call(this)})}redo(){E(this,qn).redo(),Q(this,Dt,Xr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:E(this,qn).hasSomethingToRedo(),isEmpty:Q(this,Dt,Ic).call(this)})}addCommands(e){E(this,qn).add(e),Q(this,Dt,Xr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Q(this,Dt,Ic).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...E(this,qe)],t=()=>{for(const a of e)a.remove()},r=()=>{for(const a of e)Q(this,Dt,km).call(this,a)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=E(this,wn))==null||e.commitOrRemove()}hasSomethingToControl(){return E(this,wn)||this.hasSelection}selectAll(){for(const e of E(this,qe))e.commit();Q(this,Dt,Em).call(this,E(this,vr).values())}unselectAll(){if(!(E(this,wn)&&(E(this,wn).commitOrRemove(),E(this,Rr)!==Te.NONE))&&this.hasSelection){for(const e of E(this,qe))e.unselect();E(this,qe).clear(),Q(this,Dt,Xr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;E(this,Gs)[0]+=e,E(this,Gs)[1]+=t;const[a,n]=E(this,Gs),i=[...E(this,qe)],o=1e3;E(this,wi)&&clearTimeout(E(this,wi)),J(this,wi,setTimeout(()=>{J(this,wi,null),E(this,Gs)[0]=E(this,Gs)[1]=0,this.addCommands({cmd:()=>{for(const l of i)E(this,vr).has(l.id)&&l.translateInPage(a,n)},undo:()=>{for(const l of i)E(this,vr).has(l.id)&&l.translateInPage(-a,-n)},mustExec:!1})},o));for(const l of i)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),J(this,bi,new Map);for(const e of E(this,qe))E(this,bi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!E(this,bi))return!1;this.disableUserSelect(!1);const e=E(this,bi);J(this,bi,null);let t=!1;for(const[{x:a,y:n,pageIndex:i},o]of e)o.newX=a,o.newY=n,o.newPageIndex=i,t||(t=a!==o.savedX||n!==o.savedY||i!==o.savedPageIndex);if(!t)return!1;const r=(a,n,i,o)=>{if(E(this,vr).has(a.id)){const l=E(this,Mr).get(o);l?a._setParentAndPosition(l,n,i):(a.pageIndex=o,a.x=n,a.y=i)}};return this.addCommands({cmd:()=>{for(const[a,{newX:n,newY:i,newPageIndex:o}]of e)r(a,n,i,o)},undo:()=>{for(const[a,{savedX:n,savedY:i,savedPageIndex:o}]of e)r(a,n,i,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(E(this,bi))for(const r of E(this,bi).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||E(this,qe).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return E(this,wn)===e}getActive(){return E(this,wn)}getMode(){return E(this,Rr)}get imageManager(){return Ie(this,"imageManager",new vm)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let s=0,c=t.rangeCount;s<c;s++)if(!e.contains(t.getRangeAt(s).commonAncestorContainer))return null;const{x:r,y:a,width:n,height:i}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(s,c,f,h)=>({x:(c-a)/i,y:1-(s+f-r)/n,width:h/i,height:f/n});break;case"180":o=(s,c,f,h)=>({x:1-(s+f-r)/n,y:1-(c+h-a)/i,width:f/n,height:h/i});break;case"270":o=(s,c,f,h)=>({x:1-(c+h-a)/i,y:(s-r)/n,width:h/i,height:f/n});break;default:o=(s,c,f,h)=>({x:(s-r)/n,y:(c-a)/i,width:f/n,height:h/i});break}const l=[];for(let s=0,c=t.rangeCount;s<c;s++){const f=t.getRangeAt(s);if(!f.collapsed)for(const{x:h,y:d,width:p,height:g}of f.getClientRects())p===0||g===0||l.push(o(h,d,p,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(E(this,yl)||J(this,yl,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=E(this,yl))==null||t.delete(e)}renderAnnotationElement(e){var a;const t=(a=E(this,yl))==null?void 0:a.get(e.data.id);if(!t)return;const r=E(this,Qi).getRawValue(t);r&&(E(this,Rr)===Te.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};gl=new WeakMap,wn=new WeakMap,vr=new WeakMap,Mr=new WeakMap,bl=new WeakMap,Qi=new WeakMap,yl=new WeakMap,qn=new WeakMap,vl=new WeakMap,Wa=new WeakMap,bi=new WeakMap,Xn=new WeakMap,qa=new WeakMap,Ah=new WeakMap,kh=new WeakMap,yi=new WeakMap,wl=new WeakMap,qs=new WeakMap,vi=new WeakMap,Nf=new WeakMap,Xs=new WeakMap,Eh=new WeakMap,Xa=new WeakMap,Ch=new WeakMap,_l=new WeakMap,Rr=new WeakMap,qe=new WeakMap,ts=new WeakMap,Ga=new WeakMap,Th=new WeakMap,Mh=new WeakMap,Rh=new WeakMap,Oh=new WeakMap,Ph=new WeakMap,Ih=new WeakMap,Nh=new WeakMap,Lh=new WeakMap,Dh=new WeakMap,jh=new WeakMap,Fh=new WeakMap,Bh=new WeakMap,zh=new WeakMap,Gs=new WeakMap,wi=new WeakMap,es=new WeakMap,Hh=new WeakMap,Dt=new WeakSet,jd=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Ly=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=Q(this,Dt,jd).call(this,e).closest(".textLayer"),a=this.getSelectionBoxes(r);a&&(E(this,vi)||J(this,vi,new Dx(this)),E(this,vi).show(r,a,this.direction==="ltr"))},Dy=function(){var n,i,o;const e=document.getSelection();if(!e||e.isCollapsed){E(this,ts)&&((n=E(this,vi))==null||n.hide(),J(this,ts,null),Q(this,Dt,Xr).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===E(this,ts))return;if(!Q(this,Dt,jd).call(this,e).closest(".textLayer")){E(this,ts)&&((i=E(this,vi))==null||i.hide(),J(this,ts,null),Q(this,Dt,Xr).call(this,{hasSelectedText:!1}));return}if((o=E(this,vi))==null||o.hide(),J(this,ts,t),Q(this,Dt,Xr).call(this,{hasSelectedText:!0}),!(E(this,Rr)!==Te.HIGHLIGHT&&E(this,Rr)!==Te.NONE)&&(E(this,Rr)===Te.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),J(this,qs,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,s=c=>{c.type==="pointerup"&&c.button!==0||(window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),c.type==="pointerup"&&Q(this,Dt,Fd).call(this,"main_toolbar"))};window.addEventListener("pointerup",s,{signal:l}),window.addEventListener("blur",s,{signal:l})}},Fd=function(e=""){E(this,Rr)===Te.HIGHLIGHT?this.highlightSelection(e):E(this,Ah)&&Q(this,Dt,Ly).call(this)},jy=function(){document.addEventListener("selectionchange",Q(this,Dt,Dy).bind(this),{signal:this._signal})},Fy=function(){const e=this._signal;window.addEventListener("focus",E(this,Rh),{signal:e}),window.addEventListener("blur",E(this,Mh),{signal:e})},By=function(){window.removeEventListener("focus",E(this,Rh)),window.removeEventListener("blur",E(this,Mh))},xm=function(){const e=this._signal;window.addEventListener("keydown",E(this,Nh),{signal:e}),window.addEventListener("keyup",E(this,Lh),{signal:e})},zy=function(){window.removeEventListener("keydown",E(this,Nh)),window.removeEventListener("keyup",E(this,Lh))},Sm=function(){const e=this._signal;document.addEventListener("copy",E(this,Oh),{signal:e}),document.addEventListener("cut",E(this,Ph),{signal:e}),document.addEventListener("paste",E(this,Ih),{signal:e})},Am=function(){document.removeEventListener("copy",E(this,Oh)),document.removeEventListener("cut",E(this,Ph)),document.removeEventListener("paste",E(this,Ih))},Hy=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Xr=function(e){Object.entries(e).some(([r,a])=>E(this,zh)[r]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(E(this,zh),e)}),E(this,Rr)===Te.HIGHLIGHT&&e.hasSelectedEditor===!1&&Q(this,Dt,js).call(this,[[oe.HIGHLIGHT_FREE,!0]]))},js=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Uy=function(){if(!E(this,Xs)){J(this,Xs,!0);for(const e of E(this,Mr).values())e.enable();for(const e of E(this,vr).values())e.enable()}},$y=function(){if(this.unselectAll(),E(this,Xs)){J(this,Xs,!1);for(const e of E(this,Mr).values())e.disable();for(const e of E(this,vr).values())e.disable()}},km=function(e){const t=E(this,Mr).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Vy=function(){let e=null;for(e of E(this,qe));return e},Ic=function(){if(E(this,vr).size===0)return!0;if(E(this,vr).size===1)for(const e of E(this,vr).values())return e.isEmpty();return!1},Em=function(e){for(const t of E(this,qe))t.unselect();E(this,qe).clear();for(const t of e)t.isEmpty()||(E(this,qe).add(t),t.select());Q(this,Dt,Xr).call(this,{hasSelectedEditor:this.hasSelection})},ce(cl,"TRANSLATE_SMALL",1),ce(cl,"TRANSLATE_BIG",10);let $o=cl;var rs,ns,Gn,is,_n,xl,Kn,Uh,Cm;const Gi=class Gi{constructor(e){tt(this,Uh);tt(this,rs,"");tt(this,ns,!1);tt(this,Gn,null);tt(this,is,null);tt(this,_n,null);tt(this,xl,!1);tt(this,Kn,null);J(this,Kn,e)}static initialize(e){Gi._l10nPromise||(Gi._l10nPromise=e)}async render(){const e=J(this,Gn,document.createElement("button"));e.className="altText";const t=await Gi._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const r=E(this,Kn)._uiManager._signal;e.addEventListener("contextmenu",un,{signal:r}),e.addEventListener("pointerdown",n=>n.stopPropagation(),{signal:r});const a=n=>{n.preventDefault(),E(this,Kn)._uiManager.editAltText(E(this,Kn))};return e.addEventListener("click",a,{capture:!0,signal:r}),e.addEventListener("keydown",n=>{n.target===e&&n.key==="Enter"&&(J(this,xl,!0),a(n))},{signal:r}),await Q(this,Uh,Cm).call(this),e}finish(){E(this,Gn)&&(E(this,Gn).focus({focusVisible:E(this,xl)}),J(this,xl,!1))}isEmpty(){return!E(this,rs)&&!E(this,ns)}get data(){return{altText:E(this,rs),decorative:E(this,ns)}}set data({altText:e,decorative:t}){E(this,rs)===e&&E(this,ns)===t||(J(this,rs,e),J(this,ns,t),Q(this,Uh,Cm).call(this))}toggle(e=!1){E(this,Gn)&&(!e&&E(this,_n)&&(clearTimeout(E(this,_n)),J(this,_n,null)),E(this,Gn).disabled=!e)}destroy(){var e;(e=E(this,Gn))==null||e.remove(),J(this,Gn,null),J(this,is,null)}};rs=new WeakMap,ns=new WeakMap,Gn=new WeakMap,is=new WeakMap,_n=new WeakMap,xl=new WeakMap,Kn=new WeakMap,Uh=new WeakSet,Cm=async function(){var a;const e=E(this,Gn);if(!e)return;if(!E(this,rs)&&!E(this,ns)){e.classList.remove("done"),(a=E(this,is))==null||a.remove();return}e.classList.add("done"),Gi._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(n=>{e.setAttribute("aria-label",n)});let t=E(this,is);if(!t){J(this,is,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const n=t.id=`alt-text-tooltip-${E(this,Kn).id}`;e.setAttribute("aria-describedby",n);const i=100,o=E(this,Kn)._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(E(this,_n)),J(this,_n,null)},{once:!0}),e.addEventListener("mouseenter",()=>{J(this,_n,setTimeout(()=>{J(this,_n,null),E(this,is).classList.add("show"),E(this,Kn)._reportTelemetry({action:"alt_text_tooltip"})},i))},{signal:o}),e.addEventListener("mouseleave",()=>{var l;E(this,_n)&&(clearTimeout(E(this,_n)),J(this,_n,null)),(l=E(this,is))==null||l.classList.remove("show")},{signal:o})}t.innerText=E(this,ns)?await Gi._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):E(this,rs),t.parentNode||e.append(t);const r=E(this,Kn).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},ce(Gi,"_l10nPromise",null);let xf=Gi;var Ka,Zn,zr,Sl,Za,Or,Ya,Al,kl,Hr,$h,Ja,Ks,Vh,Qa,ss,_i,El,Cl,On,Wh,Lf,_e,Tm,qh,Mm,Rm,Wy,qy,Om,Pm,Im,Xy,Gy,Ky,Zy,Nm,Nc;const tr=class tr{constructor(e){tt(this,_e);tt(this,Ka,null);tt(this,Zn,null);tt(this,zr,null);tt(this,Sl,!1);tt(this,Za,!1);tt(this,Or,null);tt(this,Ya,null);tt(this,Al,this.focusin.bind(this));tt(this,kl,this.focusout.bind(this));tt(this,Hr,null);tt(this,$h,"");tt(this,Ja,!1);tt(this,Ks,null);tt(this,Vh,!1);tt(this,Qa,!1);tt(this,ss,!1);tt(this,_i,null);tt(this,El,0);tt(this,Cl,0);tt(this,On,null);ce(this,"_initialOptions",Object.create(null));ce(this,"_isVisible",!0);ce(this,"_uiManager",null);ce(this,"_focusEventsAllowed",!0);ce(this,"_l10nPromise",null);tt(this,Wh,!1);tt(this,Lf,tr._zIndex++);this.constructor===tr&&Ye("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:a,pageX:n,pageY:i}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,a],this.pageTranslation=[n,i];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=tr.prototype._resizeWithKeyboard,t=$o.TRANSLATE_SMALL,r=$o.TRANSLATE_BIG;return Ie(this,"_resizerKeyboardManager",new rd([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],tr.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ie(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new zx({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,r){if(tr._l10nPromise||(tr._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(n=>[n,e.get(n.replaceAll(/([A-Z])/g,i=>`-${i.toLowerCase()}`))]))),r!=null&&r.strings)for(const n of r.strings)tr._l10nPromise.set(n,e.get(n));if(tr._borderLineWidth!==-1)return;const a=getComputedStyle(document.documentElement);tr._borderLineWidth=parseFloat(a.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ye("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return E(this,Wh)}set _isDraggable(e){var t;J(this,Wh,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=E(this,Lf)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):Q(this,_e,Nc).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(E(this,Ja)?J(this,Ja,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,a){const[n,i]=this.parentDimensions;[r,a]=this.screenToPageTranslation(r,a),this.x=(e+r)/n,this.y=(t+a)/i,this.fixAndSetPosition()}translate(e,t){Q(this,_e,Tm).call(this,this.parentDimensions,e,t)}translateInPage(e,t){E(this,Ks)||J(this,Ks,[this.x,this.y]),Q(this,_e,Tm).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){E(this,Ks)||J(this,Ks,[this.x,this.y]);const[r,a]=this.parentDimensions;if(this.x+=e/r,this.y+=t/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:s,y:c}=this.div.getBoundingClientRect();this.parent.findNewParent(this,s,c)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:n,y:i}=this;const[o,l]=this.getBaseTranslation();n+=o,i+=l,this.div.style.left=`${(100*n).toFixed(2)}%`,this.div.style.top=`${(100*i).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!E(this,Ks)&&(E(this,Ks)[0]!==this.x||E(this,Ks)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=tr,a=r/e,n=r/t;switch(this.rotation){case 90:return[-a,n];case 180:return[a,n];case 270:return[a,-n];default:return[-a,-n]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:a,y:n,width:i,height:o}=this;if(i*=t,o*=r,a*=t,n*=r,this._mustFixPosition)switch(e){case 0:a=Math.max(0,Math.min(t-i,a)),n=Math.max(0,Math.min(r-o,n));break;case 90:a=Math.max(0,Math.min(t-o,a)),n=Math.min(r,Math.max(i,n));break;case 180:a=Math.min(t,Math.max(i,a)),n=Math.min(r,Math.max(o,n));break;case 270:a=Math.min(t,Math.max(o,a)),n=Math.max(0,Math.min(r-i,n));break}this.x=a/=t,this.y=n/=r;const[l,s]=this.getBaseTranslation();a+=l,n+=s;const{style:c}=this.div;c.left=`${(100*a).toFixed(2)}%`,c.top=`${(100*n).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return Q(r=tr,qh,Mm).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return Q(r=tr,qh,Mm).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this,a=t*e,n=r*e;return ln.isCSSRoundSupported?[Math.round(a),Math.round(n)]:[a,n]}setDims(e,t){const[r,a]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,E(this,Za)||(this.div.style.height=`${(100*t/a).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,a=r.endsWith("%"),n=!E(this,Za)&&t.endsWith("%");if(a&&n)return;const[i,o]=this.parentDimensions;a||(e.width=`${(100*parseFloat(r)/i).toFixed(2)}%`),!E(this,Za)&&!n&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=E(this,zr))==null||e.finish()}async addEditToolbar(){return E(this,Hr)||E(this,Qa)?E(this,Hr):(J(this,Hr,new bm(this)),this.div.append(E(this,Hr).render()),E(this,zr)&&E(this,Hr).addAltTextButton(await E(this,zr).render()),E(this,Hr))}removeEditToolbar(){var e;E(this,Hr)&&(E(this,Hr).remove(),J(this,Hr,null),(e=E(this,zr))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){E(this,zr)||(xf.initialize(tr._l10nPromise),J(this,zr,new xf(this)),E(this,Ka)&&(E(this,zr).data=E(this,Ka),J(this,Ka,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=E(this,zr))==null?void 0:e.data}set altTextData(e){E(this,zr)&&(E(this,zr).data=e)}hasAltText(){var e;return!((e=E(this,zr))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=E(this,Sl)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",E(this,Al),{signal:e}),this.div.addEventListener("focusout",E(this,kl),{signal:e});const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[a,n]=this.getInitialTranslation();return this.translate(a,n),_f(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=ln.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(J(this,Ja,!0),this._isDraggable){Q(this,_e,Xy).call(this,e);return}Q(this,_e,Im).call(this,e)}moveInDOM(){E(this,_i)&&clearTimeout(E(this,_i)),J(this,_i,setTimeout(()=>{var e;J(this,_i,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const a=this.parentScale,[n,i]=this.pageDimensions,[o,l]=this.pageTranslation,s=e/a,c=t/a,f=this.x*n,h=this.y*i,d=this.width*n,p=this.height*i;switch(r){case 0:return[f+s+o,i-h-c-p+l,f+s+d+o,i-h-c+l];case 90:return[f+c+o,i-h+s+l,f+c+p+o,i-h+s+d+l];case 180:return[f-s-d+o,i-h+c+l,f-s+o,i-h+c+p+l];case 270:return[f-c-p+o,i-h-s-d+l,f-c+o,i-h-s+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,a,n,i]=e,o=n-r,l=i-a;switch(this.rotation){case 0:return[r,t-i,o,l];case 90:return[r,t-a,l,o];case 180:return[n,t-a,o,l];case 270:return[n,t-i,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){J(this,Qa,!0)}disableEditMode(){J(this,Qa,!1)}isInEditMode(){return E(this,Qa)}shouldGetKeyboardEvents(){return E(this,ss)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,r;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",E(this,Al),{signal:e}),(r=this.div)==null||r.addEventListener("focusout",E(this,kl),{signal:e})}rotate(e){}serialize(e=!1,t=null){Ye("An editor must be serializable")}static deserialize(e,t,r){const a=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});a.rotation=e.rotation,J(a,Ka,e.accessibilityData);const[n,i]=a.pageDimensions,[o,l,s,c]=a.getRectInCurrentCoords(e.rect,i);return a.x=o/n,a.y=l/i,a.width=s/n,a.height=c/i,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",E(this,Al)),this.div.removeEventListener("focusout",E(this,kl)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),E(this,_i)&&(clearTimeout(E(this,_i)),J(this,_i,null)),Q(this,_e,Nc).call(this),this.removeEditToolbar(),E(this,On)){for(const e of E(this,On).values())clearTimeout(e);J(this,On,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(Q(this,_e,Wy).call(this),E(this,Or).classList.remove("hidden"),_f(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),J(this,Ya,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=E(this,Or).children;if(!E(this,Zn)){J(this,Zn,Array.from(t));const i=Q(this,_e,Gy).bind(this),o=Q(this,_e,Ky).bind(this),l=this._uiManager._signal;for(const s of E(this,Zn)){const c=s.getAttribute("data-resizer-name");s.setAttribute("role","spinbutton"),s.addEventListener("keydown",i,{signal:l}),s.addEventListener("blur",o,{signal:l}),s.addEventListener("focus",Q(this,_e,Zy).bind(this,c),{signal:l}),tr._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(f=>s.setAttribute("aria-label",f))}}const r=E(this,Zn)[0];let a=0;for(const i of t){if(i===r)break;a++}const n=(360-this.rotation+this.parentRotation)%360/90*(E(this,Zn).length/4);if(n!==a){if(n<a)for(let o=0;o<a-n;o++)E(this,Or).append(E(this,Or).firstChild);else if(n>a)for(let o=0;o<n-a;o++)E(this,Or).firstChild.before(E(this,Or).lastChild);let i=0;for(const o of t){const s=E(this,Zn)[i++].getAttribute("data-resizer-name");tr._l10nPromise.get(`pdfjs-editor-resizer-label-${s}`).then(c=>o.setAttribute("aria-label",c))}}Q(this,_e,Nm).call(this,0),J(this,ss,!0),E(this,Or).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){E(this,ss)&&Q(this,_e,Pm).call(this,E(this,$h),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){Q(this,_e,Nc).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!E(this,Hr)){this.addEditToolbar().then(()=>{var r,a;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((a=E(this,Hr))==null||a.show())});return}(t=E(this,Hr))==null||t.show()}unselect(){var e,t,r,a;(e=E(this,Or))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(a=E(this,Hr))==null||a.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return E(this,Vh)}set isEditing(e){J(this,Vh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){J(this,Za,!0);const r=e/t,{style:a}=this.div;a.aspectRatio=r,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){E(this,On)||J(this,On,new Map);const{action:r}=e;let a=E(this,On).get(r);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(e),E(this,On).delete(r),E(this,On).size===0&&J(this,On,null)},tr._telemetryTimeout),E(this,On).set(r,a);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),J(this,Sl,!1)}disable(){this.div&&(this.div.tabIndex=-1),J(this,Sl,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Ka=new WeakMap,Zn=new WeakMap,zr=new WeakMap,Sl=new WeakMap,Za=new WeakMap,Or=new WeakMap,Ya=new WeakMap,Al=new WeakMap,kl=new WeakMap,Hr=new WeakMap,$h=new WeakMap,Ja=new WeakMap,Ks=new WeakMap,Vh=new WeakMap,Qa=new WeakMap,ss=new WeakMap,_i=new WeakMap,El=new WeakMap,Cl=new WeakMap,On=new WeakMap,Wh=new WeakMap,Lf=new WeakMap,_e=new WeakSet,Tm=function([e,t],r,a){[r,a]=this.screenToPageTranslation(r,a),this.x+=r/e,this.y+=a/t,this.fixAndSetPosition()},qh=new WeakSet,Mm=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Rm=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},Wy=function(){if(E(this,Or))return;J(this,Or,document.createElement("div")),E(this,Or).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const a=document.createElement("div");E(this,Or).append(a),a.classList.add("resizer",r),a.setAttribute("data-resizer-name",r),a.addEventListener("pointerdown",Q(this,_e,qy).bind(this,r),{signal:t}),a.addEventListener("contextmenu",un,{signal:t}),a.tabIndex=-1}this.div.prepend(E(this,Or))},qy=function(e,t){var g;t.preventDefault();const{isMac:r}=ln.platform;if(t.button!==0||t.ctrlKey&&r)return;(g=E(this,zr))==null||g.toggle(!1);const a=Q(this,_e,Pm).bind(this,e),n=this._isDraggable;this._isDraggable=!1;const i=this._uiManager._signal,o={passive:!0,capture:!0,signal:i};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",a,o),window.addEventListener("contextmenu",un,{signal:i});const l=this.x,s=this.y,c=this.width,f=this.height,h=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var m;this.parent.togglePointerEvents(!0),(m=E(this,zr))==null||m.toggle(!0),this._isDraggable=n,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",a,o),window.removeEventListener("contextmenu",un),this.parent.div.style.cursor=h,this.div.style.cursor=d,Q(this,_e,Om).call(this,l,s,c,f)};window.addEventListener("pointerup",p,{signal:i}),window.addEventListener("blur",p,{signal:i})},Om=function(e,t,r,a){const n=this.x,i=this.y,o=this.width,l=this.height;n===e&&i===t&&o===r&&l===a||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=n,this.y=i;const[s,c]=this.parentDimensions;this.setDims(s*o,c*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=a,this.x=e,this.y=t;const[s,c]=this.parentDimensions;this.setDims(s*r,c*a),this.fixAndSetPosition()},mustExec:!0})},Pm=function(e,t){const[r,a]=this.parentDimensions,n=this.x,i=this.y,o=this.width,l=this.height,s=tr.MIN_SIZE/r,c=tr.MIN_SIZE/a,f=w=>Math.round(w*1e4)/1e4,h=Q(this,_e,Rm).call(this,this.rotation),d=(w,_)=>[h[0]*w+h[2]*_,h[1]*w+h[3]*_],p=Q(this,_e,Rm).call(this,360-this.rotation),g=(w,_)=>[p[0]*w+p[2]*_,p[1]*w+p[3]*_];let m,b,y=!1,x=!1;switch(e){case"topLeft":y=!0,m=(w,_)=>[0,0],b=(w,_)=>[w,_];break;case"topMiddle":m=(w,_)=>[w/2,0],b=(w,_)=>[w/2,_];break;case"topRight":y=!0,m=(w,_)=>[w,0],b=(w,_)=>[0,_];break;case"middleRight":x=!0,m=(w,_)=>[w,_/2],b=(w,_)=>[0,_/2];break;case"bottomRight":y=!0,m=(w,_)=>[w,_],b=(w,_)=>[0,0];break;case"bottomMiddle":m=(w,_)=>[w/2,_],b=(w,_)=>[w/2,0];break;case"bottomLeft":y=!0,m=(w,_)=>[0,_],b=(w,_)=>[w,0];break;case"middleLeft":x=!0,m=(w,_)=>[0,_/2],b=(w,_)=>[w,_/2];break}const k=m(o,l),M=b(o,l);let I=d(...M);const B=f(n+I[0]),j=f(i+I[1]);let F=1,z=1,[$,H]=this.screenToPageTranslation(t.movementX,t.movementY);if([$,H]=g($/r,H/a),y){const w=Math.hypot(o,l);F=z=Math.max(Math.min(Math.hypot(M[0]-k[0]-$,M[1]-k[1]-H)/w,1/o,1/l),s/o,c/l)}else x?F=Math.max(s,Math.min(1,Math.abs(M[0]-k[0]-$)))/o:z=Math.max(c,Math.min(1,Math.abs(M[1]-k[1]-H)))/l;const C=f(o*F),O=f(l*z);I=d(...b(C,O));const A=B-I[0],v=j-I[1];this.width=C,this.height=O,this.x=A,this.y=v,this.setDims(r*C,a*O),this.fixAndSetPosition()},Im=function(e){const{isMac:t}=ln.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},Xy=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,a;const n=this._uiManager._signal;t&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:n},J(this,El,e.clientX),J(this,Cl,e.clientY),a=o=>{const{clientX:l,clientY:s}=o,[c,f]=this.screenToPageTranslation(l-E(this,El),s-E(this,Cl));J(this,El,l),J(this,Cl,s),this._uiManager.dragSelectedEditors(c,f)},window.addEventListener("pointermove",a,r));const i=()=>{window.removeEventListener("pointerup",i),window.removeEventListener("blur",i),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",a,r)),J(this,Ja,!1),this._uiManager.endDragSession()||Q(this,_e,Im).call(this,e)};window.addEventListener("pointerup",i,{signal:n}),window.addEventListener("blur",i,{signal:n})},Gy=function(e){tr._resizerKeyboardManager.exec(this,e)},Ky=function(e){var t;E(this,ss)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==E(this,Or)&&Q(this,_e,Nc).call(this)},Zy=function(e){J(this,$h,E(this,ss)?e:"")},Nm=function(e){if(E(this,Zn))for(const t of E(this,Zn))t.tabIndex=e},Nc=function(){if(J(this,ss,!1),Q(this,_e,Nm).call(this,-1),E(this,Ya)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:a}=E(this,Ya);Q(this,_e,Om).call(this,e,t,r,a),J(this,Ya,null)}},tt(tr,qh),ce(tr,"_borderLineWidth",-1),ce(tr,"_colorManager",new _m),ce(tr,"_zIndex",1),ce(tr,"_telemetryTimeout",1e3);let Xe=tr;class zx extends Xe{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const b1=3285377520,Mn=4294901760,pi=65535;class Yy{constructor(e){this.h1=e?e&4294967295:b1,this.h2=e?e&4294967295:b1}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let g=0,m=e.length;g<m;g++){const b=e.charCodeAt(g);b<=255?t[r++]=b:(t[r++]=b>>>8,t[r++]=b&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=r>>2,n=r-a*4,i=new Uint32Array(t.buffer,0,a);let o=0,l=0,s=this.h1,c=this.h2;const f=3432918353,h=461845907,d=f&pi,p=h&pi;for(let g=0;g<a;g++)g&1?(o=i[g],o=o*f&Mn|o*d&pi,o=o<<15|o>>>17,o=o*h&Mn|o*p&pi,s^=o,s=s<<13|s>>>19,s=s*5+3864292196):(l=i[g],l=l*f&Mn|l*d&pi,l=l<<15|l>>>17,l=l*h&Mn|l*p&pi,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(o=0,n){case 3:o^=t[a*4+2]<<16;case 2:o^=t[a*4+1]<<8;case 1:o^=t[a*4],o=o*f&Mn|o*d&pi,o=o<<15|o>>>17,o=o*h&Mn|o*p&pi,a&1?s^=o:c^=o}this.h1=s,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Mn|e*36045&pi,t=t*4283543511&Mn|((t<<16|e>>>16)*2950163797&Mn)>>>16,e^=t>>>1,e=e*444984403&Mn|e*60499&pi,t=t*3301882366&Mn|((t<<16|e>>>16)*3120437893&Mn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Lm=Object.freeze({map:null,hash:"",transfer:void 0});var to,Pr,Df,Jy;class ig{constructor(){tt(this,Df);tt(this,to,!1);tt(this,Pr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=E(this,Pr).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return E(this,Pr).get(e)}remove(e){if(E(this,Pr).delete(e),E(this,Pr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of E(this,Pr).values())if(t instanceof Xe)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=E(this,Pr).get(e);let a=!1;if(r!==void 0)for(const[n,i]of Object.entries(t))r[n]!==i&&(a=!0,r[n]=i);else a=!0,E(this,Pr).set(e,t);a&&Q(this,Df,Jy).call(this),t instanceof Xe&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return E(this,Pr).has(e)}getAll(){return E(this,Pr).size>0?Y0(E(this,Pr)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return E(this,Pr).size}resetModified(){E(this,to)&&(J(this,to,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Qy(this)}get serializable(){if(E(this,Pr).size===0)return Lm;const e=new Map,t=new Yy,r=[],a=Object.create(null);let n=!1;for(const[i,o]of E(this,Pr)){const l=o instanceof Xe?o.serialize(!1,a):o;l&&(e.set(i,l),t.update(`${i}:${JSON.stringify(l)}`),n||(n=!!l.bitmap))}if(n)for(const i of e.values())i.bitmap&&r.push(i.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:Lm}get editorStats(){let e=null;const t=new Map;for(const r of E(this,Pr).values()){if(!(r instanceof Xe))continue;const a=r.telemetryFinalData;if(!a)continue;const{type:n}=a;t.has(n)||t.set(n,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const i=e[n]||(e[n]=new Map);for(const[o,l]of Object.entries(a)){if(o==="type")continue;let s=i.get(o);s||(s=new Map,i.set(o,s));const c=s.get(l)??0;s.set(l,c+1)}}for(const[r,a]of t)e[r]=a.computeTelemetryFinalData(e[r]);return e}}to=new WeakMap,Pr=new WeakMap,Df=new WeakSet,Jy=function(){E(this,to)||(J(this,to,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Xh;class Qy extends ig{constructor(t){super();tt(this,Xh);const{map:r,hash:a,transfer:n}=t.serializable,i=structuredClone(r,n?{transfer:n}:null);J(this,Xh,{map:i,hash:a,transfer:n})}get print(){Ye("Should not call PrintAnnotationStorage.print")}get serializable(){return E(this,Xh)}}Xh=new WeakMap;var Tl;class Hx{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){tt(this,Tl,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),E(this,Tl).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||E(this,Tl).has(e.loadedName))){if(Sr(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:a,style:n}=e,i=new FontFace(r,a,n);this.addNativeFontFace(i);try{await i.load(),E(this,Tl).add(r),t==null||t(e)}catch{we(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(i)}return}Ye("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(a){throw we(`Failed to load font '${r.family}': '${a}'.`),e.disableFontFace=!0,a}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const a=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,a)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ie(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return($r||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ie(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Sr(!a.done,"completeRequest() cannot be called twice."),a.done=!0;r.length>0&&r[0].done;){const n=r.shift();setTimeout(n.callback,0)}}const{loadingRequests:r}=this,a={done:!1,complete:t,callback:e};return r.push(a),a}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ie(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(k,M){return k.charCodeAt(M)<<24|k.charCodeAt(M+1)<<16|k.charCodeAt(M+2)<<8|k.charCodeAt(M+3)&255}function a(k,M,I,B){const j=k.substring(0,M),F=k.substring(M+I);return j+B+F}let n,i;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let s=0;function c(k,M){if(++s>30){we("Load test font never loaded."),M();return}if(l.font="30px "+k,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(c.bind(null,k,M))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=a(h,976,f.length,f);const p=16,g=1482184792;let m=r(h,p);for(n=0,i=f.length-3;n<i;n+=4)m=m-g+r(f,n)|0;n<f.length&&(m=m-g+r(f+"XXX",n)|0),h=a(h,p,4,Ax(m));const b=`url(data:font/opentype;base64,${btoa(h)});`,y=`@font-face {font-family:"${f}";src:${b}}`;this.insertRule(y);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const k of[e.loadedName,f]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=k,x.append(M)}this._document.body.append(x),c(f,()=>{x.remove(),t.complete()})}}Tl=new WeakMap;class Ux{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const a in e)this[a]=e[a];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var a;if(!this.data||this.disableFontFace)return null;const e=wy(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return(a=this._inspectFont)==null||a.call(this,this,t),r}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(n){we(`getPathGenerator - ignoring character: "${n}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(n,i){};const a=[];for(let n=0,i=r.length;n<i;)switch(r[n++]){case Ui.BEZIER_CURVE_TO:{const[o,l,s,c,f,h]=r.slice(n,n+6);a.push(d=>d.bezierCurveTo(o,l,s,c,f,h)),n+=6}break;case Ui.MOVE_TO:{const[o,l]=r.slice(n,n+2);a.push(s=>s.moveTo(o,l)),n+=2}break;case Ui.LINE_TO:{const[o,l]=r.slice(n,n+2);a.push(s=>s.lineTo(o,l)),n+=2}break;case Ui.QUADRATIC_CURVE_TO:{const[o,l,s,c]=r.slice(n,n+4);a.push(f=>f.quadraticCurveTo(o,l,s,c)),n+=4}break;case Ui.RESTORE:a.push(o=>o.restore());break;case Ui.SAVE:a.push(o=>o.save());break;case Ui.SCALE:Sr(a.length===2,"Scale command is only valid at the third position.");break;case Ui.TRANSFORM:{const[o,l,s,c,f,h]=r.slice(n,n+6);a.push(d=>d.transform(o,l,s,c,f,h)),n+=6}break;case Ui.TRANSLATE:{const[o,l]=r.slice(n,n+2);a.push(s=>s.translate(o,l)),n+=2}break}return this.compiledGlyphs[t]=function(i,o){a[0](i),a[1](i),i.scale(o,-o);for(let l=2,s=a.length;l<s;l++)a[l](i)}}}if($r){var Dm=Promise.withResolvers(),Zc=null;(async()=>{const e=await yd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await yd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await yd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),a=await yd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let n,i;return new Map(Object.entries({fs:e,http:t,https:r,url:a,canvas:n,path2d:i}))})().then(e=>{Zc=e,Dm.resolve()},e=>{we(`loadPackages: ${e}`),Zc=new Map,Dm.resolve()})}class zi{static get promise(){return Dm.promise}static get(e){return Zc==null?void 0:Zc.get(e)}}const tv=function(u){return zi.get("fs").promises.readFile(u).then(t=>new Uint8Array(t))};class $x extends fp{}class Vx extends wf{_createCanvas(e,t){return zi.get("canvas").createCanvas(e,t)}}class Wx extends pp{_fetchData(e,t){return tv(e).then(r=>({cMapData:r,compressionType:t}))}}class qx extends mp{_fetchData(e){return tv(e)}}const Zr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function jm(u,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],a=new Path2D;a.rect(e[0],e[1],t,r),u.clip(a)}class nd{constructor(){this.constructor===nd&&Ye("Cannot initialize BaseShadingPattern.")}getPattern(){Ye("Abstract method `getPattern` called.")}}class Xx extends nd{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,a){let n;if(a===Zr.STROKE||a===Zr.FILL){const i=t.current.getClippedPathBoundingBox(a,ar(e))||[0,0,0,0],o=Math.ceil(i[2]-i[0])||1,l=Math.ceil(i[3]-i[1])||1,s=t.cachedCanvases.getCanvas("pattern",o,l,!0),c=s.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-i[0],-i[1]),r=Vt.transform(r,[1,0,0,1,i[0],i[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),jm(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),n=e.createPattern(s.canvas,"no-repeat");const f=new DOMMatrix(r);n.setTransform(f)}else jm(e,this._bbox),n=this._createGradient(e);return n}}function Fp(u,e,t,r,a,n,i,o){const l=e.coords,s=e.colors,c=u.data,f=u.width*4;let h;l[t+1]>l[r+1]&&(h=t,t=r,r=h,h=n,n=i,i=h),l[r+1]>l[a+1]&&(h=r,r=a,a=h,h=i,i=o,o=h),l[t+1]>l[r+1]&&(h=t,t=r,r=h,h=n,n=i,i=h);const d=(l[t]+e.offsetX)*e.scaleX,p=(l[t+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,m=(l[r+1]+e.offsetY)*e.scaleY,b=(l[a]+e.offsetX)*e.scaleX,y=(l[a+1]+e.offsetY)*e.scaleY;if(p>=y)return;const x=s[n],k=s[n+1],M=s[n+2],I=s[i],B=s[i+1],j=s[i+2],F=s[o],z=s[o+1],$=s[o+2],H=Math.round(p),C=Math.round(y);let O,A,v,w,_,S,T,N;for(let L=H;L<=C;L++){if(L<m){const X=L<p?0:(p-L)/(p-m);O=d-(d-g)*X,A=x-(x-I)*X,v=k-(k-B)*X,w=M-(M-j)*X}else{let X;L>y?X=1:m===y?X=0:X=(m-L)/(m-y),O=g-(g-b)*X,A=I-(I-F)*X,v=B-(B-z)*X,w=j-(j-$)*X}let V;L<p?V=0:L>y?V=1:V=(p-L)/(p-y),_=d-(d-b)*V,S=x-(x-F)*V,T=k-(k-z)*V,N=M-(M-$)*V;const q=Math.round(Math.min(O,_)),Y=Math.round(Math.max(O,_));let D=f*L+q*4;for(let X=q;X<=Y;X++)V=(O-X)/(O-_),V<0?V=0:V>1&&(V=1),c[D++]=A-(A-S)*V|0,c[D++]=v-(v-T)*V|0,c[D++]=w-(w-N)*V|0,c[D++]=255}}function Gx(u,e,t){const r=e.coords,a=e.colors;let n,i;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,s=o-1;for(n=0;n<l;n++){let c=n*o;for(let f=0;f<s;f++,c++)Fp(u,t,r[c],r[c+1],r[c+o],a[c],a[c+1],a[c+o]),Fp(u,t,r[c+o+1],r[c+1],r[c+o],a[c+o+1],a[c+1],a[c+o])}break;case"triangles":for(n=0,i=r.length;n<i;n+=3)Fp(u,t,r[n],r[n+1],r[n+2],a[n],a[n+1],a[n+2]);break;default:throw new Error("illegal figure")}}class Kx extends nd{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),s=Math.ceil(this._bounds[2])-o,c=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(s*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),d=s/f,p=c/h,g={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/d,scaleY:1/p},m=f+2*2,b=h+2*2,y=r.getCanvas("mesh",m,b,!1),x=y.context,k=x.createImageData(f,h);if(t){const I=k.data;for(let B=0,j=I.length;B<j;B+=4)I[B]=t[0],I[B+1]=t[1],I[B+2]=t[2],I[B+3]=255}for(const I of this._figures)Gx(k,I,g);return x.putImageData(k,2,2),{canvas:y.canvas,offsetX:o-2*d,offsetY:l-2*p,scaleX:d,scaleY:p}}getPattern(e,t,r,a){jm(e,this._bbox);let n;if(a===Zr.SHADING)n=Vt.singularValueDecompose2dScale(ar(e));else if(n=Vt.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=Vt.singularValueDecompose2dScale(this.matrix);n=[n[0]*o[0],n[1]*o[1]]}const i=this._createMeshCanvas(n,a===Zr.SHADING?null:this._background,t.cachedCanvases);return a!==Zr.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(i.offsetX,i.offsetY),e.scale(i.scaleX,i.scaleY),e.createPattern(i.canvas,"no-repeat")}}class Zx extends nd{getPattern(){return"hotpink"}}function Yx(u){switch(u[0]){case"RadialAxial":return new Xx(u);case"Mesh":return new Kx(u);case"Dummy":return new Zx}throw new Error(`Unknown IR type: ${u[0]}`)}const y1={COLORED:1,UNCOLORED:2},jf=class jf{constructor(e,t,r,a,n){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=a,this.baseTransform=n}createPatternCanvas(e){const t=this.operatorList,r=this.bbox,a=this.xstep,n=this.ystep,i=this.paintType,o=this.tilingType,l=this.color,s=this.canvasGraphicsFactory;hp("TilingType: "+o);const c=r[0],f=r[1],h=r[2],d=r[3],p=Vt.singularValueDecompose2dScale(this.matrix),g=Vt.singularValueDecompose2dScale(this.baseTransform),m=[p[0]*g[0],p[1]*g[1]],b=this.getSizeAndScale(a,this.ctx.canvas.width,m[0]),y=this.getSizeAndScale(n,this.ctx.canvas.height,m[1]),x=e.cachedCanvases.getCanvas("pattern",b.size,y.size,!0),k=x.context,M=s.createCanvasGraphics(k);M.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(M,i,l);let I=c,B=f,j=h,F=d;return c<0&&(I=0,j+=Math.abs(c)),f<0&&(B=0,F+=Math.abs(f)),k.translate(-(b.scale*I),-(y.scale*B)),M.transform(b.scale,0,0,y.scale,0,0),k.save(),this.clipBbox(M,I,B,j,F),M.baseTransform=ar(M.ctx),M.executeOperatorList(t),M.endDrawing(),{canvas:x.canvas,scaleX:b.scale,scaleY:y.scale,offsetX:I,offsetY:B}}getSizeAndScale(e,t,r){e=Math.abs(e);const a=Math.max(jf.MAX_PATTERN_SIZE,t);let n=Math.ceil(e*r);return n>=a?n=a:r=n/e,{scale:r,size:n}}clipBbox(e,t,r,a,n){const i=a-t,o=n-r;e.ctx.rect(t,r,i,o),e.current.updateRectMinMax(ar(e.ctx),[t,r,a,n]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const a=e.ctx,n=e.current;switch(t){case y1.COLORED:const i=this.ctx;a.fillStyle=i.fillStyle,a.strokeStyle=i.strokeStyle,n.fillColor=i.fillStyle,n.strokeColor=i.strokeStyle;break;case y1.UNCOLORED:const o=Vt.makeHexColor(r[0],r[1],r[2]);a.fillStyle=o,a.strokeStyle=o,n.fillColor=o,n.strokeColor=o;break;default:throw new Sx(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,a){let n=r;a!==Zr.SHADING&&(n=Vt.transform(n,t.baseTransform),this.matrix&&(n=Vt.transform(n,this.matrix)));const i=this.createPatternCanvas(t);let o=new DOMMatrix(n);o=o.translate(i.offsetX,i.offsetY),o=o.scale(1/i.scaleX,1/i.scaleY);const l=e.createPattern(i.canvas,"repeat");return l.setTransform(o),l}};ce(jf,"MAX_PATTERN_SIZE",3e3);let Fm=jf;function Jx({src:u,srcPos:e=0,dest:t,width:r,height:a,nonBlackColor:n=4294967295,inverseDecode:i=!1}){const o=ln.isLittleEndian?4278190080:255,[l,s]=i?[n,o]:[o,n],c=r>>3,f=r&7,h=u.length;t=new Uint32Array(t.buffer);let d=0;for(let p=0;p<a;p++){for(const m=e+c;e<m;e++){const b=e<h?u[e]:255;t[d++]=b&128?s:l,t[d++]=b&64?s:l,t[d++]=b&32?s:l,t[d++]=b&16?s:l,t[d++]=b&8?s:l,t[d++]=b&4?s:l,t[d++]=b&2?s:l,t[d++]=b&1?s:l}if(f===0)continue;const g=e<h?u[e++]:255;for(let m=0;m<f;m++)t[d++]=g&1<<7-m?s:l}return{srcPos:e,destPos:d}}const v1=16,w1=100,Qx=15,_1=10,x1=1e3,on=16;function t5(u,e){if(u._removeMirroring)throw new Error("Context is already forwarding operations.");u.__originalSave=u.save,u.__originalRestore=u.restore,u.__originalRotate=u.rotate,u.__originalScale=u.scale,u.__originalTranslate=u.translate,u.__originalTransform=u.transform,u.__originalSetTransform=u.setTransform,u.__originalResetTransform=u.resetTransform,u.__originalClip=u.clip,u.__originalMoveTo=u.moveTo,u.__originalLineTo=u.lineTo,u.__originalBezierCurveTo=u.bezierCurveTo,u.__originalRect=u.rect,u.__originalClosePath=u.closePath,u.__originalBeginPath=u.beginPath,u._removeMirroring=()=>{u.save=u.__originalSave,u.restore=u.__originalRestore,u.rotate=u.__originalRotate,u.scale=u.__originalScale,u.translate=u.__originalTranslate,u.transform=u.__originalTransform,u.setTransform=u.__originalSetTransform,u.resetTransform=u.__originalResetTransform,u.clip=u.__originalClip,u.moveTo=u.__originalMoveTo,u.lineTo=u.__originalLineTo,u.bezierCurveTo=u.__originalBezierCurveTo,u.rect=u.__originalRect,u.closePath=u.__originalClosePath,u.beginPath=u.__originalBeginPath,delete u._removeMirroring},u.save=function(){e.save(),this.__originalSave()},u.restore=function(){e.restore(),this.__originalRestore()},u.translate=function(r,a){e.translate(r,a),this.__originalTranslate(r,a)},u.scale=function(r,a){e.scale(r,a),this.__originalScale(r,a)},u.transform=function(r,a,n,i,o,l){e.transform(r,a,n,i,o,l),this.__originalTransform(r,a,n,i,o,l)},u.setTransform=function(r,a,n,i,o,l){e.setTransform(r,a,n,i,o,l),this.__originalSetTransform(r,a,n,i,o,l)},u.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},u.rotate=function(r){e.rotate(r),this.__originalRotate(r)},u.clip=function(r){e.clip(r),this.__originalClip(r)},u.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},u.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},u.bezierCurveTo=function(t,r,a,n,i,o){e.bezierCurveTo(t,r,a,n,i,o),this.__originalBezierCurveTo(t,r,a,n,i,o)},u.rect=function(t,r,a,n){e.rect(t,r,a,n),this.__originalRect(t,r,a,n)},u.closePath=function(){e.closePath(),this.__originalClosePath()},u.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class e5{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let a;return this.cache[e]!==void 0?(a=this.cache[e],this.canvasFactory.reset(a,t,r)):(a=this.canvasFactory.create(t,r),this.cache[e]=a),a}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function vd(u,e,t,r,a,n,i,o,l,s){const[c,f,h,d,p,g]=ar(u);if(f===0&&h===0){const y=i*c+p,x=Math.round(y),k=o*d+g,M=Math.round(k),I=(i+l)*c+p,B=Math.abs(Math.round(I)-x)||1,j=(o+s)*d+g,F=Math.abs(Math.round(j)-M)||1;return u.setTransform(Math.sign(c),0,0,Math.sign(d),x,M),u.drawImage(e,t,r,a,n,0,0,B,F),u.setTransform(c,f,h,d,p,g),[B,F]}if(c===0&&d===0){const y=o*h+p,x=Math.round(y),k=i*f+g,M=Math.round(k),I=(o+s)*h+p,B=Math.abs(Math.round(I)-x)||1,j=(i+l)*f+g,F=Math.abs(Math.round(j)-M)||1;return u.setTransform(0,Math.sign(f),Math.sign(h),0,x,M),u.drawImage(e,t,r,a,n,0,0,F,B),u.setTransform(c,f,h,d,p,g),[F,B]}u.drawImage(e,t,r,a,n,i,o,l,s);const m=Math.hypot(c,f),b=Math.hypot(h,d);return[m*l,b*s]}function r5(u){const{width:e,height:t}=u;if(e>x1||t>x1)return null;const r=1e3,a=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),n=e+1;let i=new Uint8Array(n*(t+1)),o,l,s;const c=e+7&-8;let f=new Uint8Array(c*t),h=0;for(const b of u.data){let y=128;for(;y>0;)f[h++]=b&y?0:255,y>>=1}let d=0;for(h=0,f[h]!==0&&(i[0]=1,++d),l=1;l<e;l++)f[h]!==f[h+1]&&(i[l]=f[h]?2:1,++d),h++;for(f[h]!==0&&(i[l]=2,++d),o=1;o<t;o++){h=o*c,s=o*n,f[h-c]!==f[h]&&(i[s]=f[h]?1:8,++d);let b=(f[h]?4:0)+(f[h-c]?8:0);for(l=1;l<e;l++)b=(b>>2)+(f[h+1]?4:0)+(f[h-c+1]?8:0),a[b]&&(i[s+l]=a[b],++d),h++;if(f[h-c]!==f[h]&&(i[s+l]=f[h]?2:4,++d),d>r)return null}for(h=c*(t-1),s=o*n,f[h]!==0&&(i[s]=8,++d),l=1;l<e;l++)f[h]!==f[h+1]&&(i[s+l]=f[h]?4:8,++d),h++;if(f[h]!==0&&(i[s+l]=4,++d),d>r)return null;const p=new Int32Array([0,n,-1,0,-n,0,0,0,1]),g=new Path2D;for(o=0;d&&o<=t;o++){let b=o*n;const y=b+e;for(;b<y&&!i[b];)b++;if(b===y)continue;g.moveTo(b%n,o);const x=b;let k=i[b];do{const M=p[k];do b+=M;while(!i[b]);const I=i[b];I!==5&&I!==10?(k=I,i[b]=0):(k=I&51*k>>4,i[b]&=k>>2|k<<2),g.lineTo(b%n,b/n|0),i[b]||--d}while(x!==b);--o}return f=null,i=null,function(b){b.save(),b.scale(1/e,-1/t),b.translate(0,-t),b.fill(g),b.beginPath(),b.restore()}}class S1{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=yy,this.textMatrixScale=1,this.fontMatrix=hm,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=jr.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=Vt.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=Vt.applyTransform(t,e),a=Vt.applyTransform(t.slice(2),e),n=Vt.applyTransform([t[0],t[3]],e),i=Vt.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],a[0],n[0],i[0]),this.minY=Math.min(this.minY,r[1],a[1],n[1],i[1]),this.maxX=Math.max(this.maxX,r[0],a[0],n[0],i[0]),this.maxY=Math.max(this.maxY,r[1],a[1],n[1],i[1])}updateScalingPathMinMax(e,t){Vt.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,a,n,i,o,l,s,c){const f=Vt.bezierBoundingBox(t,r,a,n,i,o,l,s,c);c||this.updateRectMinMax(e,f)}getPathBoundingBox(e=Zr.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Zr.STROKE){t||Ye("Stroke bounding box must include transform.");const a=Vt.singularValueDecompose2dScale(t),n=a[0]*this.lineWidth/2,i=a[1]*this.lineWidth/2;r[0]-=n,r[1]-=i,r[2]+=n,r[3]+=i}return r}updateClipFromPath(){const e=Vt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Zr.FILL,t=null){return Vt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function A1(u,e){if(typeof ImageData<"u"&&e instanceof ImageData){u.putImageData(e,0,0);return}const t=e.height,r=e.width,a=t%on,n=(t-a)/on,i=a===0?n:n+1,o=u.createImageData(r,on);let l=0,s;const c=e.data,f=o.data;let h,d,p,g;if(e.kind===Id.GRAYSCALE_1BPP){const m=c.byteLength,b=new Uint32Array(f.buffer,0,f.byteLength>>2),y=b.length,x=r+7>>3,k=4294967295,M=ln.isLittleEndian?4278190080:255;for(h=0;h<i;h++){for(p=h<n?on:a,s=0,d=0;d<p;d++){const I=m-l;let B=0;const j=I>x?r:I*8-7,F=j&-8;let z=0,$=0;for(;B<F;B+=8)$=c[l++],b[s++]=$&128?k:M,b[s++]=$&64?k:M,b[s++]=$&32?k:M,b[s++]=$&16?k:M,b[s++]=$&8?k:M,b[s++]=$&4?k:M,b[s++]=$&2?k:M,b[s++]=$&1?k:M;for(;B<j;B++)z===0&&($=c[l++],z=128),b[s++]=$&z?k:M,z>>=1}for(;s<y;)b[s++]=0;u.putImageData(o,0,h*on)}}else if(e.kind===Id.RGBA_32BPP){for(d=0,g=r*on*4,h=0;h<n;h++)f.set(c.subarray(l,l+g)),l+=g,u.putImageData(o,0,d),d+=on;h<i&&(g=r*a*4,f.set(c.subarray(l,l+g)),u.putImageData(o,0,d))}else if(e.kind===Id.RGB_24BPP)for(p=on,g=r*p,h=0;h<i;h++){for(h>=n&&(p=a,g=r*p),s=0,d=g;d--;)f[s++]=c[l++],f[s++]=c[l++],f[s++]=c[l++],f[s++]=255;u.putImageData(o,0,h*on)}else throw new Error(`bad image kind: ${e.kind}`)}function k1(u,e){if(e.bitmap){u.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,a=t%on,n=(t-a)/on,i=a===0?n:n+1,o=u.createImageData(r,on);let l=0;const s=e.data,c=o.data;for(let f=0;f<i;f++){const h=f<n?on:a;({srcPos:l}=Jx({src:s,srcPos:l,dest:c,width:r,height:h,nonBlackColor:0})),u.putImageData(o,0,f*on)}}function Ac(u,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)u[r]!==void 0&&(e[r]=u[r]);u.setLineDash!==void 0&&(e.setLineDash(u.getLineDash()),e.lineDashOffset=u.lineDashOffset)}function wd(u){if(u.strokeStyle=u.fillStyle="#000000",u.fillRule="nonzero",u.globalAlpha=1,u.lineWidth=1,u.lineCap="butt",u.lineJoin="miter",u.miterLimit=10,u.globalCompositeOperation="source-over",u.font="10px sans-serif",u.setLineDash!==void 0&&(u.setLineDash([]),u.lineDashOffset=0),!$r){const{filter:e}=u;e!=="none"&&e!==""&&(u.filter="none")}}function E1(u,e){if(e)return!0;const t=Vt.singularValueDecompose2dScale(u);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*va.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const n5=["butt","round","square"],i5=["miter","round","bevel"],s5={},C1={};var _a,Bm,zm;const cg=class cg{constructor(e,t,r,a,n,{optionalContentConfig:i,markedContentStack:o=null},l,s){tt(this,_a);this.ctx=e,this.current=new S1(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=a,this.filterFactory=n,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=i,this.cachedCanvases=new e5(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=s,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:a=null}){const n=this.ctx.canvas.width,i=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,n,i),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",n,i);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...ar(this.compositeCtx))}this.ctx.save(),wd(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=ar(this.ctx)}executeOperatorList(e,t,r,a){const n=e.argsArray,i=e.fnArray;let o=t||0;const l=n.length;if(l===o)return o;const s=l-o>_1&&typeof r=="function",c=s?Date.now()+Qx:0;let f=0;const h=this.commonObjs,d=this.objs;let p;for(;;){if(a!==void 0&&o===a.nextBreakPoint)return a.breakIt(o,r),o;if(p=i[o],p!==Wn.dependency)this[p].apply(this,n[o]);else for(const g of n[o]){const m=g.startsWith("g_")?h:d;if(!m.has(g))return m.get(g,r),o}if(o++,o===l)return o;if(s&&++f>_1){if(Date.now()>c)return r(),o;f=0}}}endDrawing(){Q(this,_a,Bm).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),Q(this,_a,zm).call(this)}_scaleImage(e,t){const r=e.width,a=e.height;let n=Math.max(Math.hypot(t[0],t[1]),1),i=Math.max(Math.hypot(t[2],t[3]),1),o=r,l=a,s="prescale1",c,f;for(;n>2&&o>1||i>2&&l>1;){let h=o,d=l;n>2&&o>1&&(h=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),n/=o/h),i>2&&l>1&&(d=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,i/=l/d),c=this.cachedCanvases.getCanvas(s,h,d),f=c.context,f.clearRect(0,0,h,d),f.drawImage(e,0,0,o,l,0,0,h,d),e=c.canvas,o=h,l=d,s=s==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:a}=e,n=this.current.fillColor,i=this.current.patternFill,o=ar(t);let l,s,c,f;if((e.bitmap||e.data)&&e.count>1){const j=e.bitmap||e.data.buffer;s=JSON.stringify(i?o:[o.slice(0,4),n]),l=this._cachedBitmapsMap.get(j),l||(l=new Map,this._cachedBitmapsMap.set(j,l));const F=l.get(s);if(F&&!i){const z=Math.round(Math.min(o[0],o[2])+o[4]),$=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:F,offsetX:z,offsetY:$}}c=F}c||(f=this.cachedCanvases.getCanvas("maskCanvas",r,a),k1(f.context,e));let h=Vt.transform(o,[1/r,0,0,-1/a,0,0]);h=Vt.transform(h,[1,0,0,1,0,-a]);const[d,p,g,m]=Vt.getAxialAlignedBoundingBox([0,0,r,a],h),b=Math.round(g-d)||1,y=Math.round(m-p)||1,x=this.cachedCanvases.getCanvas("fillCanvas",b,y),k=x.context,M=d,I=p;k.translate(-M,-I),k.transform(...h),c||(c=this._scaleImage(f.canvas,$i(k)),c=c.img,l&&i&&l.set(s,c)),k.imageSmoothingEnabled=E1(ar(k),e.interpolate),vd(k,c,0,0,c.width,c.height,0,0,r,a),k.globalCompositeOperation="source-in";const B=Vt.transform($i(k),[1,0,0,1,-M,-I]);return k.fillStyle=i?n.getPattern(t,this,B,Zr.FILL):n,k.fillRect(0,0,r,a),l&&!i&&(this.cachedCanvases.delete("fillCanvas"),l.set(s,x.canvas)),{canvas:x.canvas,offsetX:Math.round(M),offsetY:Math.round(I)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=n5[e]}setLineJoin(e){this.ctx.lineJoin=i5[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=a.context;const n=this.ctx;n.setTransform(...ar(this.suspendedCtx)),Ac(this.suspendedCtx,n),t5(n,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ac(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,a){const n=a[0],i=a[1],o=a[2]-n,l=a[3]-i;o===0||l===0||(this.genericComposeSMask(t.context,r,o,l,t.subtype,t.backdrop,t.transferMap,n,i,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,a,n,i,o,l,s,c,f){let h=e.canvas,d=l-c,p=s-f;if(i){if(d<0||p<0||d+r>h.width||p+a>h.height){const m=this.cachedCanvases.getCanvas("maskExtension",r,a),b=m.context;b.drawImage(h,-d,-p),i.some(y=>y!==0)&&(b.globalCompositeOperation="destination-atop",b.fillStyle=Vt.makeHexColor(...i),b.fillRect(0,0,r,a),b.globalCompositeOperation="source-over"),h=m.canvas,d=p=0}else if(i.some(m=>m!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const m=new Path2D;m.rect(d,p,r,a),e.clip(m),e.globalCompositeOperation="destination-atop",e.fillStyle=Vt.makeHexColor(...i),e.fillRect(d,p,r,a),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),n==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):n==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const g=new Path2D;g.rect(l,s,r,a),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(h,d,p,r,a,l,s,r,a),t.restore()}save(){this.inSMaskMode?(Ac(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ac(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,a,n,i){this.ctx.transform(e,t,r,a,n,i),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const a=this.ctx,n=this.current;let i=n.x,o=n.y,l,s;const c=ar(a),f=c[0]===0&&c[3]===0||c[1]===0&&c[2]===0,h=f?r.slice(0):null;for(let d=0,p=0,g=e.length;d<g;d++)switch(e[d]|0){case Wn.rectangle:i=t[p++],o=t[p++];const m=t[p++],b=t[p++],y=i+m,x=o+b;a.moveTo(i,o),m===0||b===0?a.lineTo(y,x):(a.lineTo(y,o),a.lineTo(y,x),a.lineTo(i,x)),f||n.updateRectMinMax(c,[i,o,y,x]),a.closePath();break;case Wn.moveTo:i=t[p++],o=t[p++],a.moveTo(i,o),f||n.updatePathMinMax(c,i,o);break;case Wn.lineTo:i=t[p++],o=t[p++],a.lineTo(i,o),f||n.updatePathMinMax(c,i,o);break;case Wn.curveTo:l=i,s=o,i=t[p+4],o=t[p+5],a.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],i,o),n.updateCurvePathMinMax(c,l,s,t[p],t[p+1],t[p+2],t[p+3],i,o,h),p+=6;break;case Wn.curveTo2:l=i,s=o,a.bezierCurveTo(i,o,t[p],t[p+1],t[p+2],t[p+3]),n.updateCurvePathMinMax(c,l,s,i,o,t[p],t[p+1],t[p+2],t[p+3],h),i=t[p+2],o=t[p+3],p+=4;break;case Wn.curveTo3:l=i,s=o,i=t[p+2],o=t[p+3],a.bezierCurveTo(t[p],t[p+1],i,o,i,o),n.updateCurvePathMinMax(c,l,s,t[p],t[p+1],i,o,i,o,h),p+=4;break;case Wn.closePath:a.closePath();break}f&&n.updateScalingPathMinMax(c,h),n.setCurrentPoint(i,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,$i(t),Zr.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,a=this.current.patternFill;let n=!1;a&&(t.save(),t.fillStyle=r.getPattern(t,this,$i(t),Zr.FILL),n=!0);const i=this.current.getClippedPathBoundingBox();this.contentVisible&&i!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),n&&t.restore(),e&&this.consumePath(i)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=s5}eoClip(){this.pendingClip=C1}beginText(){this.current.textMatrix=yy,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var c;const r=this.commonObjs.get(e),a=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(a.fontMatrix=r.fontMatrix||hm,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&we("Invalid font matrix for font "+e),t<0?(t=-t,a.fontDirection=-1):a.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const n=r.loadedName||"sans-serif",i=((c=r.systemFontInfo)==null?void 0:c.css)||`"${n}", ${r.fallbackName}`;let o="normal";r.black?o="900":r.bold&&(o="bold");const l=r.italic?"italic":"normal";let s=t;t<v1?s=v1:t>w1&&(s=w1),this.current.fontSizeScale=t/s,this.ctx.font=`${l} ${o} ${s}px ${i}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,a,n,i){this.current.textMatrix=[e,t,r,a,n,i],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,a){const n=this.ctx,i=this.current,o=i.font,l=i.textRenderingMode,s=i.fontSize/i.fontSizeScale,c=l&jr.FILL_STROKE_MASK,f=!!(l&jr.ADD_TO_PATH_FLAG),h=i.patternFill&&!o.missingFile;let d;(o.disableFontFace||f||h)&&(d=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||h?(n.save(),n.translate(t,r),n.beginPath(),d(n,s),a&&n.setTransform(...a),(c===jr.FILL||c===jr.FILL_STROKE)&&n.fill(),(c===jr.STROKE||c===jr.FILL_STROKE)&&n.stroke(),n.restore()):((c===jr.FILL||c===jr.FILL_STROKE)&&n.fillText(e,t,r),(c===jr.STROKE||c===jr.FILL_STROKE)&&n.strokeText(e,t,r)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ar(n),x:t,y:r,fontSize:s,addToPath:d})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let a=3;a<t.length;a+=4)if(t[a]>0&&t[a]<255){r=!0;break}return Ie(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const a=t.fontSize;if(a===0)return;const n=this.ctx,i=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,s=t.fontDirection,c=t.textHScale*s,f=e.length,h=r.vertical,d=h?1:-1,p=r.defaultVMetrics,g=a*t.fontMatrix[0],m=t.textRenderingMode===jr.FILL&&!r.disableFontFace&&!t.patternFill;n.save(),n.transform(...t.textMatrix),n.translate(t.x,t.y+t.textRise),s>0?n.scale(c,-1):n.scale(c,1);let b;if(t.patternFill){n.save();const I=t.fillColor.getPattern(n,this,$i(n),Zr.FILL);b=ar(n),n.restore(),n.fillStyle=I}let y=t.lineWidth;const x=t.textMatrixScale;if(x===0||y===0){const I=t.textRenderingMode&jr.FILL_STROKE_MASK;(I===jr.STROKE||I===jr.FILL_STROKE)&&(y=this.getSinglePixelWidth())}else y/=x;if(i!==1&&(n.scale(i,i),y/=i),n.lineWidth=y,r.isInvalidPDFjsFont){const I=[];let B=0;for(const j of e)I.push(j.unicode),B+=j.width;n.fillText(I.join(""),0,0),t.x+=B*g*c,n.restore(),this.compose();return}let k=0,M;for(M=0;M<f;++M){const I=e[M];if(typeof I=="number"){k+=d*I*a/1e3;continue}let B=!1;const j=(I.isSpace?l:0)+o,F=I.fontChar,z=I.accent;let $,H,C=I.width;if(h){const A=I.vmetric||p,v=-(I.vmetric?A[1]:C*.5)*g,w=A[2]*g;C=A?-A[0]:C,$=v/i,H=(k+w)/i}else $=k/i,H=0;if(r.remeasure&&C>0){const A=n.measureText(F).width*1e3/a*i;if(C<A&&this.isFontSubpixelAAEnabled){const v=C/A;B=!0,n.save(),n.scale(v,1),$/=v}else C!==A&&($+=(C-A)/2e3*a/i)}if(this.contentVisible&&(I.isInFont||r.missingFile)){if(m&&!z)n.fillText(F,$,H);else if(this.paintChar(F,$,H,b),z){const A=$+a*z.offset.x/i,v=H-a*z.offset.y/i;this.paintChar(z.fontChar,A,v,b)}}const O=h?C*g-j*s:C*g+j*s;k+=O,B&&n.restore()}h?t.y-=k:t.x+=k*c,n.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,a=r.font,n=r.fontSize,i=r.fontDirection,o=a.vertical?1:-1,l=r.charSpacing,s=r.wordSpacing,c=r.textHScale*i,f=r.fontMatrix||hm,h=e.length,d=r.textRenderingMode===jr.INVISIBLE;let p,g,m,b;if(!(d||n===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(c,i),p=0;p<h;++p){if(g=e[p],typeof g=="number"){b=o*g*n/1e3,this.ctx.translate(b,0),r.x+=b*c;continue}const y=(g.isSpace?s:0)+l,x=a.charProcOperatorList[g.operatorListId];if(!x){we(`Type3 character "${g.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=g,this.save(),t.scale(n,n),t.transform(...f),this.executeOperatorList(x),this.restore()),m=Vt.applyTransform([g.width,0],f)[0]*n+y,t.translate(m,0),r.x+=m*c}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,a,n,i){this.ctx.rect(r,a,n-r,i-a),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],a=this.baseTransform||ar(this.ctx),n={createCanvasGraphics:i=>new cg(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Fm(e,r,this.ctx,n,a)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){const a=Vt.makeHexColor(e,t,r);this.ctx.strokeStyle=a,this.current.strokeColor=a}setFillRGBColor(e,t,r){const a=Vt.makeHexColor(e,t,r);this.ctx.fillStyle=a,this.current.fillColor=a,this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=Yx(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,$i(t),Zr.SHADING);const a=$i(t);if(a){const{width:n,height:i}=t.canvas,[o,l,s,c]=Vt.getAxialAlignedBoundingBox([0,0,n,i],a);this.ctx.fillRect(o,l,s-o,c-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ye("Should not call beginInlineImage")}beginImageData(){Ye("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=ar(this.ctx),t)){const r=t[2]-t[0],a=t[3]-t[1];this.ctx.rect(t[0],t[1],r,a),this.current.updateRectMinMax(ar(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||hp("TODO: Support non-isolated groups."),e.knockout&&we("Knockout groups not supported.");const r=ar(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let a=Vt.getAxialAlignedBoundingBox(e.bbox,ar(t));const n=[0,0,t.canvas.width,t.canvas.height];a=Vt.intersect(a,n)||[0,0,0,0];const i=Math.floor(a[0]),o=Math.floor(a[1]),l=Math.max(Math.ceil(a[2])-i,1),s=Math.max(Math.ceil(a[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,s]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(c,l,s),h=f.context;h.translate(-i,-o),h.transform(...r),e.smask?this.smaskStack.push({canvas:f.canvas,context:h,offsetX:i,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(i,o),t.save()),Ac(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=ar(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const n=Vt.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],a);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,r,a,n){if(Q(this,_a,Bm).call(this),wd(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const i=t[2]-t[0],o=t[3]-t[1];if(n&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=i,t[3]=o;const[l,s]=Vt.singularValueDecompose2dScale(ar(this.ctx)),{viewportScale:c}=this,f=Math.ceil(i*this.outputScaleX*c),h=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(f,h);const{canvas:d,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(l,0,0,-s,0,o*s),wd(this.ctx)}else wd(this.ctx),this.ctx.rect(t[0],t[1],i,o),this.ctx.clip(),this.endPath()}this.current=new S1(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Q(this,_a,zm).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,a=this.processingType3;if(a&&(a.compiled===void 0&&(a.compiled=r5(e)),a.compiled)){a.compiled(r);return}const n=this._createMaskCanvas(e),i=n.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(i,n.offsetX,n.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,a=0,n,i){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=ar(o);o.transform(t,r,a,n,0,0);const s=this._createMaskCanvas(e);o.setTransform(1,0,0,1,s.offsetX-l[4],s.offsetY-l[5]);for(let c=0,f=i.length;c<f;c+=2){const h=Vt.transform(l,[t,r,a,n,i[c],i[c+1]]),[d,p]=Vt.applyTransform([0,0],h);o.drawImage(s.canvas,d,p)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,a=this.current.patternFill;for(const n of e){const{data:i,width:o,height:l,transform:s}=n,c=this.cachedCanvases.getCanvas("maskCanvas",o,l),f=c.context;f.save();const h=this.getObject(i,n);k1(f,h),f.globalCompositeOperation="source-in",f.fillStyle=a?r.getPattern(f,this,$i(t),Zr.FILL):r,f.fillRect(0,0,o,l),f.restore(),t.save(),t.transform(...s),t.scale(1,-1),vd(t,c.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){we("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,a){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){we("Dependent image isn't ready yet");return}const i=n.width,o=n.height,l=[];for(let s=0,c=a.length;s<c;s+=2)l.push({transform:[t,0,0,r,a[s],a[s+1]],x:0,y:0,w:i,h:o});this.paintInlineImageXObjectGroup(n,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:a}=e,n=this.cachedCanvases.getCanvas("inlineImage",r,a),i=n.context;return i.filter=this.current.transferMaps,i.drawImage(t,0,0),i.filter="none",n.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,a=this.ctx;if(this.save(),!$r){const{filter:o}=a;o!=="none"&&o!==""&&(a.filter="none")}a.scale(1/t,-1/r);let n;if(e.bitmap)n=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)n=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;A1(l,e),n=this.applyTransferMapsToCanvas(l)}const i=this._scaleImage(n,$i(a));a.imageSmoothingEnabled=E1(ar(a),e.interpolate),vd(a,i.img,0,0,i.paintWidth,i.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let a;if(e.bitmap)a=e.bitmap;else{const n=e.width,i=e.height,l=this.cachedCanvases.getCanvas("inlineImage",n,i).context;A1(l,e),a=this.applyTransferMapsToCanvas(l)}for(const n of t)r.save(),r.transform(...n.transform),r.scale(1,-1),vd(r,a,n.x,n.y,n.w,n.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===C1?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=ar(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),a=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,a)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:a,d:n}=this.ctx.getTransform();let i,o;if(r===0&&a===0){const l=Math.abs(t),s=Math.abs(n);if(l===s)if(e===0)i=o=1/l;else{const c=l*e;i=o=c<1?1/c:1}else if(e===0)i=1/l,o=1/s;else{const c=l*e,f=s*e;i=c<1?1/c:1,o=f<1?1/f:1}}else{const l=Math.abs(t*n-r*a),s=Math.hypot(t,r),c=Math.hypot(a,n);if(e===0)i=c/l,o=s/l;else{const f=e*l;i=c>f?c/f:1,o=s>f?s/f:1}}this._cachedScaleForStroking[0]=i,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[a,n]=this.getScaleForStroking();if(t.lineWidth=r||1,a===1&&n===1){t.stroke();return}const i=t.getLineDash();if(e&&t.save(),t.scale(a,n),i.length>0){const o=Math.max(a,n);t.setLineDash(i.map(l=>l/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};_a=new WeakSet,Bm=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},zm=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let pl=cg;for(const u in Wn)pl.prototype[u]!==void 0&&(pl.prototype[Wn[u]]=pl.prototype[u]);var Gh,Kh;class Ss{static get workerPort(){return E(this,Gh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");J(this,Gh,e)}static get workerSrc(){return E(this,Kh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");J(this,Kh,e)}}Gh=new WeakMap,Kh=new WeakMap,tt(Ss,Gh,null),tt(Ss,Kh,"");const _d={UNKNOWN:0,DATA:1,ERROR:2},fr={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function bn(u){switch(u instanceof Error||typeof u=="object"&&u!==null||Ye('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),u.name){case"AbortException":return new Go(u.message);case"MissingPDFException":return new Xo(u.message);case"PasswordException":return new dm(u.message,u.code);case"UnexpectedResponseException":return new up(u.message,u.status);case"UnknownErrorException":return new fm(u.message,u.details);default:return new fm(u.message,u.toString())}}var Di,ev,rv,Bd;class Lc{constructor(e,t,r){tt(this,Di);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=a=>{const n=a.data;if(n.targetName!==this.sourceName)return;if(n.stream){Q(this,Di,rv).call(this,n);return}if(n.callback){const o=n.callbackId,l=this.callbackCapabilities[o];if(!l)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],n.callback===_d.DATA)l.resolve(n.data);else if(n.callback===_d.ERROR)l.reject(bn(n.reason));else throw new Error("Unexpected callback case");return}const i=this.actionHandler[n.action];if(!i)throw new Error(`Unknown action from worker: ${n.action}`);if(n.callbackId){const o=this.sourceName,l=n.sourceName;new Promise(function(s){s(i(n.data))}).then(function(s){r.postMessage({sourceName:o,targetName:l,callback:_d.DATA,callbackId:n.callbackId,data:s})},function(s){r.postMessage({sourceName:o,targetName:l,callback:_d.ERROR,callbackId:n.callbackId,reason:bn(s)})});return}if(n.streamId){Q(this,Di,ev).call(this,n);return}i(n.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const a=this.callbackId++,n=Promise.withResolvers();this.callbackCapabilities[a]=n;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:a,data:t},r)}catch(i){n.reject(i)}return n.promise}sendWithStream(e,t,r,a){const n=this.streamId++,i=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:s=>{const c=Promise.withResolvers();return this.streamControllers[n]={controller:s,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:i,targetName:o,action:e,streamId:n,data:t,desiredSize:s.desiredSize},a),c.promise},pull:s=>{const c=Promise.withResolvers();return this.streamControllers[n].pullCall=c,l.postMessage({sourceName:i,targetName:o,stream:fr.PULL,streamId:n,desiredSize:s.desiredSize}),c.promise},cancel:s=>{Sr(s instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[n].cancelCall=c,this.streamControllers[n].isClosed=!0,l.postMessage({sourceName:i,targetName:o,stream:fr.CANCEL,streamId:n,reason:bn(s)}),c.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Di=new WeakSet,ev=function(e){const t=e.streamId,r=this.sourceName,a=e.sourceName,n=this.comObj,i=this,o=this.actionHandler[e.action],l={enqueue(s,c=1,f){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=c,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),n.postMessage({sourceName:r,targetName:a,stream:fr.ENQUEUE,streamId:t,chunk:s},f)},close(){this.isCancelled||(this.isCancelled=!0,n.postMessage({sourceName:r,targetName:a,stream:fr.CLOSE,streamId:t}),delete i.streamSinks[t])},error(s){Sr(s instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,n.postMessage({sourceName:r,targetName:a,stream:fr.ERROR,streamId:t,reason:bn(s)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(s){s(o(e.data,l))}).then(function(){n.postMessage({sourceName:r,targetName:a,stream:fr.START_COMPLETE,streamId:t,success:!0})},function(s){n.postMessage({sourceName:r,targetName:a,stream:fr.START_COMPLETE,streamId:t,reason:bn(s)})})},rv=function(e){const t=e.streamId,r=this.sourceName,a=e.sourceName,n=this.comObj,i=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case fr.START_COMPLETE:e.success?i.startCall.resolve():i.startCall.reject(bn(e.reason));break;case fr.PULL_COMPLETE:e.success?i.pullCall.resolve():i.pullCall.reject(bn(e.reason));break;case fr.PULL:if(!o){n.postMessage({sourceName:r,targetName:a,stream:fr.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(l){var s;l((s=o.onPull)==null?void 0:s.call(o))}).then(function(){n.postMessage({sourceName:r,targetName:a,stream:fr.PULL_COMPLETE,streamId:t,success:!0})},function(l){n.postMessage({sourceName:r,targetName:a,stream:fr.PULL_COMPLETE,streamId:t,reason:bn(l)})});break;case fr.ENQUEUE:if(Sr(i,"enqueue should have stream controller"),i.isClosed)break;i.controller.enqueue(e.chunk);break;case fr.CLOSE:if(Sr(i,"close should have stream controller"),i.isClosed)break;i.isClosed=!0,i.controller.close(),Q(this,Di,Bd).call(this,i,t);break;case fr.ERROR:Sr(i,"error should have stream controller"),i.controller.error(bn(e.reason)),Q(this,Di,Bd).call(this,i,t);break;case fr.CANCEL_COMPLETE:e.success?i.cancelCall.resolve():i.cancelCall.reject(bn(e.reason)),Q(this,Di,Bd).call(this,i,t);break;case fr.CANCEL:if(!o)break;new Promise(function(l){var s;l((s=o.onCancel)==null?void 0:s.call(o,bn(e.reason)))}).then(function(){n.postMessage({sourceName:r,targetName:a,stream:fr.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){n.postMessage({sourceName:r,targetName:a,stream:fr.CANCEL_COMPLETE,streamId:t,reason:bn(l)})}),o.sinkCapability.reject(bn(e.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Bd=async function(e,t){var r,a,n;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(a=e.pullCall)==null?void 0:a.promise,(n=e.cancelCall)==null?void 0:n.promise]),delete this.streamControllers[t]};var eo,Zh;class a5{constructor({parsedData:e,rawData:t}){tt(this,eo);tt(this,Zh);J(this,eo,e),J(this,Zh,t)}getRaw(){return E(this,Zh)}get(e){return E(this,eo).get(e)??null}getAll(){return Y0(E(this,eo))}has(e){return E(this,eo).has(e)}}eo=new WeakMap,Zh=new WeakMap;const Fs=Symbol("INTERNAL");var Yh,Jh,Qh,Ml;class o5{constructor(e,{name:t,intent:r,usage:a}){tt(this,Yh,!1);tt(this,Jh,!1);tt(this,Qh,!1);tt(this,Ml,!0);J(this,Yh,!!(e&Nn.DISPLAY)),J(this,Jh,!!(e&Nn.PRINT)),this.name=t,this.intent=r,this.usage=a}get visible(){if(E(this,Qh))return E(this,Ml);if(!E(this,Ml))return!1;const{print:e,view:t}=this.usage;return E(this,Yh)?(t==null?void 0:t.viewState)!=="OFF":E(this,Jh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Fs&&Ye("Internal method `_setVisible` called."),J(this,Qh,r),J(this,Ml,t)}}Yh=new WeakMap,Jh=new WeakMap,Qh=new WeakMap,Ml=new WeakMap;var Zs,Ze,Rl,Ol,tu,Hm;class l5{constructor(e,t=Nn.DISPLAY){tt(this,tu);tt(this,Zs,null);tt(this,Ze,new Map);tt(this,Rl,null);tt(this,Ol,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,J(this,Ol,e.order);for(const r of e.groups)E(this,Ze).set(r.id,new o5(t,r));if(e.baseState==="OFF")for(const r of E(this,Ze).values())r._setVisible(Fs,!1);for(const r of e.on)E(this,Ze).get(r)._setVisible(Fs,!0);for(const r of e.off)E(this,Ze).get(r)._setVisible(Fs,!1);J(this,Rl,this.getHash())}}isVisible(e){if(E(this,Ze).size===0)return!0;if(!e)return hp("Optional content group not defined."),!0;if(e.type==="OCG")return E(this,Ze).has(e.id)?E(this,Ze).get(e.id).visible:(we(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return Q(this,tu,Hm).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!E(this,Ze).has(t))return we(`Optional content group not found: ${t}`),!0;if(E(this,Ze).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!E(this,Ze).has(t))return we(`Optional content group not found: ${t}`),!0;if(!E(this,Ze).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!E(this,Ze).has(t))return we(`Optional content group not found: ${t}`),!0;if(!E(this,Ze).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!E(this,Ze).has(t))return we(`Optional content group not found: ${t}`),!0;if(E(this,Ze).get(t).visible)return!1}return!0}return we(`Unknown optional content policy ${e.policy}.`),!0}return we(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const r=E(this,Ze).get(e);if(!r){we(`Optional content group not found: ${e}`);return}r._setVisible(Fs,!!t,!0),J(this,Zs,null)}setOCGState({state:e,preserveRB:t}){let r;for(const a of e){switch(a){case"ON":case"OFF":case"Toggle":r=a;continue}const n=E(this,Ze).get(a);if(n)switch(r){case"ON":n._setVisible(Fs,!0);break;case"OFF":n._setVisible(Fs,!1);break;case"Toggle":n._setVisible(Fs,!n.visible);break}}J(this,Zs,null)}get hasInitialVisibility(){return E(this,Rl)===null||this.getHash()===E(this,Rl)}getOrder(){return E(this,Ze).size?E(this,Ol)?E(this,Ol).slice():[...E(this,Ze).keys()]:null}getGroups(){return E(this,Ze).size>0?Y0(E(this,Ze)):null}getGroup(e){return E(this,Ze).get(e)||null}getHash(){if(E(this,Zs)!==null)return E(this,Zs);const e=new Yy;for(const[t,r]of E(this,Ze))e.update(`${t}:${r.visible}`);return J(this,Zs,e.hexdigest())}}Zs=new WeakMap,Ze=new WeakMap,Rl=new WeakMap,Ol=new WeakMap,tu=new WeakSet,Hm=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let a=1;a<t;a++){const n=e[a];let i;if(Array.isArray(n))i=Q(this,tu,Hm).call(this,n);else if(E(this,Ze).has(n))i=E(this,Ze).get(n).visible;else return we(`Optional content group not found: ${n}`),!0;switch(r){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return r==="And"};class c5{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Sr(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:n,progressiveDone:i,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=i,this._contentDispositionFilename=o,(n==null?void 0:n.length)>0){const l=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,s)=>{this._onReceiveData({begin:l,chunk:s})}),e.addProgressListener((l,s)=>{this._onProgress({loaded:l,total:s})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const a=this._rangeReaders.some(function(n){return n._begin!==e?!1:(n._enqueue(r),!0)});Sr(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,a,n;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(n=(a=this._fullRequestReader)==null?void 0:a.onProgress)==null||n.call(a,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Sr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new h5(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new u5(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class h5{constructor(e,t,r=!1,a=null){this._stream=e,this._done=r||!1,this._filename=rg(a)?a:null,this._queuedChunks=t||[],this._loaded=0;for(const n of this._queuedChunks)this._loaded+=n.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class u5{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function d5(u){let e=!0,t=r("filename\\*","i").exec(u);if(t){t=t[1];let c=o(t);return c=unescape(c),c=l(c),c=s(c),n(c)}if(t=i(u),t){const c=s(t);return n(c)}if(t=r("filename","i").exec(u),t){t=t[1];let c=o(t);return c=s(c),n(c)}function r(c,f){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function a(c,f){if(c){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const h=new TextDecoder(c,{fatal:!0}),d=dp(f);f=h.decode(d),e=!1}catch{}}return f}function n(c){return e&&/[\x80-\xff]/.test(c)&&(c=a("utf-8",c),e&&(c=a("iso-8859-1",c))),c}function i(c){const f=[];let h;const d=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=d.exec(c))!==null;){let[,g,m,b]=h;if(g=parseInt(g,10),g in f){if(g===0)break;continue}f[g]=[m,b]}const p=[];for(let g=0;g<f.length&&g in f;++g){let[m,b]=f[g];b=o(b),m&&(b=unescape(b),g===0&&(b=l(b))),p.push(b)}return p.join("")}function o(c){if(c.startsWith('"')){const f=c.slice(1).split('\\"');for(let h=0;h<f.length;++h){const d=f[h].indexOf('"');d!==-1&&(f[h]=f[h].slice(0,d),f.length=h+1),f[h]=f[h].replaceAll(/\\(.)/g,"$1")}c=f.join('"')}return c}function l(c){const f=c.indexOf("'");if(f===-1)return c;const h=c.slice(0,f),p=c.slice(f+1).replace(/^[^']*'/,"");return a(h,p)}function s(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,h,d,p){if(d==="q"||d==="Q")return p=p.replaceAll("_"," "),p=p.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,m){return String.fromCharCode(parseInt(m,16))}),a(h,p);try{p=atob(p)}catch{}return a(h,p)})}return""}function sg({getResponseHeader:u,isHttp:e,rangeChunkSize:t,disableRange:r}){const a={allowRangeRequests:!1,suggestedLength:void 0},n=parseInt(u("Content-Length"),10);return!Number.isInteger(n)||(a.suggestedLength=n,n<=2*t)||r||!e||u("Accept-Ranges")!=="bytes"||(u("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function ag(u){const e=u("Content-Disposition");if(e){let t=d5(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(rg(t))return t}return null}function bp(u,e){return u===404||u===0&&e.startsWith("file:")?new Xo('Missing PDF "'+e+'".'):new up(`Unexpected server response (${u}) while retrieving PDF "${e}".`,u)}function nv(u){return u===200||u===206}function iv(u,e,t){return{method:"GET",headers:u,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function sv(u){const e=new Headers;for(const t in u){const r=u[t];r!==void 0&&e.append(t,r)}return e}function av(u){return u instanceof Uint8Array?u.buffer:u instanceof ArrayBuffer?u:(we(`getArrayBuffer - unexpected data format: ${u}`),new Uint8Array(u).buffer)}class T1{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Sr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new f5(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new p5(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class f5{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=sv(this._stream.httpHeaders);const r=t.url;fetch(r,iv(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!nv(a.status))throw bp(a.status,r);this._reader=a.body.getReader(),this._headersCapability.resolve();const n=l=>a.headers.get(l),{allowRangeRequests:i,suggestedLength:o}=sg({getResponseHeader:n,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=o||this._contentLength,this._filename=ag(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Go("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:av(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class p5{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController,this._headers=sv(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${r-1}`);const n=a.url;fetch(n,iv(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!nv(i.status))throw bp(i.status,n);this._readCapability.resolve(),this._reader=i.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:av(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Bp=200,zp=206;function m5(u){const e=u.response;return typeof e!="string"?e:dp(e).buffer}class g5{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const a={begin:e,end:t};for(const n in r)a[n]=r[n];return this.request(a)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,a=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const n in this.httpHeaders){const i=this.httpHeaders[n];i!==void 0&&t.setRequestHeader(n,i)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),a.expectedStatus=zp):a.expectedStatus=Bp,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),a.onHeadersReceived=e.onHeadersReceived,a.onDone=e.onDone,a.onError=e.onError,a.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var a;const r=this.pendingRequests[e];r&&((a=r.onProgress)==null||a.call(r,t))}onStateChange(e,t){var l,s,c;const r=this.pendingRequests[e];if(!r)return;const a=r.xhr;if(a.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),a.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],a.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,a.status);return}const n=a.status||Bp;if(!(n===Bp&&r.expectedStatus===zp)&&n!==r.expectedStatus){(s=r.onError)==null||s.call(r,a.status);return}const o=m5(a);if(n===zp){const f=a.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);r.onDone({begin:parseInt(h[1],10),chunk:o})}else o?r.onDone({begin:0,chunk:o}):(c=r.onError)==null||c.call(r,a.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class b5{constructor(e){this._source=e,this._manager=new g5(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Sr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new y5(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new v5(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class y5{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=i=>t.getResponseHeader(i),{allowRangeRequests:a,suggestedLength:n}=sg({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=n||this._contentLength,this._filename=ag(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=bp(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class v5{constructor(e,t,r){this._manager=e;const a={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,a),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=bp(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ov=/^file:\/\/\/[a-zA-Z]:\//;function w5(u){const e=zi.get("url"),t=e.parse(u);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(u)?e.parse(`file:///${u}`):(t.host||(t.protocol="file:"),t)}class _5{constructor(e){this.source=e,this.url=w5(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Sr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new A5(this):new x5(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new k5(this,e,t):new S5(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class lv{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Go("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class cv{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Sf(u,e){return{protocol:u.protocol,auth:u.auth,host:u.hostname,port:u.port,path:u.path,method:"GET",headers:e}}class x5 extends lv{constructor(e){super(e);const t=r=>{if(r.statusCode===404){const o=new Xo(`Missing PDF "${this._url}".`);this._storedError=o,this._headersCapability.reject(o);return}this._headersCapability.resolve(),this._setReadableStream(r);const a=o=>this._readableStream.headers[o.toLowerCase()],{allowRangeRequests:n,suggestedLength:i}=sg({getResponseHeader:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=n,this._contentLength=i||this._contentLength,this._filename=ag(a)};if(this._request=null,this._url.protocol==="http:"){const r=zi.get("http");this._request=r.request(Sf(this._url,e.httpHeaders),t)}else{const r=zi.get("https");this._request=r.request(Sf(this._url,e.httpHeaders),t)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class S5 extends cv{constructor(e,t,r){super(e),this._httpHeaders={};for(const n in e.httpHeaders){const i=e.httpHeaders[n];i!==void 0&&(this._httpHeaders[n]=i)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const a=n=>{if(n.statusCode===404){const i=new Xo(`Missing PDF "${this._url}".`);this._storedError=i;return}this._setReadableStream(n)};if(this._request=null,this._url.protocol==="http:"){const n=zi.get("http");this._request=n.request(Sf(this._url,this._httpHeaders),a)}else{const n=zi.get("https");this._request=n.request(Sf(this._url,this._httpHeaders),a)}this._request.on("error",n=>{this._storedError=n}),this._request.end()}}class A5 extends lv{constructor(e){super(e);let t=decodeURIComponent(this._url.path);ov.test(this._url.href)&&(t=t.replace(/^\//,""));const r=zi.get("fs");r.promises.lstat(t).then(a=>{this._contentLength=a.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=new Xo(`Missing PDF "${t}".`)),this._storedError=a,this._headersCapability.reject(a)})}}class k5 extends cv{constructor(e,t,r){super(e);let a=decodeURIComponent(this._url.path);ov.test(this._url.href)&&(a=a.replace(/^\//,""));const n=zi.get("fs");this._setReadableStream(n.createReadStream(a,{start:t,end:r-1}))}}const E5=1e5,rn=30,C5=.8;var P1,Ys,an,eu,ru,ro,as,nu,iu,no,Pl,Il,Js,Nl,su,Ll,io,au,ou,so,ao,Qs,Dl,Ts,hv,uv,Um,ji,zd,dv,fv;const Br=class Br{constructor({textContentSource:e,container:t,viewport:r}){tt(this,Ts);tt(this,Ys,Promise.withResolvers());tt(this,an,null);tt(this,eu,!1);tt(this,ru,!!((P1=globalThis.FontInspector)!=null&&P1.enabled));tt(this,ro,null);tt(this,as,null);tt(this,nu,0);tt(this,iu,0);tt(this,no,null);tt(this,Pl,null);tt(this,Il,0);tt(this,Js,0);tt(this,Nl,Object.create(null));tt(this,su,[]);tt(this,Ll,null);tt(this,io,[]);tt(this,au,new WeakMap);tt(this,ou,null);var l;if(e instanceof ReadableStream)J(this,Ll,e);else if(typeof e=="object")J(this,Ll,new ReadableStream({start(s){s.enqueue(e),s.close()}}));else throw new Error('No "textContentSource" parameter specified.');J(this,an,J(this,Pl,t)),J(this,Js,r.scale*(globalThis.devicePixelRatio||1)),J(this,Il,r.rotation),J(this,as,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:n,pageX:i,pageY:o}=r.rawDims;J(this,ou,[1,0,0,-1,-i,o+n]),J(this,iu,a),J(this,nu,n),Q(l=Br,ji,dv).call(l),Uo(t,r),E(this,Ys).promise.catch(()=>{}).then(()=>{E(Br,Dl).delete(this),J(this,as,null),J(this,Nl,null)})}render(){const e=()=>{E(this,no).read().then(({value:t,done:r})=>{if(r){E(this,Ys).resolve();return}E(this,ro)??J(this,ro,t.lang),Object.assign(E(this,Nl),t.styles),Q(this,Ts,hv).call(this,t.items),e()},E(this,Ys).reject)};return J(this,no,E(this,Ll).getReader()),E(Br,Dl).add(this),e(),E(this,Ys).promise}update({viewport:e,onBefore:t=null}){var n;const r=e.scale*(globalThis.devicePixelRatio||1),a=e.rotation;if(a!==E(this,Il)&&(t==null||t(),J(this,Il,a),Uo(E(this,Pl),{rotation:a})),r!==E(this,Js)){t==null||t(),J(this,Js,r);const i={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Q(n=Br,ji,zd).call(n,E(this,ro))};for(const o of E(this,io))i.properties=E(this,au).get(o),i.div=o,Q(this,Ts,Um).call(this,i)}}cancel(){var t;const e=new Go("TextLayer task cancelled.");(t=E(this,no))==null||t.cancel(e).catch(()=>{}),J(this,no,null),E(this,Ys).reject(e)}get textDivs(){return E(this,io)}get textContentItemsStr(){return E(this,su)}static cleanup(){if(!(E(this,Dl).size>0)){E(this,so).clear();for(const{canvas:e}of E(this,ao).values())e.remove();E(this,ao).clear()}}};Ys=new WeakMap,an=new WeakMap,eu=new WeakMap,ru=new WeakMap,ro=new WeakMap,as=new WeakMap,nu=new WeakMap,iu=new WeakMap,no=new WeakMap,Pl=new WeakMap,Il=new WeakMap,Js=new WeakMap,Nl=new WeakMap,su=new WeakMap,Ll=new WeakMap,io=new WeakMap,au=new WeakMap,ou=new WeakMap,so=new WeakMap,ao=new WeakMap,Qs=new WeakMap,Dl=new WeakMap,Ts=new WeakSet,hv=function(e){var a,n;if(E(this,eu))return;(n=E(this,as)).ctx??(n.ctx=Q(a=Br,ji,zd).call(a,E(this,ro)));const t=E(this,io),r=E(this,su);for(const i of e){if(t.length>E5){we("Ignoring additional textDivs for performance reasons."),J(this,eu,!0);return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const o=E(this,an);J(this,an,document.createElement("span")),E(this,an).classList.add("markedContent"),i.id!==null&&E(this,an).setAttribute("id",`${i.id}`),o.append(E(this,an))}else i.type==="endMarkedContent"&&J(this,an,E(this,an).parentNode);continue}r.push(i.str),Q(this,Ts,uv).call(this,i)}},uv=function(e){var g;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};E(this,io).push(t);const a=Vt.transform(E(this,ou),e.transform);let n=Math.atan2(a[1],a[0]);const i=E(this,Nl)[e.fontName];i.vertical&&(n+=Math.PI/2);const o=E(this,ru)&&i.fontSubstitution||i.fontFamily,l=Math.hypot(a[2],a[3]),s=l*Q(g=Br,ji,fv).call(g,o,E(this,ro));let c,f;n===0?(c=a[4],f=a[5]-s):(c=a[4]+s*Math.sin(n),f=a[5]-s*Math.cos(n));const h="calc(var(--scale-factor)*",d=t.style;E(this,an)===E(this,Pl)?(d.left=`${(100*c/E(this,iu)).toFixed(2)}%`,d.top=`${(100*f/E(this,nu)).toFixed(2)}%`):(d.left=`${h}${c.toFixed(2)}px)`,d.top=`${h}${f.toFixed(2)}px)`),d.fontSize=`${h}${(E(Br,Qs)*l).toFixed(2)}px)`,d.fontFamily=o,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,E(this,ru)&&(t.dataset.fontName=i.fontSubstitutionLoadedName||e.fontName),n!==0&&(r.angle=n*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const m=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);m!==b&&Math.max(m,b)/Math.min(m,b)>1.5&&(p=!0)}if(p&&(r.canvasWidth=i.vertical?e.height:e.width),E(this,au).set(t,r),E(this,as).div=t,E(this,as).properties=r,Q(this,Ts,Um).call(this,E(this,as)),r.hasText&&E(this,an).append(t),r.hasEOL){const m=document.createElement("br");m.setAttribute("role","presentation"),E(this,an).append(m)}},Um=function(e){const{div:t,properties:r,ctx:a,prevFontSize:n,prevFontFamily:i}=e,{style:o}=t;let l="";if(E(Br,Qs)>1&&(l=`scale(${1/E(Br,Qs)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:s}=o,{canvasWidth:c,fontSize:f}=r;(n!==f||i!==s)&&(a.font=`${f*E(this,Js)}px ${s}`,e.prevFontSize=f,e.prevFontFamily=s);const{width:h}=a.measureText(t.textContent);h>0&&(l=`scaleX(${c*E(this,Js)/h}) ${l}`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(o.transform=l)},ji=new WeakSet,zd=function(e=null){let t=E(this,ao).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),E(this,ao).set(e,t)}return t},dv=function(){if(E(this,Qs)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),J(this,Qs,e.getBoundingClientRect().height),e.remove()},fv=function(e,t){const r=E(this,so).get(e);if(r)return r;const a=Q(this,ji,zd).call(this,t),n=a.font;a.canvas.width=a.canvas.height=rn,a.font=`${rn}px ${e}`;const i=a.measureText("");let o=i.fontBoundingBoxAscent,l=Math.abs(i.fontBoundingBoxDescent);if(o){const f=o/(o+l);return E(this,so).set(e,f),a.canvas.width=a.canvas.height=0,a.font=n,f}a.strokeStyle="red",a.clearRect(0,0,rn,rn),a.strokeText("g",0,0);let s=a.getImageData(0,0,rn,rn).data;l=0;for(let f=s.length-1-3;f>=0;f-=4)if(s[f]>0){l=Math.ceil(f/4/rn);break}a.clearRect(0,0,rn,rn),a.strokeText("A",0,rn),s=a.getImageData(0,0,rn,rn).data,o=0;for(let f=0,h=s.length;f<h;f+=4)if(s[f]>0){o=rn-Math.floor(f/4/rn);break}a.canvas.width=a.canvas.height=0,a.font=n;const c=o?o/(o+l):C5;return E(this,so).set(e,c),c},tt(Br,ji),tt(Br,so,new Map),tt(Br,ao,new Map),tt(Br,Qs,null),tt(Br,Dl,new Set);let gc=Br;function T5(){ky("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:u,container:e,viewport:t,...r}=arguments[0],a=Object.keys(r);a.length>0&&we("Ignoring `renderTextLayer` parameters: "+a.join(", "));const n=new gc({textContentSource:u,container:e,viewport:t}),{textDivs:i,textContentItemsStr:o}=n;return{promise:n.render(),textDivs:i,textContentItemsStr:o}}function M5(){ky("`updateTextLayer`, please use `TextLayer` instead.")}class yh{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function a(n){var l;if(!n)return;let i=null;const o=n.name;if(o==="#text")i=n.value;else if(yh.shouldBuildText(o))(l=n==null?void 0:n.attributes)!=null&&l.textContent?i=n.attributes.textContent:n.value&&(i=n.value);else return;if(i!==null&&t.push({str:i}),!!n.children)for(const s of n.children)a(s)}return a(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const R5=65536,O5=100,P5=5e3,I5=$r?Vx:Ox,N5=$r?Wx:Sy,L5=$r?$x:Rx,D5=$r?qx:Ay;function j5(u={}){typeof u=="string"||u instanceof URL?u={url:u}:(u instanceof ArrayBuffer||ArrayBuffer.isView(u))&&(u={data:u});const e=new $m,{docId:t}=e,r=u.url?F5(u.url):null,a=u.data?B5(u.data):null,n=u.httpHeaders||null,i=u.withCredentials===!0,o=u.password??null,l=u.range instanceof pv?u.range:null,s=Number.isInteger(u.rangeChunkSize)&&u.rangeChunkSize>0?u.rangeChunkSize:R5;let c=u.worker instanceof ml?u.worker:null;const f=u.verbosity,h=typeof u.docBaseUrl=="string"&&!eg(u.docBaseUrl)?u.docBaseUrl:null,d=typeof u.cMapUrl=="string"?u.cMapUrl:null,p=u.cMapPacked!==!1,g=u.CMapReaderFactory||N5,m=typeof u.standardFontDataUrl=="string"?u.standardFontDataUrl:null,b=u.StandardFontDataFactory||D5,y=u.stopAtErrors!==!0,x=Number.isInteger(u.maxImageSize)&&u.maxImageSize>-1?u.maxImageSize:-1,k=u.isEvalSupported!==!1,M=typeof u.isOffscreenCanvasSupported=="boolean"?u.isOffscreenCanvasSupported:!$r,I=Number.isInteger(u.canvasMaxAreaInBytes)?u.canvasMaxAreaInBytes:-1,B=typeof u.disableFontFace=="boolean"?u.disableFontFace:$r,j=u.fontExtraProperties===!0,F=u.enableXfa===!0,z=u.ownerDocument||globalThis.document,$=u.disableRange===!0,H=u.disableStream===!0,C=u.disableAutoFetch===!0,O=u.pdfBug===!0,A=u.enableHWA===!0,v=l?l.length:u.length??NaN,w=typeof u.useSystemFonts=="boolean"?u.useSystemFonts:!$r&&!B,_=typeof u.useWorkerFetch=="boolean"?u.useWorkerFetch:g===Sy&&b===Ay&&d&&m&&Pc(d,document.baseURI)&&Pc(m,document.baseURI),S=u.canvasFactory||new I5({ownerDocument:z,enableHWA:A}),T=u.filterFactory||new L5({docId:t,ownerDocument:z}),N=null;vx(f);const L={canvasFactory:S,filterFactory:T};if(_||(L.cMapReaderFactory=new g({baseUrl:d,isCompressed:p}),L.standardFontDataFactory=new b({baseUrl:m})),!c){const Y={verbosity:f,port:Ss.workerPort};c=Y.port?ml.fromPort(Y):new ml(Y),e._worker=c}const V={docId:t,apiVersion:"4.4.168",data:a,password:o,disableAutoFetch:C,rangeChunkSize:s,length:v,docBaseUrl:h,enableXfa:F,evaluatorOptions:{maxImageSize:x,disableFontFace:B,ignoreErrors:y,isEvalSupported:k,isOffscreenCanvasSupported:M,canvasMaxAreaInBytes:I,fontExtraProperties:j,useSystemFonts:w,cMapUrl:_?d:null,standardFontDataUrl:_?m:null}},q={disableFontFace:B,fontExtraProperties:j,ownerDocument:z,pdfBug:O,styleElement:N,loadingParams:{disableAutoFetch:C,enableXfa:F}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const Y=c.messageHandler.sendWithPromise("GetDocRequest",V,a?[a.buffer]:null);let D;if(l)D=new c5(l,{disableRange:$,disableStream:H});else if(!a){if(!r)throw new Error("getDocument - no `url` parameter provided.");D=(P=>$r?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Pc(P.url)?new T1(P):new _5(P):Pc(P.url)?new T1(P):new b5(P))({url:r,length:v,httpHeaders:n,withCredentials:i,rangeChunkSize:s,disableRange:$,disableStream:H})}return Y.then(X=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const P=new Lc(t,X,c.port),R=new $5(P,e,D,q,L);e._transport=R,P.send("Ready",null)})}).catch(e._capability.reject),e}function F5(u){if(u instanceof URL)return u.href;try{return new URL(u,window.location).href}catch{if($r&&typeof u=="string")return u}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function B5(u){if($r&&typeof Buffer<"u"&&u instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength)return u;if(typeof u=="string")return dp(u);if(u instanceof ArrayBuffer||ArrayBuffer.isView(u)||typeof u=="object"&&!isNaN(u==null?void 0:u.length))return new Uint8Array(u);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function M1(u){return typeof u=="object"&&Number.isInteger(u==null?void 0:u.num)&&u.num>=0&&Number.isInteger(u==null?void 0:u.gen)&&u.gen>=0}var Ff;const Bf=class Bf{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${mn(Bf,Ff)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(a){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,a}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Ff=new WeakMap,tt(Bf,Ff,0);let $m=Bf;class pv{constructor(e,t,r=!1,a=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Ye("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class z5{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ie(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ta,os,Ln,sl,Hd;class H5{constructor(e,t,r,a=!1){tt(this,Ln);tt(this,ta,null);tt(this,os,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=a?new m1:null,this._pdfBug=a,this.commonObjs=r.commonObjs,this.objs=new mv,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:a=0,dontFlip:n=!1}={}){return new ed({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:a,dontFlip:n})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ie(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:a=Vs.ENABLE,transform:n=null,background:i=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:s=null,printAnnotationStorage:c=null}){var x,k;(x=this._stats)==null||x.time("Overall");const f=this._transport.getRenderingIntent(r,a,c),{renderingIntent:h,cacheKey:d}=f;J(this,os,!1),Q(this,Ln,Hd).call(this),o||(o=this._transport.getOptionalContentConfig(h));let p=this._intentStates.get(d);p||(p=Object.create(null),this._intentStates.set(d,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const g=!!(h&Nn.PRINT);p.displayReadyCapability||(p.displayReadyCapability=Promise.withResolvers(),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(k=this._stats)==null||k.time("Page Request"),this._pumpOperatorList(f));const m=M=>{var I;p.renderTasks.delete(b),(this._maybeCleanupAfterRender||g)&&J(this,os,!0),Q(this,Ln,sl).call(this,!g),M?(b.capability.reject(M),this._abortOperatorList({intentState:p,reason:M instanceof Error?M:new Error(M)})):b.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(I=globalThis.Stats)!=null&&I.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},b=new Wm({callback:m,params:{canvasContext:e,viewport:t,transform:n,background:i},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:s});(p.renderTasks||(p.renderTasks=new Set)).add(b);const y=b.task;return Promise.all([p.displayReadyCapability.promise,o]).then(([M,I])=>{var B;if(this.destroyed){m();return}if((B=this._stats)==null||B.time("Rendering"),!(I.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");b.initializeGraphics({transparency:M,optionalContentConfig:I}),b.operatorListChanged()}).catch(m),y}getOperatorList({intent:e="display",annotationMode:t=Vs.ENABLE,printAnnotationStorage:r=null}={}){var l;function a(){i.operatorList.lastChunk&&(i.opListReadCapability.resolve(i.operatorList),i.renderTasks.delete(o))}const n=this._transport.getRenderingIntent(e,t,r,!0);let i=this._intentStates.get(n.cacheKey);i||(i=Object.create(null),this._intentStates.set(n.cacheKey,i));let o;return i.opListReadCapability||(o=Object.create(null),o.operatorListChanged=a,i.opListReadCapability=Promise.withResolvers(),(i.renderTasks||(i.renderTasks=new Set)).add(o),i.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(n)),i.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>yh.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,a){function n(){i.read().then(function({value:l,done:s}){if(s){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),n()},a)}const i=t.getReader(),o={items:[],styles:Object.create(null),lang:null};n()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),J(this,os,!1),Q(this,Ln,Hd).call(this),Promise.all(e)}cleanup(e=!1){J(this,os,!0);const t=Q(this,Ln,sl).call(this,!1);return e&&t&&this._stats&&(this._stats=new m1),t}_startRenderPage(e,t){var a,n;const r=this._intentStates.get(t);r&&((a=this._stats)==null||a.timeEnd("Page Request"),(n=r.displayReadyCapability)==null||n.resolve(e))}_renderPageChunk(e,t){for(let r=0,a=e.length;r<a;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&Q(this,Ln,sl).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r}){const{map:a,transfer:n}=r,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:a},n).getReader(),l=this._intentStates.get(t);l.streamReader=o;const s=()=>{o.read().then(({value:c,done:f})=>{if(f){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(c,l),s())},c=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const f of l.renderTasks)f.operatorListChanged();Q(this,Ln,sl).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(c);else if(l.opListReadCapability)l.opListReadCapability.reject(c);else throw c}})};s()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof tg){let a=O5;t.extraDelay>0&&t.extraDelay<1e3&&(a+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},a);return}}if(e.streamReader.cancel(new Go(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[a,n]of this._intentStates)if(n===e){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}ta=new WeakMap,os=new WeakMap,Ln=new WeakSet,sl=function(e=!1){if(Q(this,Ln,Hd).call(this),!E(this,os)||this.destroyed)return!1;if(e)return J(this,ta,setTimeout(()=>{J(this,ta,null),Q(this,Ln,sl).call(this,!1)},P5)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),J(this,os,!1),!0},Hd=function(){E(this,ta)&&(clearTimeout(E(this,ta)),J(this,ta,null))};var oo,zf;class U5{constructor(){tt(this,oo,new Set);tt(this,zf,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};E(this,zf).then(()=>{for(const a of E(this,oo))a.call(this,r)})}addEventListener(e,t){E(this,oo).add(t)}removeEventListener(e,t){E(this,oo).delete(t)}terminate(){E(this,oo).clear()}}oo=new WeakMap,zf=new WeakMap;const Yi={isWorkerDisabled:!1,fakeWorkerId:0};$r&&(Yi.isWorkerDisabled=!0,Ss.workerSrc||(Ss.workerSrc="./pdf.worker.mjs")),Yi.isSameOrigin=function(u,e){let t;try{if(t=new URL(u),!t.origin||t.origin==="null")return!1}catch{return!1}const r=new URL(e,t);return t.origin===r.origin},Yi.createCDNWrapper=function(u){const e=`await import("${u}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var lo,jl,Ud,Fl,$d;const yn=class yn{constructor({name:e=null,port:t=null,verbosity:r=wx()}={}){tt(this,jl);var a;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((a=E(yn,lo))!=null&&a.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(E(yn,lo)||J(yn,lo,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return $r?Promise.all([zi.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Lc("main","worker",e),this._messageHandler.on("ready",function(){}),Q(this,jl,Ud).call(this)}_initialize(){if(Yi.isWorkerDisabled||E(yn,Fl,$d)){this._setupFakeWorker();return}let{workerSrc:e}=yn;try{Yi.isSameOrigin(window.location.href,e)||(e=Yi.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new Lc("main","worker",t),a=()=>{n.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},n=new AbortController;t.addEventListener("error",()=>{this._webWorker||a()},{signal:n.signal}),r.on("test",o=>{if(n.abort(),this.destroyed||!o){a();return}this._messageHandler=r,this._port=t,this._webWorker=t,Q(this,jl,Ud).call(this)}),r.on("ready",o=>{if(n.abort(),this.destroyed){a();return}try{i()}catch{this._setupFakeWorker()}});const i=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};i();return}catch{hp("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Yi.isWorkerDisabled||(we("Setting up fake worker."),Yi.isWorkerDisabled=!0),yn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new U5;this._port=t;const r=`fake${Yi.fakeWorkerId++}`,a=new Lc(r+"_worker",r,t);e.setup(a,t),this._messageHandler=new Lc(r,r+"_worker",t),Q(this,jl,Ud).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=E(yn,lo))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=E(this,lo))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new yn(e)}static get workerSrc(){if(Ss.workerSrc)return Ss.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ie(this,"_setupFakeWorkerGlobal",(async()=>E(this,Fl,$d)?E(this,Fl,$d):(await import(this.workerSrc)).WorkerMessageHandler)())}};lo=new WeakMap,jl=new WeakSet,Ud=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Fl=new WeakSet,$d=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},tt(yn,Fl),tt(yn,lo);let ml=yn;var ls,xi,Bl,zl,Si,co,Dc;class $5{constructor(e,t,r,a,n){tt(this,co);tt(this,ls,new Map);tt(this,xi,new Map);tt(this,Bl,new Map);tt(this,zl,new Map);tt(this,Si,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new mv,this.fontLoader=new Hx({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=n.canvasFactory,this.filterFactory=n.filterFactory,this.cMapReaderFactory=n.cMapReaderFactory,this.standardFontDataFactory=n.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ie(this,"annotationStorage",new ig)}getRenderingIntent(e,t=Vs.ENABLE,r=null,a=!1){let n=Nn.DISPLAY,i=Lm;switch(e){case"any":n=Nn.ANY;break;case"display":break;case"print":n=Nn.PRINT;break;default:we(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Vs.DISABLE:n+=Nn.ANNOTATIONS_DISABLE;break;case Vs.ENABLE:break;case Vs.ENABLE_FORMS:n+=Nn.ANNOTATIONS_FORMS;break;case Vs.ENABLE_STORAGE:n+=Nn.ANNOTATIONS_STORAGE,i=(n&Nn.PRINT&&r instanceof Qy?r:this.annotationStorage).serializable;break;default:we(`getRenderingIntent - invalid annotationMode: ${t}`)}return a&&(n+=Nn.OPLIST),{renderingIntent:n,cacheKey:`${n}_${i.hash}`,annotationStorageSerializable:i}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=E(this,Si))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const a of E(this,xi).values())e.push(a._destroy());E(this,xi).clear(),E(this,Bl).clear(),E(this,zl).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var a;this.commonObjs.clear(),this.fontLoader.clear(),E(this,ls).clear(),this.filterFactory.destroy(),gc.cleanup(),(a=this._networkStream)==null||a.cancelAllRequests(new Go("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,a)=>{Sr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=n=>{this._lastProgress={loaded:n.loaded,total:n.total}},a.onPull=()=>{this._fullReader.read().then(function({value:n,done:i}){if(i){a.close();return}Sr(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(n),1,[n])}).catch(n=>{a.error(n)})},a.onCancel=n=>{this._fullReader.cancel(n),a.ready.catch(i=>{if(!this.destroyed)throw i})}}),e.on("ReaderHeadersReady",r=>{const a=Promise.withResolvers(),n=this._fullReader;return n.headersReady.then(()=>{var i;(!n.isStreamingSupported||!n.isRangeSupported)&&(this._lastProgress&&((i=t.onProgress)==null||i.call(t,this._lastProgress)),n.onProgress=o=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:o.loaded,total:o.total})}),a.resolve({isStreamingSupported:n.isStreamingSupported,isRangeSupported:n.isRangeSupported,contentLength:n.contentLength})},a.reject),a.promise}),e.on("GetRangeReader",(r,a)=>{Sr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(r.begin,r.end);if(!n){a.close();return}a.onPull=()=>{n.read().then(function({value:i,done:o}){if(o){a.close();return}Sr(i instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{a.error(i)})},a.onCancel=i=>{n.cancel(i),a.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new z5(r,this))}),e.on("DocException",function(r){let a;switch(r.name){case"PasswordException":a=new dm(r.message,r.code);break;case"InvalidPDFException":a=new vy(r.message);break;case"MissingPDFException":a=new Xo(r.message);break;case"UnexpectedResponseException":a=new up(r.message,r.status);break;case"UnknownErrorException":a=new fm(r.message,r.details);break;default:Ye("DocException - expected a valid Error.")}t._capability.reject(a)}),e.on("PasswordRequest",r=>{if(J(this,Si,Promise.withResolvers()),t.onPassword){const a=n=>{n instanceof Error?E(this,Si).reject(n):E(this,Si).resolve({password:n})};try{t.onPassword(a,r.code)}catch(n){E(this,Si).reject(n)}}else E(this,Si).reject(new dm(r.message,r.code));return E(this,Si).promise}),e.on("DataLoaded",r=>{var a;(a=t.onProgress)==null||a.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;E(this,xi).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,a,n])=>{var i;if(this.destroyed||this.commonObjs.has(r))return null;switch(a){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:s}=this._params;if("error"in n){const d=n.error;we(`Error during font loading: ${d}`),this.commonObjs.resolve(r,d);break}const c=s&&((i=globalThis.FontInspector)!=null&&i.enabled)?(d,p)=>globalThis.FontInspector.fontAdded(d,p):null,f=new Ux(n,{disableFontFace:o,inspectFont:c});this.fontLoader.bind(f).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&f.data&&(f.data=null),this.commonObjs.resolve(r,f)});break;case"CopyLocalImage":const{imageRef:h}=n;Sr(h,"The imageRef must be defined.");for(const d of E(this,xi).values())for(const[,p]of d.objs)if((p==null?void 0:p.ref)===h)return p.dataLen?(this.commonObjs.resolve(r,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,n);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),e.on("obj",([r,a,n,i])=>{var l;if(this.destroyed)return;const o=E(this,xi).get(a);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=i==null?void 0:i.bitmap)==null||l.close();return}switch(n){case"Image":o.objs.resolve(r,i),(i==null?void 0:i.dataLen)>mx&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(r,i);break;default:throw new Error(`Got unknown object type ${n}`)}}}),e.on("DocProgress",r=>{var a;this.destroyed||(a=t.onProgress)==null||a.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&we("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=E(this,Bl).get(t);if(r)return r;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&E(this,zl).set(n.refStr,e);const i=new H5(t,n,this,this._params.pdfBug);return E(this,xi).set(t,i),i});return E(this,Bl).set(t,a),a}getPageIndex(e){return M1(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return Q(this,co,Dc).call(this,"GetFieldObjects")}hasJSActions(){return Q(this,co,Dc).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Q(this,co,Dc).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return Q(this,co,Dc).call(this,"GetOptionalContentConfig").then(t=>new l5(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=E(this,ls).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(a=>{var n,i;return{info:a[0],metadata:a[1]?new a5(a[1]):null,contentDispositionFilename:((n=this._fullReader)==null?void 0:n.filename)??null,contentLength:((i=this._fullReader)==null?void 0:i.contentLength)??null}});return E(this,ls).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of E(this,xi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),E(this,ls).clear(),this.filterFactory.destroy(!0),gc.cleanup()}}cachedPageNumber(e){if(!M1(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return E(this,zl).get(t)??null}}ls=new WeakMap,xi=new WeakMap,Bl=new WeakMap,zl=new WeakMap,Si=new WeakMap,co=new WeakSet,Dc=function(e,t=null){const r=E(this,ls).get(e);if(r)return r;const a=this.messageHandler.sendWithPromise(e,t);return E(this,ls).set(e,a),a};const xd=Symbol("INITIAL_DATA");var Yn,lu,Vm;class mv{constructor(){tt(this,lu);tt(this,Yn,Object.create(null))}get(e,t=null){if(t){const a=Q(this,lu,Vm).call(this,e);return a.promise.then(()=>t(a.data)),null}const r=E(this,Yn)[e];if(!r||r.data===xd)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=E(this,Yn)[e];return!!t&&t.data!==xd}resolve(e,t=null){const r=Q(this,lu,Vm).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in E(this,Yn)){const{data:r}=E(this,Yn)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}J(this,Yn,Object.create(null))}*[Symbol.iterator](){for(const e in E(this,Yn)){const{data:t}=E(this,Yn)[e];t!==xd&&(yield[e,t])}}}Yn=new WeakMap,lu=new WeakSet,Vm=function(e){var t;return(t=E(this,Yn))[e]||(t[e]={...Promise.withResolvers(),data:xd})};var ea;class V5{constructor(e){tt(this,ea,null);J(this,ea,e),this.onContinue=null}get promise(){return E(this,ea).capability.promise}cancel(e=0){E(this,ea).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=E(this,ea).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=E(this,ea);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}ea=new WeakMap;var ra,ho;const ja=class ja{constructor({callback:e,params:t,objs:r,commonObjs:a,annotationCanvasMap:n,operatorList:i,pageIndex:o,canvasFactory:l,filterFactory:s,useRequestAnimationFrame:c=!1,pdfBug:f=!1,pageColors:h=null}){tt(this,ra,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=a,this.annotationCanvasMap=n,this.operatorListIdx=null,this.operatorList=i,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=s,this._pdfBug=f,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new V5(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,l;if(this.cancelled)return;if(this._canvas){if(E(ja,ho).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");E(ja,ho).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:a,transform:n,background:i}=this.params;this.gfx=new pl(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:n,viewport:a,transparency:e,background:i}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),E(this,ra)&&(window.cancelAnimationFrame(E(this,ra)),J(this,ra,null)),E(ja,ho).delete(this._canvas),this.callback(e||new tg(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?J(this,ra,window.requestAnimationFrame(()=>{J(this,ra,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),E(ja,ho).delete(this._canvas),this.callback())))}};ra=new WeakMap,ho=new WeakMap,tt(ja,ho,new WeakSet);let Wm=ja;const W5="4.4.168",q5="19fbc8998";function R1(u){return Math.floor(Math.max(0,Math.min(1,u))*255).toString(16).padStart(2,"0")}function kc(u){return Math.max(0,Math.min(255,255*u))}class O1{static CMYK_G([e,t,r,a]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+a)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=kc(e),[e,e,e]}static G_HTML([e]){const t=R1(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(kc)}static RGB_HTML(e){return`#${e.map(R1).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,a]){return["RGB",1-Math.min(1,e+a),1-Math.min(1,r+a),1-Math.min(1,t+a)]}static CMYK_rgb([e,t,r,a]){return[kc(1-Math.min(1,e+a)),kc(1-Math.min(1,r+a)),kc(1-Math.min(1,t+a))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const a=1-e,n=1-t,i=1-r,o=Math.min(a,n,i);return["CMYK",a,n,i,o]}}class gv{static setupStorage(e,t,r,a,n){const i=a.getValue(t,{value:null});switch(r.name){case"textarea":if(i.value!==null&&(e.textContent=i.value),n==="print")break;e.addEventListener("input",o=>{a.setValue(t,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(i.value===r.attributes.xfaOn?e.setAttribute("checked",!0):i.value===r.attributes.xfaOff&&e.removeAttribute("checked"),n==="print")break;e.addEventListener("change",o=>{a.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(i.value!==null&&e.setAttribute("value",i.value),n==="print")break;e.addEventListener("input",o=>{a.setValue(t,{value:o.target.value})})}break;case"select":if(i.value!==null){e.setAttribute("value",i.value);for(const o of r.children)o.attributes.value===i.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,s=l.selectedIndex===-1?"":l[l.selectedIndex].value;a.setValue(t,{value:s})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:a,linkService:n}){const{attributes:i}=t,o=e instanceof HTMLAnchorElement;i.type==="radio"&&(i.name=`${i.name}-${a}`);for(const[l,s]of Object.entries(i))if(s!=null)switch(l){case"class":s.length&&e.setAttribute(l,s.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",s);break;case"style":Object.assign(e.style,s);break;case"textContent":e.textContent=s;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,s)}o&&n.addLinkAttributes(e,i.href,i.newWindow),r&&i.dataId&&this.setupStorage(e,i.dataId,t,r)}static render(e){var f,h;const t=e.annotationStorage,r=e.linkService,a=e.xfaHtml,n=e.intent||"display",i=document.createElement(a.name);a.attributes&&this.setAttributes({html:i,element:a,intent:n,linkService:r});const o=n!=="richText",l=e.div;if(l.append(i),e.viewport){const d=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=d}o&&l.setAttribute("class","xfaLayer xfaFont");const s=[];if(a.children.length===0){if(a.value){const d=document.createTextNode(a.value);i.append(d),o&&yh.shouldBuildText(a.name)&&s.push(d)}return{textDivs:s}}const c=[[a,-1,i]];for(;c.length>0;){const[d,p,g]=c.at(-1);if(p+1===d.children.length){c.pop();continue}const m=d.children[++c.at(-1)[1]];if(m===null)continue;const{name:b}=m;if(b==="#text"){const x=document.createTextNode(m.value);s.push(x),g.append(x);continue}const y=(f=m==null?void 0:m.attributes)!=null&&f.xmlns?document.createElementNS(m.attributes.xmlns,b):document.createElement(b);if(g.append(y),m.attributes&&this.setAttributes({html:y,element:m,storage:t,intent:n,linkService:r}),((h=m.children)==null?void 0:h.length)>0)c.push([m,-1,y]);else if(m.value){const x=document.createTextNode(m.value);o&&yh.shouldBuildText(b)&&s.push(x),y.append(x)}}for(const d of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:s}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const id=1e3,X5=9,Vo=new WeakSet;function As(u){return{width:u[2]-u[0],height:u[3]-u[1]}}class G5{static create(e){switch(e.data.annotationType){case yr.LINK:return new bv(e);case yr.TEXT:return new K5(e);case yr.WIDGET:switch(e.data.fieldType){case"Tx":return new Z5(e);case"Btn":return e.data.radioButton?new wv(e):e.data.checkBox?new J5(e):new Q5(e);case"Ch":return new t8(e);case"Sig":return new Y5(e)}return new Ko(e);case yr.POPUP:return new Xm(e);case yr.FREETEXT:return new kv(e);case yr.LINE:return new r8(e);case yr.SQUARE:return new n8(e);case yr.CIRCLE:return new i8(e);case yr.POLYLINE:return new Ev(e);case yr.CARET:return new a8(e);case yr.INK:return new Cv(e);case yr.POLYGON:return new s8(e);case yr.HIGHLIGHT:return new o8(e);case yr.UNDERLINE:return new l8(e);case yr.SQUIGGLY:return new c8(e);case yr.STRIKEOUT:return new h8(e);case yr.STAMP:return new Tv(e);case yr.FILEATTACHMENT:return new u8(e);default:return new dr(e)}}}var uo,Hl,Ul,cu,qm;const hg=class hg{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:a=!1}={}){tt(this,cu);tt(this,uo,null);tt(this,Hl,!1);tt(this,Ul,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),a&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get hasPopupData(){return hg._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;E(this,uo)||J(this,uo,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&Q(this,cu,qm).call(this,t),(r=E(this,Ul))==null||r.popup.updateEdited(e)}resetEdited(){var e;E(this,uo)&&(Q(this,cu,qm).call(this,E(this,uo).rect),(e=E(this,Ul))==null||e.popup.resetEdited(),J(this,uo,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:a}}=this,n=document.createElement("section");n.setAttribute("data-annotation-id",t.id),this instanceof Ko||(n.tabIndex=id);const{style:i}=n;if(i.zIndex=this.parent.zIndex++,t.popupRef&&n.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(n.title=t.alternativeText),t.noRotate&&n.classList.add("norotate"),!t.rect||this instanceof Xm){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,n),n}const{width:o,height:l}=As(t.rect);if(!e&&t.borderStyle.width>0){i.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,m=t.borderStyle.verticalCornerRadius;if(g>0||m>0){const y=`calc(${g}px * var(--scale-factor)) / calc(${m}px * var(--scale-factor))`;i.borderRadius=y}else if(this instanceof wv){const y=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;i.borderRadius=y}switch(t.borderStyle.style){case Sc.SOLID:i.borderStyle="solid";break;case Sc.DASHED:i.borderStyle="dashed";break;case Sc.BEVELED:we("Unimplemented border style: beveled");break;case Sc.INSET:we("Unimplemented border style: inset");break;case Sc.UNDERLINE:i.borderBottomStyle="solid";break}const b=t.borderColor||null;b?(J(this,Hl,!0),i.borderColor=Vt.makeHexColor(b[0]|0,b[1]|0,b[2]|0)):i.borderWidth=0}const s=Vt.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:c,pageHeight:f,pageX:h,pageY:d}=a.rawDims;i.left=`${100*(s[0]-h)/c}%`,i.top=`${100*(s[1]-d)/f}%`;const{rotation:p}=t;return t.hasOwnCanvas||p===0?(i.width=`${100*o/c}%`,i.height=`${100*l/f}%`):this.setRotation(p,n),n}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:a}=this.parent.viewport.rawDims,{width:n,height:i}=As(this.data.rect);let o,l;e%180===0?(o=100*n/r,l=100*i/a):(o=100*i/r,l=100*n/a),t.style.width=`${o}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,a)=>{const n=a.detail[t],i=n[0],o=n.slice(1);a.target.style[r]=O1[`${i}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:O1[`${i}_rgb`](o)})};return Ie(this,"_commonActions",{display:t=>{const{display:r}=t.detail,a=r%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const a of Object.keys(t.detail)){const n=e[a]||r[a];n==null||n(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[a,n]of Object.entries(t)){const i=r[a];if(i){const o={detail:{[a]:n},target:e};i(o),delete t[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,a,n]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,m,b,y]=e.subarray(2,6);if(a===g&&n===m&&t===b&&r===y)return}const{style:i}=this.container;let o;if(E(this,Hl)){const{borderColor:g,borderWidth:m}=i;i.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${m}">`],this.container.classList.add("hasBorder")}const l=a-t,s=n-r,{svgFactory:c}=this,f=c.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);const h=c.createElement("defs");f.append(h);const d=c.createElement("clipPath"),p=`clippath_${this.data.id}`;d.setAttribute("id",p),d.setAttribute("clipPathUnits","objectBoundingBox"),h.append(d);for(let g=2,m=e.length;g<m;g+=8){const b=e[g],y=e[g+1],x=e[g+2],k=e[g+3],M=c.createElement("rect"),I=(x-t)/l,B=(n-y)/s,j=(b-x)/l,F=(y-k)/s;M.setAttribute("x",I),M.setAttribute("y",B),M.setAttribute("width",j),M.setAttribute("height",F),d.append(M),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${I}" y="${B}" width="${j}" height="${F}"/>`)}E(this,Hl)&&(o.push("</g></svg>')"),i.backgroundImage=o.join("")),this.container.append(f),this.container.style.clipPath=`url(#${p})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const r=J(this,Ul,new Xm({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){Ye("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const a=this._fieldObjects[e];if(a)for(const{page:n,id:i,exportValues:o}of a){if(n===-1||i===t)continue;const l=typeof o=="string"?o:null,s=document.querySelector(`[data-element-id="${i}"]`);if(s&&!Vo.has(s)){we(`_getElementsByName - element not allowed: ${i}`);continue}r.push({id:i,exportValue:l,domElement:s})}return r}for(const a of document.getElementsByName(e)){const{exportValue:n}=a,i=a.getAttribute("data-element-id");i!==t&&Vo.has(a)&&r.push({id:i,exportValue:n,domElement:a})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};uo=new WeakMap,Hl=new WeakMap,Ul=new WeakMap,cu=new WeakSet,qm=function(e){const{container:{style:t},data:{rect:r,rotation:a},parent:{viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:s,height:c}=As(e);t.left=`${100*(e[0]-o)/n}%`,t.top=`${100*(i-e[3]+l)/i}%`,a===0?(t.width=`${100*s/n}%`,t.height=`${100*c/i}%`):this.setRotation(a)};let dr=hg;var Cn,Oa,yv,vv;class bv extends dr{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});tt(this,Cn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,a=document.createElement("a");a.setAttribute("data-element-id",t.id);let n=!1;return t.url?(r.addLinkAttributes(a,t.url,t.newWindow),n=!0):t.action?(this._bindNamedAction(a,t.action),n=!0):t.attachment?(Q(this,Cn,yv).call(this,a,t.attachment,t.attachmentDest),n=!0):t.setOCGState?(Q(this,Cn,vv).call(this,a,t.setOCGState),n=!0):t.dest?(this._bindLink(a,t.dest),n=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(a,t),n=!0),t.resetForm?(this._bindResetFormAction(a,t.resetForm),n=!0):this.isTooltipOnly&&!n&&(this._bindLink(a,""),n=!0)),this.container.classList.add("linkAnnotation"),n&&this.container.append(a),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&Q(this,Cn,Oa).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),Q(this,Cn,Oa).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const n of Object.keys(r.actions)){const i=a.get(n);i&&(t[i]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:n}}),!1})}t.onclick||(t.onclick=()=>!1),Q(this,Cn,Oa).call(this)}_bindResetFormAction(t,r){const a=t.onclick;if(a||(t.href=this.linkService.getAnchorUrl("")),Q(this,Cn,Oa).call(this),!this._fieldObjects){we('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),a||(t.onclick=()=>!1);return}t.onclick=()=>{var f;a==null||a();const{fields:n,refs:i,include:o}=r,l=[];if(n.length!==0||i.length!==0){const h=new Set(i);for(const d of n){const p=this._fieldObjects[d]||[];for(const{id:g}of p)h.add(g)}for(const d of Object.values(this._fieldObjects))for(const p of d)h.has(p.id)===o&&l.push(p)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const s=this.annotationStorage,c=[];for(const h of l){const{id:d}=h;switch(c.push(d),h.type){case"text":{const g=h.defaultValue||"";s.setValue(d,{value:g});break}case"checkbox":case"radiobutton":{const g=h.defaultValue===h.exportValues;s.setValue(d,{value:g});break}case"combobox":case"listbox":{const g=h.defaultValue||"";s.setValue(d,{value:g});break}default:continue}const p=document.querySelector(`[data-element-id="${d}"]`);if(p){if(!Vo.has(p)){we(`_bindResetFormAction - element not allowed: ${d}`);continue}}else continue;p.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}Cn=new WeakSet,Oa=function(){this.container.setAttribute("data-internal-link","")},yv=function(t,r,a=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var n;return(n=this.downloadManager)==null||n.openOrDownloadData(r.content,r.filename,a),!1},Q(this,Cn,Oa).call(this)},vv=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),Q(this,Cn,Oa).call(this)};class K5 extends dr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ko extends dr{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ln.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,a,n){r.includes("mouse")?e.addEventListener(r,i=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:n(i),shift:i.shiftKey,modifier:this._getKeyModifier(i)}})}):e.addEventListener(r,i=>{var o;if(r==="blur"){if(!t.focused||!i.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}n&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:n(i)}}))})}_setEventListeners(e,t,r,a){var n,i,o;for(const[l,s]of r)(s==="Action"||(n=this.data.actions)!=null&&n[s])&&((s==="Focus"||s==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,s,a),s==="Focus"&&!((i=this.data.actions)!=null&&i.Blur)?this._setEventListener(e,t,"blur","Blur",null):s==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Vt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||X5,n=e.style;let i;const o=2,l=s=>Math.round(10*s)/10;if(this.data.multiLine){const s=Math.abs(this.data.rect[3]-this.data.rect[1]-o),c=Math.round(s/(Lp*a))||1,f=s/c;i=Math.min(a,l(f/Lp))}else{const s=Math.abs(this.data.rect[3]-this.data.rect[1]-o);i=Math.min(a,l(s/Lp))}n.fontSize=`calc(${i}px * var(--scale-factor))`,n.color=Vt.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(n.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Z5 extends Ko{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,a){const n=this.annotationStorage;for(const i of this._getElementsByName(e.name,e.id))i.domElement&&(i.domElement[t]=r),n.setValue(i.id,{[a]:r})}render(){var a,n;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const i=e.getValue(t,{value:this.data.fieldValue});let o=i.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let s=i.formattedValue||((a=this.data.textContent)==null?void 0:a.join(`
`))||null;s&&this.data.comb&&(s=s.replaceAll(/\s+/g,""));const c={userValue:o,formattedValue:s,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=s??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",s??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Vo.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=id,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",h=>{e.setValue(t,{value:h.target.value}),this.setPropertyOnSiblings(r,"value",h.target.value,"value"),c.formattedValue=null}),r.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue??"";r.value=c.userValue=d,c.formattedValue=null});let f=h=>{const{formattedValue:d}=c;d!=null&&(h.target.value=d),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",d=>{var g;if(c.focused)return;const{target:p}=d;c.userValue&&(p.value=c.userValue),c.lastCommittedValue=p.value,c.commitKey=1,(g=this.data.actions)!=null&&g.Focus||(c.focused=!0)}),r.addEventListener("updatefromsandbox",d=>{this.showElementAndHideCanvas(d.target);const p={value(g){c.userValue=g.detail.value??"",e.setValue(t,{value:c.userValue.toString()}),g.target.value=c.userValue},formattedValue(g){const{formattedValue:m}=g.detail;c.formattedValue=m,m!=null&&g.target!==document.activeElement&&(g.target.value=m),e.setValue(t,{formattedValue:m})},selRange(g){g.target.setSelectionRange(...g.detail.selRange)},charLimit:g=>{var x;const{charLimit:m}=g.detail,{target:b}=g;if(m===0){b.removeAttribute("maxLength");return}b.setAttribute("maxLength",m);let y=c.userValue;!y||y.length<=m||(y=y.slice(0,m),b.value=c.userValue=y,e.setValue(t,{value:y}),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:1,selStart:b.selectionStart,selEnd:b.selectionEnd}}))}};this._dispatchEventFromSandbox(p,d)}),r.addEventListener("keydown",d=>{var m;c.commitKey=1;let p=-1;if(d.key==="Escape"?p=0:d.key==="Enter"&&!this.data.multiLine?p=2:d.key==="Tab"&&(c.commitKey=3),p===-1)return;const{value:g}=d.target;c.lastCommittedValue!==g&&(c.lastCommittedValue=g,c.userValue=g,(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:p,selStart:d.target.selectionStart,selEnd:d.target.selectionEnd}}))});const h=f;f=null,r.addEventListener("blur",d=>{var g,m;if(!c.focused||!d.relatedTarget)return;(g=this.data.actions)!=null&&g.Blur||(c.focused=!1);const{value:p}=d.target;c.userValue=p,c.lastCommittedValue!==p&&((m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:p,willCommit:!0,commitKey:c.commitKey,selStart:d.target.selectionStart,selEnd:d.target.selectionEnd}})),h(d)}),(n=this.data.actions)!=null&&n.Keystroke&&r.addEventListener("beforeinput",d=>{var M;c.lastCommittedValue=null;const{data:p,target:g}=d,{value:m,selectionStart:b,selectionEnd:y}=g;let x=b,k=y;switch(d.inputType){case"deleteWordBackward":{const I=m.substring(0,b).match(/\w*[^\w]*$/);I&&(x-=I[0].length);break}case"deleteWordForward":{const I=m.substring(b).match(/^[^\w]*\w*/);I&&(k+=I[0].length);break}case"deleteContentBackward":b===y&&(x-=1);break;case"deleteContentForward":b===y&&(k+=1);break}d.preventDefault(),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,change:p||"",willCommit:!1,selStart:x,selEnd:k}})}),this._setEventListeners(r,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.value)}if(f&&r.addEventListener("blur",f),this.data.comb){const d=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${d}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Y5 extends Ko{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class J5 extends Ko{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let a=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",e.setValue(r,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const n=document.createElement("input");return Vo.add(n),n.setAttribute("data-element-id",r),n.disabled=t.readOnly,this._setRequired(n,this.data.required),n.type="checkbox",n.name=t.fieldName,a&&n.setAttribute("checked",!0),n.setAttribute("exportValue",t.exportValue),n.tabIndex=id,n.addEventListener("change",i=>{const{name:o,checked:l}=i.target;for(const s of this._getElementsByName(o,r)){const c=l&&s.exportValue===t.exportValue;s.domElement&&(s.domElement.checked=c),e.setValue(s.id,{value:c})}e.setValue(r,{value:l})}),n.addEventListener("resetform",i=>{const o=t.defaultFieldValue||"Off";i.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(n.addEventListener("updatefromsandbox",i=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,i)}),this._setEventListeners(n,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],i=>i.target.checked)),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class wv extends Ko{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let a=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof a=="string"&&(a=a!==t.buttonValue,e.setValue(r,{value:a})),a)for(const i of this._getElementsByName(t.fieldName,r))e.setValue(i.id,{value:!1});const n=document.createElement("input");if(Vo.add(n),n.setAttribute("data-element-id",r),n.disabled=t.readOnly,this._setRequired(n,this.data.required),n.type="radio",n.name=t.fieldName,a&&n.setAttribute("checked",!0),n.tabIndex=id,n.addEventListener("change",i=>{const{name:o,checked:l}=i.target;for(const s of this._getElementsByName(o,r))e.setValue(s.id,{value:!1});e.setValue(r,{value:l})}),n.addEventListener("resetform",i=>{const o=t.defaultFieldValue;i.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const i=t.buttonValue;n.addEventListener("updatefromsandbox",o=>{const l={value:s=>{const c=i===s.detail.value;for(const f of this._getElementsByName(s.target.name)){const h=c&&f.id===r;f.domElement&&(f.domElement.checked=h),e.setValue(f.id,{value:h})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(n,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Q5 extends bv{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class t8 extends Ko{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),a=document.createElement("select");Vo.add(a),a.setAttribute("data-element-id",t),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=id;let n=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",c=>{const f=this.data.defaultFieldValue;for(const h of a.options)h.selected=h.value===f});for(const c of this.data.options){const f=document.createElement("option");f.textContent=c.displayValue,f.value=c.exportValue,r.value.includes(c.exportValue)&&(f.setAttribute("selected",!0),n=!1),a.append(f)}let i=null;if(n){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),a.prepend(c),i=()=>{c.remove(),a.removeEventListener("input",i),i=null},a.addEventListener("input",i)}const o=c=>{const f=c?"value":"textContent",{options:h,multiple:d}=a;return d?Array.prototype.filter.call(h,p=>p.selected).map(p=>p[f]):h.selectedIndex===-1?null:h[h.selectedIndex][f]};let l=o(!1);const s=c=>{const f=c.target.options;return Array.prototype.map.call(f,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",c=>{const f={value(h){i==null||i();const d=h.detail.value,p=new Set(Array.isArray(d)?d:[d]);for(const g of a.options)g.selected=p.has(g.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(h){a.multiple=!0},remove(h){const d=a.options,p=h.detail.remove;d[p].selected=!1,a.remove(p),d.length>0&&Array.prototype.findIndex.call(d,m=>m.selected)===-1&&(d[0].selected=!0),e.setValue(t,{value:o(!0),items:s(h)}),l=o(!1)},clear(h){for(;a.length!==0;)a.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(h){const{index:d,displayValue:p,exportValue:g}=h.detail.insert,m=a.children[d],b=document.createElement("option");b.textContent=p,b.value=g,m?m.before(b):a.append(b),e.setValue(t,{value:o(!0),items:s(h)}),l=o(!1)},items(h){const{items:d}=h.detail;for(;a.length!==0;)a.remove(0);for(const p of d){const{displayValue:g,exportValue:m}=p,b=document.createElement("option");b.textContent=g,b.value=m,a.append(b)}a.options.length>0&&(a.options[0].selected=!0),e.setValue(t,{value:o(!0),items:s(h)}),l=o(!1)},indices(h){const d=new Set(h.detail.indices);for(const p of h.target.options)p.selected=d.has(p.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(f,c)}),a.addEventListener("input",c=>{var d;const f=o(!0),h=o(!1);e.setValue(t,{value:f}),c.preventDefault(),(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:h,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):a.addEventListener("input",function(c){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Xm extends dr{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:dr._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new e8({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${_y}${r}`).join(",")),this.container}}var $l,Hf,Uf,Vl,fo,hr,cs,po,hu,uu,Wl,hs,Jn,us,du,ds,fu,mo,go,Je,Vd,Gm,_v,xv,Sv,Av,Wd,qd,Km;class e8{constructor({container:e,color:t,elements:r,titleObj:a,modificationDate:n,contentsObj:i,richText:o,parent:l,rect:s,parentRect:c,open:f}){tt(this,Je);tt(this,$l,Q(this,Je,Sv).bind(this));tt(this,Hf,Q(this,Je,Km).bind(this));tt(this,Uf,Q(this,Je,qd).bind(this));tt(this,Vl,Q(this,Je,Wd).bind(this));tt(this,fo,null);tt(this,hr,null);tt(this,cs,null);tt(this,po,null);tt(this,hu,null);tt(this,uu,null);tt(this,Wl,null);tt(this,hs,!1);tt(this,Jn,null);tt(this,us,null);tt(this,du,null);tt(this,ds,null);tt(this,fu,null);tt(this,mo,null);tt(this,go,!1);var h;J(this,hr,e),J(this,fu,a),J(this,cs,i),J(this,ds,o),J(this,uu,l),J(this,fo,t),J(this,du,s),J(this,Wl,c),J(this,hu,r),J(this,po,Ey.toDateObject(n)),this.trigger=r.flatMap(d=>d.getElementsToTriggerPopup());for(const d of this.trigger)d.addEventListener("click",E(this,Vl)),d.addEventListener("mouseenter",E(this,Uf)),d.addEventListener("mouseleave",E(this,Hf)),d.classList.add("popupTriggerArea");for(const d of r)(h=d.container)==null||h.addEventListener("keydown",E(this,$l));E(this,hr).hidden=!0,f&&Q(this,Je,Wd).call(this)}render(){if(E(this,Jn))return;const e=J(this,Jn,document.createElement("div"));if(e.className="popup",E(this,fo)){const n=e.style.outlineColor=Vt.makeHexColor(...E(this,fo));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`:e.style.backgroundColor=Vt.makeHexColor(...E(this,fo).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=E(this,fu),e.append(t),E(this,po)){const n=document.createElement("span");n.classList.add("popupDate"),n.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),n.setAttribute("data-l10n-args",JSON.stringify({date:E(this,po).toLocaleDateString(),time:E(this,po).toLocaleTimeString()})),t.append(n)}const a=E(this,Je,Vd);if(a)gv.render({xfaHtml:a,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const n=this._formatContents(E(this,cs));e.append(n)}E(this,hr).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const a=e.split(/(?:\r\n?|\n)/);for(let n=0,i=a.length;n<i;++n){const o=a[n];r.append(document.createTextNode(o)),n<i-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;E(this,mo)||J(this,mo,{contentsObj:E(this,cs),richText:E(this,ds)}),e&&J(this,us,null),t&&(J(this,ds,Q(this,Je,xv).call(this,t)),J(this,cs,null)),(r=E(this,Jn))==null||r.remove(),J(this,Jn,null)}resetEdited(){var e;E(this,mo)&&({contentsObj:mn(this,cs)._,richText:mn(this,ds)._}=E(this,mo),J(this,mo,null),(e=E(this,Jn))==null||e.remove(),J(this,Jn,null),J(this,us,null))}forceHide(){J(this,go,this.isVisible),E(this,go)&&(E(this,hr).hidden=!0)}maybeShow(){E(this,go)&&(E(this,Jn)||Q(this,Je,qd).call(this),J(this,go,!1),E(this,hr).hidden=!1)}get isVisible(){return E(this,hr).hidden===!1}}$l=new WeakMap,Hf=new WeakMap,Uf=new WeakMap,Vl=new WeakMap,fo=new WeakMap,hr=new WeakMap,cs=new WeakMap,po=new WeakMap,hu=new WeakMap,uu=new WeakMap,Wl=new WeakMap,hs=new WeakMap,Jn=new WeakMap,us=new WeakMap,du=new WeakMap,ds=new WeakMap,fu=new WeakMap,mo=new WeakMap,go=new WeakMap,Je=new WeakSet,Vd=function(){const e=E(this,ds),t=E(this,cs);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&E(this,ds).html||null},Gm=function(){var e,t,r;return((r=(t=(e=E(this,Je,Vd))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},_v=function(){var e,t,r;return((r=(t=(e=E(this,Je,Vd))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},xv=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},a={style:{color:E(this,Je,_v),fontSize:E(this,Je,Gm)?`calc(${E(this,Je,Gm)}px * var(--scale-factor))`:""}};for(const n of e.split(`
`))t.push({name:"span",value:n,attributes:a});return r},Sv=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&E(this,hs))&&Q(this,Je,Wd).call(this)},Av=function(){if(E(this,us)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:a,pageY:n}}}=E(this,uu);let i=!!E(this,Wl),o=i?E(this,Wl):E(this,du);for(const p of E(this,hu))if(!o||Vt.intersect(p.data.rect,o)!==null){o=p.data.rect,i=!0;break}const l=Vt.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),c=i?o[2]-o[0]+5:0,f=l[0]+c,h=l[1];J(this,us,[100*(f-a)/t,100*(h-n)/r]);const{style:d}=E(this,hr);d.left=`${E(this,us)[0]}%`,d.top=`${E(this,us)[1]}%`},Wd=function(){J(this,hs,!E(this,hs)),E(this,hs)?(Q(this,Je,qd).call(this),E(this,hr).addEventListener("click",E(this,Vl)),E(this,hr).addEventListener("keydown",E(this,$l))):(Q(this,Je,Km).call(this),E(this,hr).removeEventListener("click",E(this,Vl)),E(this,hr).removeEventListener("keydown",E(this,$l)))},qd=function(){E(this,Jn)||this.render(),this.isVisible?E(this,hs)&&E(this,hr).classList.add("focused"):(Q(this,Je,Av).call(this),E(this,hr).hidden=!1,E(this,hr).style.zIndex=parseInt(E(this,hr).style.zIndex)+1e3)},Km=function(){E(this,hr).classList.remove("focused"),!(E(this,hs)||!this.isVisible)&&(E(this,hr).hidden=!0,E(this,hr).style.zIndex=parseInt(E(this,hr).style.zIndex)-1e3)};class kv extends dr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Te.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var pu;class r8 extends dr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});tt(this,pu,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:a}=As(t.rect),n=this.svgFactory.create(r,a,!0),i=J(this,pu,this.svgFactory.createElement("svg:line"));return i.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),i.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),i.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),i.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),n.append(i),this.container.append(n),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return E(this,pu)}addHighlightArea(){this.container.classList.add("highlightArea")}}pu=new WeakMap;var mu;class n8 extends dr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});tt(this,mu,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:a}=As(t.rect),n=this.svgFactory.create(r,a,!0),i=t.borderStyle.width,o=J(this,mu,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",r-i),o.setAttribute("height",a-i),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),n.append(o),this.container.append(n),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return E(this,mu)}addHighlightArea(){this.container.classList.add("highlightArea")}}mu=new WeakMap;var gu;class i8 extends dr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});tt(this,gu,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:a}=As(t.rect),n=this.svgFactory.create(r,a,!0),i=t.borderStyle.width,o=J(this,gu,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",a/2),o.setAttribute("rx",r/2-i/2),o.setAttribute("ry",a/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),n.append(o),this.container.append(n),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return E(this,gu)}addHighlightArea(){this.container.classList.add("highlightArea")}}gu=new WeakMap;var bu;class Ev extends dr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});tt(this,bu,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:a,popupRef:n}}=this;if(!r)return this.container;const{width:i,height:o}=As(t),l=this.svgFactory.create(i,o,!0);let s=[];for(let f=0,h=r.length;f<h;f+=2){const d=r[f]-t[0],p=t[3]-r[f+1];s.push(`${d},${p}`)}s=s.join(" ");const c=J(this,bu,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",s),c.setAttribute("stroke-width",a.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!n&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return E(this,bu)}addHighlightArea(){this.container.classList.add("highlightArea")}}bu=new WeakMap;class s8 extends Ev{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class a8 extends dr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var yu;class Cv extends dr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});tt(this,yu,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Te.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:r,borderStyle:a,popupRef:n}}=this,{width:i,height:o}=As(t),l=this.svgFactory.create(i,o,!0);for(const s of r){let c=[];for(let h=0,d=s.length;h<d;h+=2){const p=s[h]-t[0],g=t[3]-s[h+1];c.push(`${p},${g}`)}c=c.join(" ");const f=this.svgFactory.createElement(this.svgElementName);E(this,yu).push(f),f.setAttribute("points",c),f.setAttribute("stroke-width",a.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),!n&&this.hasPopupData&&this._createPopup(),l.append(f)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return E(this,yu)}addHighlightArea(){this.container.classList.add("highlightArea")}}yu=new WeakMap;class o8 extends dr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class l8 extends dr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class c8 extends dr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class h8 extends dr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Tv extends dr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var vu,wu,Zm;class u8 extends dr{constructor(t){var a;super(t,{isRenderable:!0});tt(this,wu);tt(this,vu,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(a=this.linkService.eventBus)==null||a.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let a;r.hasAppearance||r.fillAlpha===0?a=document.createElement("div"):(a=document.createElement("img"),a.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(a.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),a.addEventListener("dblclick",Q(this,wu,Zm).bind(this)),J(this,vu,a);const{isMac:n}=ln.platform;return t.addEventListener("keydown",i=>{i.key==="Enter"&&(n?i.metaKey:i.ctrlKey)&&Q(this,wu,Zm).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():a.classList.add("popupTriggerArea"),t.append(a),t}getElementsToTriggerPopup(){return E(this,vu)}addHighlightArea(){this.container.classList.add("highlightArea")}}vu=new WeakMap,wu=new WeakSet,Zm=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var _u,bo,ql,Wo,Mv,Ym;class d8{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:a,page:n,viewport:i}){tt(this,Wo);tt(this,_u,null);tt(this,bo,null);tt(this,ql,new Map);this.div=e,J(this,_u,t),J(this,bo,r),this.page=n,this.viewport=i,this.zIndex=0,this._annotationEditorUIManager=a}async render(e){var i;const{annotations:t}=e,r=this.div;Uo(r,this.viewport);const a=new Map,n={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Q0,annotationStorage:e.annotationStorage||new ig,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const l=o.annotationType===yr.POPUP;if(l){const f=a.get(o.id);if(!f)continue;n.elements=f}else{const{width:f,height:h}=As(o.rect);if(f<=0||h<=0)continue}n.data=o;const s=G5.create(n);if(!s.isRenderable)continue;if(!l&&o.popupRef){const f=a.get(o.popupRef);f?f.push(s):a.set(o.popupRef,[s])}const c=s.render();o.hidden&&(c.style.visibility="hidden"),Q(this,Wo,Mv).call(this,c,o.id),s.annotationEditorType>0&&(E(this,ql).set(s.data.id,s),(i=this._annotationEditorUIManager)==null||i.renderAnnotationElement(s))}Q(this,Wo,Ym).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Uo(t,{rotation:e.rotation}),Q(this,Wo,Ym).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(E(this,ql).values())}getEditableAnnotation(e){return E(this,ql).get(e)}}_u=new WeakMap,bo=new WeakMap,ql=new WeakMap,Wo=new WeakSet,Mv=function(e,t){var a;const r=e.firstChild||e;r.id=`${_y}${t}`,this.div.append(e),(a=E(this,_u))==null||a.moveElementInDOM(this.div,e,r,!1)},Ym=function(){if(!E(this,bo))return;const e=this.div;for(const[t,r]of E(this,bo)){const a=e.querySelector(`[data-annotation-id="${t}"]`);if(!a)continue;r.className="annotationContent";const{firstChild:n}=a;n?n.nodeName==="CANVAS"?n.replaceWith(r):n.classList.contains("annotationContent")?n.after(r):n.before(r):a.append(r)}E(this,bo).clear()};const Sd=/\r\n?|\n/g;var xu,Su,Au,ku,Eu,Qn,xn,Cu,Sn,Xl,pr,Rv,Ov,Pv,Xd,Es,Gd,Kd,Iv,Qm,Nv;const rr=class rr extends Xe{constructor(t){super({...t,name:"freeTextEditor"});tt(this,pr);tt(this,xu,this.editorDivBlur.bind(this));tt(this,Su,this.editorDivFocus.bind(this));tt(this,Au,this.editorDivInput.bind(this));tt(this,ku,this.editorDivKeydown.bind(this));tt(this,Eu,this.editorDivPaste.bind(this));tt(this,Qn);tt(this,xn,"");tt(this,Cu,`${this.id}-editor`);tt(this,Sn);tt(this,Xl,null);J(this,Qn,t.color||rr._defaultColor||Xe._defaultLineColor),J(this,Sn,t.fontSize||rr._defaultFontSize)}static get _keyboardManager(){const t=rr.prototype,r=i=>i.isEmpty(),a=$o.TRANSLATE_SMALL,n=$o.TRANSLATE_BIG;return Ie(this,"_keyboardManager",new rd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[a,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[n,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,a],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,n],checker:r}]]))}static initialize(t,r){Xe.initialize(t,r,{strings:["pdfjs-free-text-default-content"]});const a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case oe.FREETEXT_SIZE:rr._defaultFontSize=r;break;case oe.FREETEXT_COLOR:rr._defaultColor=r;break}}updateParams(t,r){switch(t){case oe.FREETEXT_SIZE:Q(this,pr,Rv).call(this,r);break;case oe.FREETEXT_COLOR:Q(this,pr,Ov).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[oe.FREETEXT_SIZE,rr._defaultFontSize],[oe.FREETEXT_COLOR,rr._defaultColor||Xe._defaultLineColor]]}get propertiesToUpdate(){return[[oe.FREETEXT_SIZE,E(this,Sn)],[oe.FREETEXT_COLOR,E(this,Qn)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-rr._internalPadding*t,-(rr._internalPadding+E(this,Sn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Te.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",E(this,ku),{signal:t}),this.editorDiv.addEventListener("focus",E(this,Su),{signal:t}),this.editorDiv.addEventListener("blur",E(this,xu),{signal:t}),this.editorDiv.addEventListener("input",E(this,Au),{signal:t}),this.editorDiv.addEventListener("paste",E(this,Eu),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",E(this,Cu)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",E(this,ku)),this.editorDiv.removeEventListener("focus",E(this,Su)),this.editorDiv.removeEventListener("blur",E(this,xu)),this.editorDiv.removeEventListener("input",E(this,Au)),this.editorDiv.removeEventListener("paste",E(this,Eu)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=E(this,xn),r=J(this,xn,Q(this,pr,Pv).call(this).trimEnd());if(t===r)return;const a=n=>{if(J(this,xn,n),!n){this.remove();return}Q(this,pr,Kd).call(this),this._uiManager.rebuild(this),Q(this,pr,Xd).call(this)};this.addCommands({cmd:()=>{a(r)},undo:()=>{a(t)},mustExec:!1}),Q(this,pr,Xd).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){rr._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",E(this,Cu)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Xe._l10nPromise.get("pdfjs-free-text-default-content").then(n=>{var i;return(i=this.editorDiv)==null?void 0:i.setAttribute("default-content",n)}),this.editorDiv.contentEditable=!0;const{style:a}=this.editorDiv;if(a.fontSize=`calc(${E(this,Sn)}px * var(--scale-factor))`,a.color=E(this,Qn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),_f(this,this.div,["dblclick","keydown"]),this.width){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:o}=E(this,Xl);let[l,s]=this.getInitialTranslation();[l,s]=this.pageTranslationToScreen(l,s);const[c,f]=this.pageDimensions,[h,d]=this.pageTranslation;let p,g;switch(this.rotation){case 0:p=t+(o[0]-h)/c,g=r+this.height-(o[1]-d)/f;break;case 90:p=t+(o[0]-h)/c,g=r-(o[1]-d)/f,[l,s]=[s,-l];break;case 180:p=t-this.width+(o[0]-h)/c,g=r-(o[1]-d)/f,[l,s]=[-l,-s];break;case 270:p=t+(o[0]-h-this.height*f)/c,g=r+(o[1]-d-this.width*c)/f,[l,s]=[-s,l];break}this.setAt(p*n,g*i,l,s)}else this.setAt(t*n,r*i,this.width*n,this.height*i);Q(this,pr,Kd).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var p,g,m;const r=t.clipboardData||window.clipboardData,{types:a}=r;if(a.length===1&&a[0]==="text/plain")return;t.preventDefault();const n=Q(p=rr,Es,Qm).call(p,r.getData("text")||"").replaceAll(Sd,`
`);if(!n)return;const i=window.getSelection();if(!i.rangeCount)return;this.editorDiv.normalize(),i.deleteFromDocument();const o=i.getRangeAt(0);if(!n.includes(`
`)){o.insertNode(document.createTextNode(n)),this.editorDiv.normalize(),i.collapseToStart();return}const{startContainer:l,startOffset:s}=o,c=[],f=[];if(l.nodeType===Node.TEXT_NODE){const b=l.parentElement;if(f.push(l.nodeValue.slice(s).replaceAll(Sd,"")),b!==this.editorDiv){let y=c;for(const x of this.editorDiv.childNodes){if(x===b){y=f;continue}y.push(Q(g=rr,Es,Gd).call(g,x))}}c.push(l.nodeValue.slice(0,s).replaceAll(Sd,""))}else if(l===this.editorDiv){let b=c,y=0;for(const x of this.editorDiv.childNodes)y++===s&&(b=f),b.push(Q(m=rr,Es,Gd).call(m,x))}J(this,xn,`${c.join(`
`)}${n}${f.join(`
`)}`),Q(this,pr,Kd).call(this);const h=new Range;let d=c.reduce((b,y)=>b+y.length,0);for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const y=b.nodeValue.length;if(d<=y){h.setStart(b,d),h.setEnd(b,d);break}d-=y}i.removeAllRanges(),i.addRange(h)}get contentDiv(){return this.editorDiv}static deserialize(t,r,a){var o;let n=null;if(t instanceof kv){const{data:{defaultAppearanceData:{fontSize:l,fontColor:s},rect:c,rotation:f,id:h},textContent:d,textPosition:p,parent:{page:{pageNumber:g}}}=t;if(!d||d.length===0)return null;n=t={annotationType:Te.FREETEXT,color:Array.from(s),fontSize:l,value:d.join(`
`),position:p,pageIndex:g-1,rect:c.slice(0),rotation:f,id:h,deleted:!1}}const i=super.deserialize(t,r,a);return J(i,Sn,t.fontSize),J(i,Qn,Vt.makeHexColor(...t.color)),J(i,xn,Q(o=rr,Es,Qm).call(o,t.value)),i.annotationElementId=t.id||null,J(i,Xl,n),i}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=rr._internalPadding*this.parentScale,a=this.getRect(r,r),n=Xe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:E(this,Qn)),i={annotationType:Te.FREETEXT,color:n,fontSize:E(this,Sn),value:Q(this,pr,Iv).call(this),pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?i:this.annotationElementId&&!Q(this,pr,Nv).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:a}=r;a.fontSize=`calc(${E(this,Sn)}px * var(--scale-factor))`,a.color=E(this,Qn),r.replaceChildren();for(const i of E(this,xn).split(`
`)){const o=document.createElement("div");o.append(i?document.createTextNode(i):document.createElement("br")),r.append(o)}const n=rr._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(n,n),popupContent:E(this,xn)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};xu=new WeakMap,Su=new WeakMap,Au=new WeakMap,ku=new WeakMap,Eu=new WeakMap,Qn=new WeakMap,xn=new WeakMap,Cu=new WeakMap,Sn=new WeakMap,Xl=new WeakMap,pr=new WeakSet,Rv=function(t){const r=n=>{this.editorDiv.style.fontSize=`calc(${n}px * var(--scale-factor))`,this.translate(0,-(n-E(this,Sn))*this.parentScale),J(this,Sn,n),Q(this,pr,Xd).call(this)},a=E(this,Sn);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Ov=function(t){const r=n=>{J(this,Qn,this.editorDiv.style.color=n)},a=E(this,Qn);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Pv=function(){var r;const t=[];this.editorDiv.normalize();for(const a of this.editorDiv.childNodes)t.push(Q(r=rr,Es,Gd).call(r,a));return t.join(`
`)},Xd=function(){const[t,r]=this.parentDimensions;let a;if(this.isAttachedToDOM)a=this.div.getBoundingClientRect();else{const{currentLayer:n,div:i}=this,o=i.style.display,l=i.classList.contains("hidden");i.classList.remove("hidden"),i.style.display="hidden",n.div.append(this.div),a=i.getBoundingClientRect(),i.remove(),i.style.display=o,i.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=a.width/t,this.height=a.height/r):(this.width=a.height/t,this.height=a.width/r),this.fixAndSetPosition()},Es=new WeakSet,Gd=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Sd,"")},Kd=function(){if(this.editorDiv.replaceChildren(),!!E(this,xn))for(const t of E(this,xn).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},Iv=function(){return E(this,xn).replaceAll(""," ")},Qm=function(t){return t.replaceAll(" ","")},Nv=function(t){const{value:r,fontSize:a,color:n,pageIndex:i}=E(this,Xl);return this._hasBeenMoved||t.value!==r||t.fontSize!==a||t.color.some((o,l)=>o!==n[l])||t.pageIndex!==i},tt(rr,Es),ce(rr,"_freeTextDefaultContent",""),ce(rr,"_internalPadding",0),ce(rr,"_defaultColor",null),ce(rr,"_defaultFontSize",10),ce(rr,"_type","freetext"),ce(rr,"_editorType",Te.FREETEXT);let Jm=rr;var Tu,na,ti,Qr,Lv,Zd,Dv,jv,e0;class t0{constructor(e,t=0,r=0,a=!0){tt(this,Qr);tt(this,Tu);tt(this,na,[]);tt(this,ti,[]);let n=1/0,i=-1/0,o=1/0,l=-1/0;const c=10**-4;for(const{x:b,y,width:x,height:k}of e){const M=Math.floor((b-t)/c)*c,I=Math.ceil((b+x+t)/c)*c,B=Math.floor((y-t)/c)*c,j=Math.ceil((y+k+t)/c)*c,F=[M,B,j,!0],z=[I,B,j,!1];E(this,na).push(F,z),n=Math.min(n,M),i=Math.max(i,I),o=Math.min(o,B),l=Math.max(l,j)}const f=i-n+2*r,h=l-o+2*r,d=n-r,p=o-r,g=E(this,na).at(a?-1:-2),m=[g[0],g[2]];for(const b of E(this,na)){const[y,x,k]=b;b[0]=(y-d)/f,b[1]=(x-p)/h,b[2]=(k-p)/h}J(this,Tu,{x:d,y:p,width:f,height:h,lastPoint:m})}getOutlines(){E(this,na).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of E(this,na))t[3]?(e.push(...Q(this,Qr,e0).call(this,t)),Q(this,Qr,Dv).call(this,t)):(Q(this,Qr,jv).call(this,t),e.push(...Q(this,Qr,e0).call(this,t)));return Q(this,Qr,Lv).call(this,e)}}Tu=new WeakMap,na=new WeakMap,ti=new WeakMap,Qr=new WeakSet,Lv=function(e){const t=[],r=new Set;for(const i of e){const[o,l,s]=i;t.push([o,l,i],[o,s,i])}t.sort((i,o)=>i[1]-o[1]||i[0]-o[0]);for(let i=0,o=t.length;i<o;i+=2){const l=t[i][2],s=t[i+1][2];l.push(s),s.push(l),r.add(l),r.add(s)}const a=[];let n;for(;r.size>0;){const i=r.values().next().value;let[o,l,s,c,f]=i;r.delete(i);let h=o,d=l;for(n=[o,s],a.push(n);;){let p;if(r.has(c))p=c;else if(r.has(f))p=f;else break;r.delete(p),[o,l,s,c,f]=p,h!==o&&(n.push(h,d,o,d===l?l:s),h=o),d=d===l?s:l}n.push(h,d)}return new f8(a,E(this,Tu))},Zd=function(e){const t=E(this,ti);let r=0,a=t.length-1;for(;r<=a;){const n=r+a>>1,i=t[n][0];if(i===e)return n;i<e?r=n+1:a=n-1}return a+1},Dv=function([,e,t]){const r=Q(this,Qr,Zd).call(this,e);E(this,ti).splice(r,0,[e,t])},jv=function([,e,t]){const r=Q(this,Qr,Zd).call(this,e);for(let a=r;a<E(this,ti).length;a++){const[n,i]=E(this,ti)[a];if(n!==e)break;if(n===e&&i===t){E(this,ti).splice(a,1);return}}for(let a=r-1;a>=0;a--){const[n,i]=E(this,ti)[a];if(n!==e)break;if(n===e&&i===t){E(this,ti).splice(a,1);return}}},e0=function(e){const[t,r,a]=e,n=[[t,r,a]],i=Q(this,Qr,Zd).call(this,a);for(let o=0;o<i;o++){const[l,s]=E(this,ti)[o];for(let c=0,f=n.length;c<f;c++){const[,h,d]=n[c];if(!(s<=h||d<=l)){if(h>=l){if(d>s)n[c][1]=s;else{if(f===1)return[];n.splice(c,1),c--,f--}continue}n[c][2]=l,d>s&&n.push([t,s,d])}}}return n};class Fv{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof n0}}var Mu,Gl;class f8 extends Fv{constructor(t,r){super();tt(this,Mu);tt(this,Gl);J(this,Gl,t),J(this,Mu,r)}toSVGPath(){const t=[];for(const r of E(this,Gl)){let[a,n]=r;t.push(`M${a} ${n}`);for(let i=2;i<r.length;i+=2){const o=r[i],l=r[i+1];o===a?(t.push(`V${l}`),n=l):l===n&&(t.push(`H${o}`),a=o)}t.push("Z")}return t.join(" ")}serialize([t,r,a,n],i){const o=[],l=a-t,s=n-r;for(const c of E(this,Gl)){const f=new Array(c.length);for(let h=0;h<c.length;h+=2)f[h]=t+c[h]*l,f[h+1]=n-c[h+1]*s;o.push(f)}return o}get box(){return E(this,Mu)}}Mu=new WeakMap,Gl=new WeakMap;var Ai,fs,Kl,Zl,ki,Ee,yo,vo,Ru,Ou,Yl,Jl,ia,Pu,$f,Vf,Iu,r0;const Ki=class Ki{constructor({x:e,y:t},r,a,n,i,o=0){tt(this,Iu);tt(this,Ai);tt(this,fs,[]);tt(this,Kl);tt(this,Zl);tt(this,ki,[]);tt(this,Ee,new Float64Array(18));tt(this,yo);tt(this,vo);tt(this,Ru);tt(this,Ou);tt(this,Yl);tt(this,Jl);tt(this,ia,[]);J(this,Ai,r),J(this,Jl,n*a),J(this,Zl,i),E(this,Ee).set([NaN,NaN,NaN,NaN,e,t],6),J(this,Kl,o),J(this,Ou,E(Ki,Pu)*a),J(this,Ru,E(Ki,Vf)*a),J(this,Yl,a),E(this,ia).push(e,t)}get free(){return!0}isEmpty(){return isNaN(E(this,Ee)[8])}add({x:e,y:t}){var F;J(this,yo,e),J(this,vo,t);const[r,a,n,i]=E(this,Ai);let[o,l,s,c]=E(this,Ee).subarray(8,12);const f=e-s,h=t-c,d=Math.hypot(f,h);if(d<E(this,Ru))return!1;const p=d-E(this,Ou),g=p/d,m=g*f,b=g*h;let y=o,x=l;o=s,l=c,s+=m,c+=b,(F=E(this,ia))==null||F.push(e,t);const k=-b/p,M=m/p,I=k*E(this,Jl),B=M*E(this,Jl);return E(this,Ee).set(E(this,Ee).subarray(2,8),0),E(this,Ee).set([s+I,c+B],4),E(this,Ee).set(E(this,Ee).subarray(14,18),12),E(this,Ee).set([s-I,c-B],16),isNaN(E(this,Ee)[6])?(E(this,ki).length===0&&(E(this,Ee).set([o+I,l+B],2),E(this,ki).push(NaN,NaN,NaN,NaN,(o+I-r)/n,(l+B-a)/i),E(this,Ee).set([o-I,l-B],14),E(this,fs).push(NaN,NaN,NaN,NaN,(o-I-r)/n,(l-B-a)/i)),E(this,Ee).set([y,x,o,l,s,c],6),!this.isEmpty()):(E(this,Ee).set([y,x,o,l,s,c],6),Math.abs(Math.atan2(x-l,y-o)-Math.atan2(b,m))<Math.PI/2?([o,l,s,c]=E(this,Ee).subarray(2,6),E(this,ki).push(NaN,NaN,NaN,NaN,((o+s)/2-r)/n,((l+c)/2-a)/i),[o,l,y,x]=E(this,Ee).subarray(14,18),E(this,fs).push(NaN,NaN,NaN,NaN,((y+o)/2-r)/n,((x+l)/2-a)/i),!0):([y,x,o,l,s,c]=E(this,Ee).subarray(0,6),E(this,ki).push(((y+5*o)/6-r)/n,((x+5*l)/6-a)/i,((5*o+s)/6-r)/n,((5*l+c)/6-a)/i,((o+s)/2-r)/n,((l+c)/2-a)/i),[s,c,o,l,y,x]=E(this,Ee).subarray(12,18),E(this,fs).push(((y+5*o)/6-r)/n,((x+5*l)/6-a)/i,((5*o+s)/6-r)/n,((5*l+c)/6-a)/i,((o+s)/2-r)/n,((l+c)/2-a)/i),!0))}toSVGPath(){if(this.isEmpty())return"";const e=E(this,ki),t=E(this,fs),r=E(this,Ee).subarray(4,6),a=E(this,Ee).subarray(16,18),[n,i,o,l]=E(this,Ai),[s,c,f,h]=Q(this,Iu,r0).call(this);if(isNaN(E(this,Ee)[6])&&!this.isEmpty())return`M${(E(this,Ee)[2]-n)/o} ${(E(this,Ee)[3]-i)/l} L${(E(this,Ee)[4]-n)/o} ${(E(this,Ee)[5]-i)/l} L${s} ${c} L${f} ${h} L${(E(this,Ee)[16]-n)/o} ${(E(this,Ee)[17]-i)/l} L${(E(this,Ee)[14]-n)/o} ${(E(this,Ee)[15]-i)/l} Z`;const d=[];d.push(`M${e[4]} ${e[5]}`);for(let p=6;p<e.length;p+=6)isNaN(e[p])?d.push(`L${e[p+4]} ${e[p+5]}`):d.push(`C${e[p]} ${e[p+1]} ${e[p+2]} ${e[p+3]} ${e[p+4]} ${e[p+5]}`);d.push(`L${(r[0]-n)/o} ${(r[1]-i)/l} L${s} ${c} L${f} ${h} L${(a[0]-n)/o} ${(a[1]-i)/l}`);for(let p=t.length-6;p>=6;p-=6)isNaN(t[p])?d.push(`L${t[p+4]} ${t[p+5]}`):d.push(`C${t[p]} ${t[p+1]} ${t[p+2]} ${t[p+3]} ${t[p+4]} ${t[p+5]}`);return d.push(`L${t[4]} ${t[5]} Z`),d.join(" ")}getOutlines(){var b;const e=E(this,ki),t=E(this,fs),r=E(this,Ee),a=r.subarray(4,6),n=r.subarray(16,18),[i,o,l,s]=E(this,Ai),c=new Float64Array((((b=E(this,ia))==null?void 0:b.length)??0)+2);for(let y=0,x=c.length-2;y<x;y+=2)c[y]=(E(this,ia)[y]-i)/l,c[y+1]=(E(this,ia)[y+1]-o)/s;c[c.length-2]=(E(this,yo)-i)/l,c[c.length-1]=(E(this,vo)-o)/s;const[f,h,d,p]=Q(this,Iu,r0).call(this);if(isNaN(r[6])&&!this.isEmpty()){const y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(r[2]-i)/l,(r[3]-o)/s,NaN,NaN,NaN,NaN,(r[4]-i)/l,(r[5]-o)/s,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,(r[16]-i)/l,(r[17]-o)/s,NaN,NaN,NaN,NaN,(r[14]-i)/l,(r[15]-o)/s],0),new n0(y,c,E(this,Ai),E(this,Yl),E(this,Kl),E(this,Zl))}const g=new Float64Array(E(this,ki).length+24+E(this,fs).length);let m=e.length;for(let y=0;y<m;y+=2){if(isNaN(e[y])){g[y]=g[y+1]=NaN;continue}g[y]=e[y],g[y+1]=e[y+1]}g.set([NaN,NaN,NaN,NaN,(a[0]-i)/l,(a[1]-o)/s,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,(n[0]-i)/l,(n[1]-o)/s],m),m+=24;for(let y=t.length-6;y>=6;y-=6)for(let x=0;x<6;x+=2){if(isNaN(t[y+x])){g[m]=g[m+1]=NaN,m+=2;continue}g[m]=t[y+x],g[m+1]=t[y+x+1],m+=2}return g.set([NaN,NaN,NaN,NaN,t[4],t[5]],m),new n0(g,c,E(this,Ai),E(this,Yl),E(this,Kl),E(this,Zl))}};Ai=new WeakMap,fs=new WeakMap,Kl=new WeakMap,Zl=new WeakMap,ki=new WeakMap,Ee=new WeakMap,yo=new WeakMap,vo=new WeakMap,Ru=new WeakMap,Ou=new WeakMap,Yl=new WeakMap,Jl=new WeakMap,ia=new WeakMap,Pu=new WeakMap,$f=new WeakMap,Vf=new WeakMap,Iu=new WeakSet,r0=function(){const e=E(this,Ee).subarray(4,6),t=E(this,Ee).subarray(16,18),[r,a,n,i]=E(this,Ai);return[(E(this,yo)+(e[0]-t[0])/2-r)/n,(E(this,vo)+(e[1]-t[1])/2-a)/i,(E(this,yo)+(t[0]-e[0])/2-r)/n,(E(this,vo)+(t[1]-e[1])/2-a)/i]},tt(Ki,Pu,8),tt(Ki,$f,2),tt(Ki,Vf,E(Ki,Pu)+E(Ki,$f));let Af=Ki;var Ql,wo,ps,Nu,An,Lu,ur,cn,jc,Fc,Bv;class n0 extends Fv{constructor(t,r,a,n,i,o){super();tt(this,cn);tt(this,Ql);tt(this,wo,null);tt(this,ps);tt(this,Nu);tt(this,An);tt(this,Lu);tt(this,ur);J(this,ur,t),J(this,An,r),J(this,Ql,a),J(this,Lu,n),J(this,ps,i),J(this,Nu,o),Q(this,cn,Bv).call(this,o);const{x:l,y:s,width:c,height:f}=E(this,wo);for(let h=0,d=t.length;h<d;h+=2)t[h]=(t[h]-l)/c,t[h+1]=(t[h+1]-s)/f;for(let h=0,d=r.length;h<d;h+=2)r[h]=(r[h]-l)/c,r[h+1]=(r[h+1]-s)/f}toSVGPath(){const t=[`M${E(this,ur)[4]} ${E(this,ur)[5]}`];for(let r=6,a=E(this,ur).length;r<a;r+=6){if(isNaN(E(this,ur)[r])){t.push(`L${E(this,ur)[r+4]} ${E(this,ur)[r+5]}`);continue}t.push(`C${E(this,ur)[r]} ${E(this,ur)[r+1]} ${E(this,ur)[r+2]} ${E(this,ur)[r+3]} ${E(this,ur)[r+4]} ${E(this,ur)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,a,n],i){const o=a-t,l=n-r;let s,c;switch(i){case 0:s=Q(this,cn,jc).call(this,E(this,ur),t,n,o,-l),c=Q(this,cn,jc).call(this,E(this,An),t,n,o,-l);break;case 90:s=Q(this,cn,Fc).call(this,E(this,ur),t,r,o,l),c=Q(this,cn,Fc).call(this,E(this,An),t,r,o,l);break;case 180:s=Q(this,cn,jc).call(this,E(this,ur),a,r,-o,l),c=Q(this,cn,jc).call(this,E(this,An),a,r,-o,l);break;case 270:s=Q(this,cn,Fc).call(this,E(this,ur),a,n,-o,-l),c=Q(this,cn,Fc).call(this,E(this,An),a,n,-o,-l);break}return{outline:Array.from(s),points:[Array.from(c)]}}get box(){return E(this,wo)}getNewOutline(t,r){const{x:a,y:n,width:i,height:o}=E(this,wo),[l,s,c,f]=E(this,Ql),h=i*c,d=o*f,p=a*c+l,g=n*f+s,m=new Af({x:E(this,An)[0]*h+p,y:E(this,An)[1]*d+g},E(this,Ql),E(this,Lu),t,E(this,Nu),r??E(this,ps));for(let b=2;b<E(this,An).length;b+=2)m.add({x:E(this,An)[b]*h+p,y:E(this,An)[b+1]*d+g});return m.getOutlines()}}Ql=new WeakMap,wo=new WeakMap,ps=new WeakMap,Nu=new WeakMap,An=new WeakMap,Lu=new WeakMap,ur=new WeakMap,cn=new WeakSet,jc=function(t,r,a,n,i){const o=new Float64Array(t.length);for(let l=0,s=t.length;l<s;l+=2)o[l]=r+t[l]*n,o[l+1]=a+t[l+1]*i;return o},Fc=function(t,r,a,n,i){const o=new Float64Array(t.length);for(let l=0,s=t.length;l<s;l+=2)o[l]=r+t[l+1]*n,o[l+1]=a+t[l]*i;return o},Bv=function(t){const r=E(this,ur);let a=r[4],n=r[5],i=a,o=n,l=a,s=n,c=a,f=n;const h=t?Math.max:Math.min;for(let b=6,y=r.length;b<y;b+=6){if(isNaN(r[b]))i=Math.min(i,r[b+4]),o=Math.min(o,r[b+5]),l=Math.max(l,r[b+4]),s=Math.max(s,r[b+5]),f<r[b+5]?(c=r[b+4],f=r[b+5]):f===r[b+5]&&(c=h(c,r[b+4]));else{const x=Vt.bezierBoundingBox(a,n,...r.slice(b,b+6));i=Math.min(i,x[0]),o=Math.min(o,x[1]),l=Math.max(l,x[2]),s=Math.max(s,x[3]),f<x[3]?(c=x[2],f=x[3]):f===x[3]&&(c=h(c,x[2]))}a=r[b+4],n=r[b+5]}const d=i-E(this,ps),p=o-E(this,ps),g=l-i+2*E(this,ps),m=s-o+2*E(this,ps);J(this,wo,{x:d,y:p,width:g,height:m,lastPoint:[c,f]})};var Du,ju,ei,_o,tc,wr,Fu,ec,Bu,zu,ri,rc,er,i0,s0,zv,Pa,Hv,Bs;const Zi=class Zi{constructor({editor:e=null,uiManager:t=null}){tt(this,er);tt(this,Du,Q(this,er,zv).bind(this));tt(this,ju,Q(this,er,Hv).bind(this));tt(this,ei,null);tt(this,_o,null);tt(this,tc);tt(this,wr,null);tt(this,Fu,!1);tt(this,ec,!1);tt(this,Bu,null);tt(this,zu);tt(this,ri,null);tt(this,rc);var r;e?(J(this,ec,!1),J(this,rc,oe.HIGHLIGHT_COLOR),J(this,Bu,e)):(J(this,ec,!0),J(this,rc,oe.HIGHLIGHT_DEFAULT_COLOR)),J(this,ri,(e==null?void 0:e._uiManager)||t),J(this,zu,E(this,ri)._eventBus),J(this,tc,(e==null?void 0:e.color)||((r=E(this,ri))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Ie(this,"_keyboardManager",new rd([[["Escape","mac+Escape"],Zi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Zi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Zi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Zi.prototype._moveToPrevious],[["Home","mac+Home"],Zi.prototype._moveToBeginning],[["End","mac+End"],Zi.prototype._moveToEnd]]))}renderButton(){const e=J(this,ei,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=E(this,ri)._signal;e.addEventListener("click",Q(this,er,Pa).bind(this),{signal:t}),e.addEventListener("keydown",E(this,Du),{signal:t});const r=J(this,_o,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=E(this,tc),e.append(r),e}renderMainDropdown(){const e=J(this,wr,Q(this,er,i0).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===E(this,ei)){Q(this,er,Pa).call(this,e);return}const t=e.target.getAttribute("data-color");t&&Q(this,er,s0).call(this,t,e)}_moveToNext(e){var t,r;if(!E(this,er,Bs)){Q(this,er,Pa).call(this,e);return}if(e.target===E(this,ei)){(t=E(this,wr).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=E(this,wr))==null?void 0:t.firstChild)||e.target===E(this,ei)){E(this,er,Bs)&&this._hideDropdownFromKeyboard();return}E(this,er,Bs)||Q(this,er,Pa).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!E(this,er,Bs)){Q(this,er,Pa).call(this,e);return}(t=E(this,wr).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!E(this,er,Bs)){Q(this,er,Pa).call(this,e);return}(t=E(this,wr).lastChild)==null||t.focus()}hideDropdown(){var e;(e=E(this,wr))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",E(this,ju))}_hideDropdownFromKeyboard(){var e;if(!E(this,ec)){if(!E(this,er,Bs)){(e=E(this,Bu))==null||e.unselect();return}this.hideDropdown(),E(this,ei).focus({preventScroll:!0,focusVisible:E(this,Fu)})}}updateColor(e){if(E(this,_o)&&(E(this,_o).style.backgroundColor=e),!E(this,wr))return;const t=E(this,ri).highlightColors.values();for(const r of E(this,wr).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=E(this,ei))==null||e.remove(),J(this,ei,null),J(this,_o,null),(t=E(this,wr))==null||t.remove(),J(this,wr,null)}};Du=new WeakMap,ju=new WeakMap,ei=new WeakMap,_o=new WeakMap,tc=new WeakMap,wr=new WeakMap,Fu=new WeakMap,ec=new WeakMap,Bu=new WeakMap,zu=new WeakMap,ri=new WeakMap,rc=new WeakMap,er=new WeakSet,i0=function(){const e=document.createElement("div"),t=E(this,ri)._signal;e.addEventListener("contextmenu",un,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,a]of E(this,ri).highlightColors){const n=document.createElement("button");n.tabIndex="0",n.role="option",n.setAttribute("data-color",a),n.title=r,n.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${r}`);const i=document.createElement("span");n.append(i),i.className="swatch",i.style.backgroundColor=a,n.setAttribute("aria-selected",a===E(this,tc)),n.addEventListener("click",Q(this,er,s0).bind(this,a),{signal:t}),e.append(n)}return e.addEventListener("keydown",E(this,Du),{signal:t}),e},s0=function(e,t){t.stopPropagation(),E(this,zu).dispatch("switchannotationeditorparams",{source:this,type:E(this,rc),value:e})},zv=function(e){Zi._keyboardManager.exec(this,e)},Pa=function(e){if(E(this,er,Bs)){this.hideDropdown();return}if(J(this,Fu,e.detail===0),window.addEventListener("pointerdown",E(this,ju),{signal:E(this,ri)._signal}),E(this,wr)){E(this,wr).classList.remove("hidden");return}const t=J(this,wr,Q(this,er,i0).call(this));E(this,ei).append(t)},Hv=function(e){var t;(t=E(this,wr))!=null&&t.contains(e.target)||this.hideDropdown()},Bs=function(){return E(this,wr)&&!E(this,wr).classList.contains("hidden")};let kf=Zi;var nc,Hu,sa,xo,ic,Pn,Uu,$u,So,ni,Gr,kn,Wf,sc,Ao,_r,ac,Ei,Vu,xe,a0,o0,Uv,$v,Vv,l0,Bc,Dn,al,Wv,Yd,zc,qv,Xv,Gv,Kv;const Fe=class Fe extends Xe{constructor(t){super({...t,name:"highlightEditor"});tt(this,xe);tt(this,nc,null);tt(this,Hu,0);tt(this,sa);tt(this,xo,null);tt(this,ic,null);tt(this,Pn,null);tt(this,Uu,null);tt(this,$u,0);tt(this,So,null);tt(this,ni,null);tt(this,Gr,null);tt(this,kn,!1);tt(this,Wf,Q(this,xe,Wv).bind(this));tt(this,sc,null);tt(this,Ao);tt(this,_r,null);tt(this,ac,"");tt(this,Ei);tt(this,Vu,"");this.color=t.color||Fe._defaultColor,J(this,Ei,t.thickness||Fe._defaultThickness),J(this,Ao,t.opacity||Fe._defaultOpacity),J(this,sa,t.boxes||null),J(this,Vu,t.methodOfCreation||""),J(this,ac,t.text||""),this._isDraggable=!1,t.highlightId>-1?(J(this,kn,!0),Q(this,xe,o0).call(this,t),Q(this,xe,Bc).call(this)):(J(this,nc,t.anchorNode),J(this,Hu,t.anchorOffset),J(this,Uu,t.focusNode),J(this,$u,t.focusOffset),Q(this,xe,a0).call(this),Q(this,xe,Bc).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Fe.prototype;return Ie(this,"_keyboardManager",new rd([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:E(this,kn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:E(this,Ei),methodOfCreation:E(this,Vu)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var a;Xe.initialize(t,r),Fe._defaultColor||(Fe._defaultColor=((a=r.highlightColors)==null?void 0:a.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case oe.HIGHLIGHT_DEFAULT_COLOR:Fe._defaultColor=r;break;case oe.HIGHLIGHT_THICKNESS:Fe._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return E(this,sc)}updateParams(t,r){switch(t){case oe.HIGHLIGHT_COLOR:Q(this,xe,Uv).call(this,r);break;case oe.HIGHLIGHT_THICKNESS:Q(this,xe,$v).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[oe.HIGHLIGHT_DEFAULT_COLOR,Fe._defaultColor],[oe.HIGHLIGHT_THICKNESS,Fe._defaultThickness]]}get propertiesToUpdate(){return[[oe.HIGHLIGHT_COLOR,this.color||Fe._defaultColor],[oe.HIGHLIGHT_THICKNESS,E(this,Ei)||Fe._defaultThickness],[oe.HIGHLIGHT_FREE,E(this,kn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(J(this,ic,new kf({editor:this})),t.addColorPicker(E(this,ic))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Q(this,xe,zc).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,Q(this,xe,zc).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){Q(this,xe,l0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Q(this,xe,Bc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var a;let r=!1;this.parent&&!t?Q(this,xe,l0).call(this):t&&(Q(this,xe,Bc).call(this,t),r=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var n,i,o;const{drawLayer:r}=this.parent;let a;E(this,kn)?(t=(t-this.rotation+360)%360,a=Q(n=Fe,Dn,al).call(n,E(this,ni).box,t)):a=Q(i=Fe,Dn,al).call(i,this,t),r.rotate(E(this,Gr),t),r.rotate(E(this,_r),t),r.updateBox(E(this,Gr),a),r.updateBox(E(this,_r),Q(o=Fe,Dn,al).call(o,E(this,Pn).box,t))}render(){if(this.div)return this.div;const t=super.render();E(this,ac)&&(t.setAttribute("aria-label",E(this,ac)),t.setAttribute("role","mark")),E(this,kn)?t.classList.add("free"):this.div.addEventListener("keydown",E(this,Wf),{signal:this._uiManager._signal});const r=J(this,So,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=E(this,xo);const[a,n]=this.parentDimensions;return this.setDims(this.width*a,this.height*n),_f(this,E(this,So),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(E(this,_r),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(E(this,_r),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:Q(this,xe,Yd).call(this,!0);break;case 1:case 3:Q(this,xe,Yd).call(this,!1);break}}select(){var t,r;super.select(),E(this,_r)&&((t=this.parent)==null||t.drawLayer.removeClass(E(this,_r),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(E(this,_r),"selected"))}unselect(){var t;super.unselect(),E(this,_r)&&((t=this.parent)==null||t.drawLayer.removeClass(E(this,_r),"selected"),E(this,kn)||Q(this,xe,Yd).call(this,!1))}get _mustFixPosition(){return!E(this,kn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(E(this,Gr),t),this.parent.drawLayer.show(E(this,_r),t))}static startHighlighting(t,r,{target:a,x:n,y:i}){const{x:o,y:l,width:s,height:c}=a.getBoundingClientRect(),f=m=>{Q(this,Dn,Gv).call(this,t,m)},h=t._signal,d={capture:!0,passive:!1,signal:h},p=m=>{m.preventDefault(),m.stopPropagation()},g=m=>{a.removeEventListener("pointermove",f),window.removeEventListener("blur",g),window.removeEventListener("pointerup",g),window.removeEventListener("pointerdown",p,d),window.removeEventListener("contextmenu",un),Q(this,Dn,Kv).call(this,t,m)};window.addEventListener("blur",g,{signal:h}),window.addEventListener("pointerup",g,{signal:h}),window.addEventListener("pointerdown",p,d),window.addEventListener("contextmenu",un,{signal:h}),a.addEventListener("pointermove",f,{signal:h}),this._freeHighlight=new Af({x:n,y:i},[o,l,s,c],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,r,a){var g;const n=super.deserialize(t,r,a),{rect:[i,o,l,s],color:c,quadPoints:f}=t;n.color=Vt.makeHexColor(...c),J(n,Ao,t.opacity);const[h,d]=n.pageDimensions;n.width=(l-i)/h,n.height=(s-o)/d;const p=J(n,sa,[]);for(let m=0;m<f.length;m+=8)p.push({x:(f[4]-l)/h,y:(s-(1-f[m+5]))/d,width:(f[m+2]-f[m])/h,height:(f[m+5]-f[m+1])/d});return Q(g=n,xe,a0).call(g),n}serialize(t=!1){if(this.isEmpty()||t)return null;const r=this.getRect(0,0),a=Xe._colorManager.convert(this.color);return{annotationType:Te.HIGHLIGHT,color:a,opacity:E(this,Ao),thickness:E(this,Ei),quadPoints:Q(this,xe,qv).call(this),outlines:Q(this,xe,Xv).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:Q(this,xe,zc).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};nc=new WeakMap,Hu=new WeakMap,sa=new WeakMap,xo=new WeakMap,ic=new WeakMap,Pn=new WeakMap,Uu=new WeakMap,$u=new WeakMap,So=new WeakMap,ni=new WeakMap,Gr=new WeakMap,kn=new WeakMap,Wf=new WeakMap,sc=new WeakMap,Ao=new WeakMap,_r=new WeakMap,ac=new WeakMap,Ei=new WeakMap,Vu=new WeakMap,xe=new WeakSet,a0=function(){const t=new t0(E(this,sa),.001);J(this,ni,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=E(this,ni).box;const r=new t0(E(this,sa),.0025,.001,this._uiManager.direction==="ltr");J(this,Pn,r.getOutlines());const{lastPoint:a}=E(this,Pn).box;J(this,sc,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},o0=function({highlightOutlines:t,highlightId:r,clipPathId:a}){var f,h;if(J(this,ni,t),J(this,Pn,t.getNewOutline(E(this,Ei)/2+1.5,.0025)),r>=0)J(this,Gr,r),J(this,xo,a),this.parent.drawLayer.finalizeLine(r,t),J(this,_r,this.parent.drawLayer.highlightOutline(E(this,Pn)));else if(this.parent){const d=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(E(this,Gr),t),this.parent.drawLayer.updateBox(E(this,Gr),Q(f=Fe,Dn,al).call(f,E(this,ni).box,(d-this.rotation+360)%360)),this.parent.drawLayer.updateLine(E(this,_r),E(this,Pn)),this.parent.drawLayer.updateBox(E(this,_r),Q(h=Fe,Dn,al).call(h,E(this,Pn).box,d))}const{x:i,y:o,width:l,height:s}=t.box;switch(this.rotation){case 0:this.x=i,this.y=o,this.width=l,this.height=s;break;case 90:{const[d,p]=this.parentDimensions;this.x=o,this.y=1-i,this.width=l*p/d,this.height=s*d/p;break}case 180:this.x=1-i,this.y=1-o,this.width=l,this.height=s;break;case 270:{const[d,p]=this.parentDimensions;this.x=1-o,this.y=i,this.width=l*p/d,this.height=s*d/p;break}}const{lastPoint:c}=E(this,Pn).box;J(this,sc,[(c[0]-i)/l,(c[1]-o)/s])},Uv=function(t){const r=n=>{var i,o;this.color=n,(i=this.parent)==null||i.drawLayer.changeColor(E(this,Gr),n),(o=E(this,ic))==null||o.updateColor(n)},a=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},$v=function(t){const r=E(this,Ei),a=n=>{J(this,Ei,n),Q(this,xe,Vv).call(this,n)};this.addCommands({cmd:a.bind(this,t),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},Vv=function(t){if(!E(this,kn))return;Q(this,xe,o0).call(this,{highlightOutlines:E(this,ni).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,a]=this.parentDimensions;this.setDims(this.width*r,this.height*a)},l0=function(){E(this,Gr)===null||!this.parent||(this.parent.drawLayer.remove(E(this,Gr)),J(this,Gr,null),this.parent.drawLayer.remove(E(this,_r)),J(this,_r,null))},Bc=function(t=this.parent){E(this,Gr)===null&&({id:mn(this,Gr)._,clipPathId:mn(this,xo)._}=t.drawLayer.highlight(E(this,ni),this.color,E(this,Ao)),J(this,_r,t.drawLayer.highlightOutline(E(this,Pn))),E(this,So)&&(E(this,So).style.clipPath=E(this,xo)))},Dn=new WeakSet,al=function({x:t,y:r,width:a,height:n},i){switch(i){case 90:return{x:1-r-n,y:t,width:n,height:a};case 180:return{x:1-t-a,y:1-r-n,width:a,height:n};case 270:return{x:r,y:1-t-a,width:n,height:a}}return{x:t,y:r,width:a,height:n}},Wv=function(t){Fe._keyboardManager.exec(this,t)},Yd=function(t){if(!E(this,nc))return;const r=window.getSelection();t?r.setPosition(E(this,nc),E(this,Hu)):r.setPosition(E(this,Uu),E(this,$u))},zc=function(){return E(this,kn)?this.rotation:0},qv=function(){if(E(this,kn))return null;const[t,r]=this.pageDimensions,a=E(this,sa),n=new Float32Array(a.length*8);let i=0;for(const{x:o,y:l,width:s,height:c}of a){const f=o*t,h=(1-l-c)*r;n[i]=n[i+4]=f,n[i+1]=n[i+3]=h,n[i+2]=n[i+6]=f+s*t,n[i+5]=n[i+7]=h+c*r,i+=8}return n},Xv=function(t){return E(this,ni).serialize(t,Q(this,xe,zc).call(this))},Gv=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Kv=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},tt(Fe,Dn),ce(Fe,"_defaultColor",null),ce(Fe,"_defaultOpacity",1),ce(Fe,"_defaultThickness",12),ce(Fe,"_l10nPromise"),ce(Fe,"_type","highlight"),ce(Fe,"_editorType",Te.HIGHLIGHT),ce(Fe,"_freeHighlightId",-1),ce(Fe,"_freeHighlight",null),ce(Fe,"_freeHighlightClipId","");let Ef=Fe;var ko,Eo,Wu,qu,Xu,Co,Ci,ms,In,To,Mo,gs,Ro,Oo,aa,jt,Zv,Yv,Jv,Qv,h0,t2,u0,e2,r2,n2,i2,s2,Ia,d0,Jd,Qd,ol,f0,tf,Ms,a2,p0,o2,l2,m0,ef,Hc;const sr=class sr extends Xe{constructor(t){super({...t,name:"inkEditor"});tt(this,jt);tt(this,ko,0);tt(this,Eo,0);tt(this,Wu,this.canvasPointermove.bind(this));tt(this,qu,this.canvasPointerleave.bind(this));tt(this,Xu,this.canvasPointerup.bind(this));tt(this,Co,this.canvasPointerdown.bind(this));tt(this,Ci,null);tt(this,ms,new Path2D);tt(this,In,!1);tt(this,To,!1);tt(this,Mo,!1);tt(this,gs,null);tt(this,Ro,0);tt(this,Oo,0);tt(this,aa,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){Xe.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case oe.INK_THICKNESS:sr._defaultThickness=r;break;case oe.INK_COLOR:sr._defaultColor=r;break;case oe.INK_OPACITY:sr._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case oe.INK_THICKNESS:Q(this,jt,Zv).call(this,r);break;case oe.INK_COLOR:Q(this,jt,Yv).call(this,r);break;case oe.INK_OPACITY:Q(this,jt,Jv).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[oe.INK_THICKNESS,sr._defaultThickness],[oe.INK_COLOR,sr._defaultColor||Xe._defaultLineColor],[oe.INK_OPACITY,Math.round(sr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[oe.INK_THICKNESS,this.thickness||sr._defaultThickness],[oe.INK_COLOR,this.color||sr._defaultColor||Xe._defaultLineColor],[oe.INK_OPACITY,Math.round(100*(this.opacity??sr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Q(this,jt,Jd).call(this),Q(this,jt,Qd).call(this)),this.isAttachedToDOM||(this.parent.add(this),Q(this,jt,ol).call(this)),Q(this,jt,Hc).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,E(this,Ci)&&(clearTimeout(E(this,Ci)),J(this,Ci,null)),(t=E(this,gs))==null||t.disconnect(),J(this,gs,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,a=this.width*t,n=this.height*r;this.setDimensions(a,n)}enableEditMode(){E(this,In)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",E(this,Co),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",E(this,Co)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){E(this,In)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),J(this,In,!0),this.div.classList.add("disabled"),Q(this,jt,Hc).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||E(this,In)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),Q(this,jt,t2).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),Q(this,jt,u0).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),Q(this,jt,d0).call(this,t)}canvasPointerleave(t){Q(this,jt,d0).call(this,t)}get isResizable(){return!this.isEmpty()&&E(this,In)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[a,n,i,o]=Q(this,jt,Qv).call(this);if(this.setAt(a,n,0,0),this.setDims(i,o),Q(this,jt,Jd).call(this),this.width){const[l,s]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*s),this.setAt(t*l,r*s,this.width*l,this.height*s),J(this,Mo,!0),Q(this,jt,ol).call(this),this.setDims(this.width*l,this.height*s),Q(this,jt,Ia).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Q(this,jt,Qd).call(this),this.div}setDimensions(t,r){const a=Math.round(t),n=Math.round(r);if(E(this,Ro)===a&&E(this,Oo)===n)return;J(this,Ro,a),J(this,Oo,n),this.canvas.style.visibility="hidden";const[i,o]=this.parentDimensions;this.width=t/i,this.height=r/o,this.fixAndSetPosition(),E(this,In)&&Q(this,jt,f0).call(this,t,r),Q(this,jt,ol).call(this),Q(this,jt,Ia).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,r,a){var m,b,y;if(t instanceof Cv)return null;const n=super.deserialize(t,r,a);n.thickness=t.thickness,n.color=Vt.makeHexColor(...t.color),n.opacity=t.opacity;const[i,o]=n.pageDimensions,l=n.width*i,s=n.height*o,c=n.parentScale,f=t.thickness/2;J(n,In,!0),J(n,Ro,Math.round(l)),J(n,Oo,Math.round(s));const{paths:h,rect:d,rotation:p}=t;for(let{bezier:x}of h){x=Q(m=sr,Ms,o2).call(m,x,d,p);const k=[];n.paths.push(k);let M=c*(x[0]-f),I=c*(x[1]-f);for(let j=2,F=x.length;j<F;j+=6){const z=c*(x[j]-f),$=c*(x[j+1]-f),H=c*(x[j+2]-f),C=c*(x[j+3]-f),O=c*(x[j+4]-f),A=c*(x[j+5]-f);k.push([[M,I],[z,$],[H,C],[O,A]]),M=O,I=A}const B=Q(this,Ms,a2).call(this,k);n.bezierPath2D.push(B)}const g=Q(b=n,jt,m0).call(b);return J(n,Eo,Math.max(Xe.MIN_SIZE,g[2]-g[0])),J(n,ko,Math.max(Xe.MIN_SIZE,g[3]-g[1])),Q(y=n,jt,f0).call(y,l,s),n}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=Xe._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Te.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:Q(this,jt,l2).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ko=new WeakMap,Eo=new WeakMap,Wu=new WeakMap,qu=new WeakMap,Xu=new WeakMap,Co=new WeakMap,Ci=new WeakMap,ms=new WeakMap,In=new WeakMap,To=new WeakMap,Mo=new WeakMap,gs=new WeakMap,Ro=new WeakMap,Oo=new WeakMap,aa=new WeakMap,jt=new WeakSet,Zv=function(t){const r=n=>{this.thickness=n,Q(this,jt,Hc).call(this)},a=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Yv=function(t){const r=n=>{this.color=n,Q(this,jt,Ia).call(this)},a=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Jv=function(t){const r=n=>{this.opacity=n,Q(this,jt,Ia).call(this)};t/=100;const a=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Qv=function(){const{parentRotation:t,parentDimensions:[r,a]}=this;switch(t){case 90:return[0,a,a,r];case 180:return[r,a,r,a];case 270:return[r,0,a,r];default:return[0,0,r,a]}},h0=function(){const{ctx:t,color:r,opacity:a,thickness:n,parentScale:i,scaleFactor:o}=this;t.lineWidth=n*i/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${jx(a)}`},t2=function(t,r){const a=this._uiManager._signal;this.canvas.addEventListener("contextmenu",un,{signal:a}),this.canvas.addEventListener("pointerleave",E(this,qu),{signal:a}),this.canvas.addEventListener("pointermove",E(this,Wu),{signal:a}),this.canvas.addEventListener("pointerup",E(this,Xu),{signal:a}),this.canvas.removeEventListener("pointerdown",E(this,Co)),this.isEditing=!0,E(this,Mo)||(J(this,Mo,!0),Q(this,jt,ol).call(this),this.thickness||(this.thickness=sr._defaultThickness),this.color||(this.color=sr._defaultColor||Xe._defaultLineColor),this.opacity??(this.opacity=sr._defaultOpacity)),this.currentPath.push([t,r]),J(this,To,!1),Q(this,jt,h0).call(this),J(this,aa,()=>{Q(this,jt,n2).call(this),E(this,aa)&&window.requestAnimationFrame(E(this,aa))}),window.requestAnimationFrame(E(this,aa))},u0=function(t,r){const[a,n]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===a&&r===n)return;const i=this.currentPath;let o=E(this,ms);if(i.push([t,r]),J(this,To,!0),i.length<=2){o.moveTo(...i[0]),o.lineTo(t,r);return}i.length===3&&(J(this,ms,o=new Path2D),o.moveTo(...i[0])),Q(this,jt,i2).call(this,o,...i.at(-3),...i.at(-2),t,r)},e2=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);E(this,ms).lineTo(...t)},r2=function(t,r){J(this,aa,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),Q(this,jt,u0).call(this,t,r),Q(this,jt,e2).call(this);let a;if(this.currentPath.length!==1)a=Q(this,jt,s2).call(this);else{const s=[t,r];a=[[s,s.slice(),s.slice(),s]]}const n=E(this,ms),i=this.currentPath;this.currentPath=[],J(this,ms,new Path2D);const o=()=>{this.allRawPaths.push(i),this.paths.push(a),this.bezierPath2D.push(n),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Q(this,jt,Jd).call(this),Q(this,jt,Qd).call(this)),Q(this,jt,Hc).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},n2=function(){if(!E(this,To))return;J(this,To,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),a=r.map(o=>o[0]),n=r.map(o=>o[1]);Math.min(...a)-t,Math.max(...a)+t,Math.min(...n)-t,Math.max(...n)+t;const{ctx:i}=this;i.save(),i.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)i.stroke(o);i.stroke(E(this,ms)),i.restore()},i2=function(t,r,a,n,i,o,l){const s=(r+n)/2,c=(a+i)/2,f=(n+o)/2,h=(i+l)/2;t.bezierCurveTo(s+2*(n-s)/3,c+2*(i-c)/3,f+2*(n-f)/3,h+2*(i-h)/3,f,h)},s2=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let a,[n,i]=t[0];for(a=1;a<t.length-2;a++){const[d,p]=t[a],[g,m]=t[a+1],b=(d+g)/2,y=(p+m)/2,x=[n+2*(d-n)/3,i+2*(p-i)/3],k=[b+2*(d-b)/3,y+2*(p-y)/3];r.push([[n,i],x,k,[b,y]]),[n,i]=[b,y]}const[o,l]=t[a],[s,c]=t[a+1],f=[n+2*(o-n)/3,i+2*(l-i)/3],h=[s+2*(o-s)/3,c+2*(l-c)/3];return r.push([[n,i],f,h,[s,c]]),r},Ia=function(){if(this.isEmpty()){Q(this,jt,tf).call(this);return}Q(this,jt,h0).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),Q(this,jt,tf).call(this);for(const a of this.bezierPath2D)r.stroke(a)},d0=function(t){this.canvas.removeEventListener("pointerleave",E(this,qu)),this.canvas.removeEventListener("pointermove",E(this,Wu)),this.canvas.removeEventListener("pointerup",E(this,Xu)),this.canvas.addEventListener("pointerdown",E(this,Co),{signal:this._uiManager._signal}),E(this,Ci)&&clearTimeout(E(this,Ci)),J(this,Ci,setTimeout(()=>{J(this,Ci,null),this.canvas.removeEventListener("contextmenu",un)},10)),Q(this,jt,r2).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Jd=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Qd=function(){J(this,gs,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),E(this,gs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=E(this,gs))==null||t.disconnect(),J(this,gs,null)},{once:!0})},ol=function(){if(!E(this,Mo))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),Q(this,jt,tf).call(this)},f0=function(t,r){const a=Q(this,jt,ef).call(this),n=(t-a)/E(this,Eo),i=(r-a)/E(this,ko);this.scaleFactor=Math.min(n,i)},tf=function(){const t=Q(this,jt,ef).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Ms=new WeakSet,a2=function(t){const r=new Path2D;for(let a=0,n=t.length;a<n;a++){const[i,o,l,s]=t[a];a===0&&r.moveTo(...i),r.bezierCurveTo(o[0],o[1],l[0],l[1],s[0],s[1])}return r},p0=function(t,r,a){const[n,i,o,l]=r;switch(a){case 0:for(let s=0,c=t.length;s<c;s+=2)t[s]+=n,t[s+1]=l-t[s+1];break;case 90:for(let s=0,c=t.length;s<c;s+=2){const f=t[s];t[s]=t[s+1]+n,t[s+1]=f+i}break;case 180:for(let s=0,c=t.length;s<c;s+=2)t[s]=o-t[s],t[s+1]+=i;break;case 270:for(let s=0,c=t.length;s<c;s+=2){const f=t[s];t[s]=o-t[s+1],t[s+1]=l-f}break;default:throw new Error("Invalid rotation")}return t},o2=function(t,r,a){const[n,i,o,l]=r;switch(a){case 0:for(let s=0,c=t.length;s<c;s+=2)t[s]-=n,t[s+1]=l-t[s+1];break;case 90:for(let s=0,c=t.length;s<c;s+=2){const f=t[s];t[s]=t[s+1]-i,t[s+1]=f-n}break;case 180:for(let s=0,c=t.length;s<c;s+=2)t[s]=o-t[s],t[s+1]-=i;break;case 270:for(let s=0,c=t.length;s<c;s+=2){const f=t[s];t[s]=l-t[s+1],t[s+1]=o-f}break;default:throw new Error("Invalid rotation")}return t},l2=function(t,r,a,n){var c,f;const i=[],o=this.thickness/2,l=t*r+o,s=t*a+o;for(const h of this.paths){const d=[],p=[];for(let g=0,m=h.length;g<m;g++){const[b,y,x,k]=h[g];if(b[0]===k[0]&&b[1]===k[1]&&m===1){const C=t*b[0]+l,O=t*b[1]+s;d.push(C,O),p.push(C,O);break}const M=t*b[0]+l,I=t*b[1]+s,B=t*y[0]+l,j=t*y[1]+s,F=t*x[0]+l,z=t*x[1]+s,$=t*k[0]+l,H=t*k[1]+s;g===0&&(d.push(M,I),p.push(M,I)),d.push(B,j,F,z,$,H),p.push(B,j),g===m-1&&p.push($,H)}i.push({bezier:Q(c=sr,Ms,p0).call(c,d,n,this.rotation),points:Q(f=sr,Ms,p0).call(f,p,n,this.rotation)})}return i},m0=function(){let t=1/0,r=-1/0,a=1/0,n=-1/0;for(const i of this.paths)for(const[o,l,s,c]of i){const f=Vt.bezierBoundingBox(...o,...l,...s,...c);t=Math.min(t,f[0]),a=Math.min(a,f[1]),r=Math.max(r,f[2]),n=Math.max(n,f[3])}return[t,a,r,n]},ef=function(){return E(this,In)?Math.ceil(this.thickness*this.parentScale):0},Hc=function(t=!1){if(this.isEmpty())return;if(!E(this,In)){Q(this,jt,Ia).call(this);return}const r=Q(this,jt,m0).call(this),a=Q(this,jt,ef).call(this);J(this,Eo,Math.max(Xe.MIN_SIZE,r[2]-r[0])),J(this,ko,Math.max(Xe.MIN_SIZE,r[3]-r[1]));const n=Math.ceil(a+E(this,Eo)*this.scaleFactor),i=Math.ceil(a+E(this,ko)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=n/o,this.height=i/l,this.setAspectRatio(n,i);const s=this.translationX,c=this.translationY;this.translationX=-r[0],this.translationY=-r[1],Q(this,jt,ol).call(this),Q(this,jt,Ia).call(this),J(this,Ro,n),J(this,Oo,i),this.setDims(n,i);const f=t?a/this.scaleFactor/2:0;this.translate(s-this.translationX-f,c-this.translationY-f)},tt(sr,Ms),ce(sr,"_defaultColor",null),ce(sr,"_defaultOpacity",1),ce(sr,"_defaultThickness",1),ce(sr,"_type","ink"),ce(sr,"_editorType",Te.INK);let c0=sr;var Ir,Nr,oa,bs,la,oc,Ti,ys,Mi,ii,Gu,De,Uc,$c,rf,b0,c2,h2,y0,nf,u2;const Yc=class Yc extends Xe{constructor(t){super({...t,name:"stampEditor"});tt(this,De);tt(this,Ir,null);tt(this,Nr,null);tt(this,oa,null);tt(this,bs,null);tt(this,la,null);tt(this,oc,"");tt(this,Ti,null);tt(this,ys,null);tt(this,Mi,null);tt(this,ii,!1);tt(this,Gu,!1);J(this,bs,t.bitmapUrl),J(this,la,t.bitmapFile)}static initialize(t,r){Xe.initialize(t,r)}static get supportedTypes(){return Ie(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Ie(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(Te.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,r;E(this,Nr)&&(J(this,Ir,null),this._uiManager.imageManager.deleteId(E(this,Nr)),(t=E(this,Ti))==null||t.remove(),J(this,Ti,null),(r=E(this,ys))==null||r.disconnect(),J(this,ys,null),E(this,Mi)&&(clearTimeout(E(this,Mi)),J(this,Mi,null))),super.remove()}rebuild(){if(!this.parent){E(this,Nr)&&Q(this,De,rf).call(this);return}super.rebuild(),this.div!==null&&(E(this,Nr)&&E(this,Ti)===null&&Q(this,De,rf).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(E(this,oa)||E(this,Ir)||E(this,bs)||E(this,la)||E(this,Nr))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),E(this,Ir)?Q(this,De,b0).call(this):Q(this,De,rf).call(this),this.width){const[a,n]=this.parentDimensions;this.setAt(t*a,r*n,this.width*a,this.height*n)}return this.div}getImageForAltText(){return E(this,Ti)}static deserialize(t,r,a){if(t instanceof Tv)return null;const n=super.deserialize(t,r,a),{rect:i,bitmapUrl:o,bitmapId:l,isSvg:s,accessibilityData:c}=t;l&&a.imageManager.isValidId(l)?J(n,Nr,l):J(n,bs,o),J(n,ii,s);const[f,h]=n.pageDimensions;return n.width=(i[2]-i[0])/f,n.height=(i[3]-i[1])/h,c&&(n.altTextData=c),n}serialize(t=!1,r=null){if(this.isEmpty())return null;const a={annotationType:Te.STAMP,bitmapId:E(this,Nr),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:E(this,ii),structTreeParentId:this._structTreeParentId};if(t)return a.bitmapUrl=Q(this,De,nf).call(this,!0),a.accessibilityData=this.altTextData,a;const{decorative:n,altText:i}=this.altTextData;if(!n&&i&&(a.accessibilityData={type:"Figure",alt:i}),r===null)return a;r.stamps||(r.stamps=new Map);const o=E(this,ii)?(a.rect[2]-a.rect[0])*(a.rect[3]-a.rect[1]):null;if(!r.stamps.has(E(this,Nr)))r.stamps.set(E(this,Nr),{area:o,serialized:a}),a.bitmap=Q(this,De,nf).call(this,!1);else if(E(this,ii)){const l=r.stamps.get(E(this,Nr));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=Q(this,De,nf).call(this,!1))}return a}};Ir=new WeakMap,Nr=new WeakMap,oa=new WeakMap,bs=new WeakMap,la=new WeakMap,oc=new WeakMap,Ti=new WeakMap,ys=new WeakMap,Mi=new WeakMap,ii=new WeakMap,Gu=new WeakMap,De=new WeakSet,Uc=function(t,r=!1){if(!t){this.remove();return}J(this,Ir,t.bitmap),r||(J(this,Nr,t.id),J(this,ii,t.isSvg)),t.file&&J(this,oc,t.file.name),Q(this,De,b0).call(this)},$c=function(){J(this,oa,null),this._uiManager.enableWaiting(!1),E(this,Ti)&&this.div.focus()},rf=function(){if(E(this,Nr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(E(this,Nr)).then(a=>Q(this,De,Uc).call(this,a,!0)).finally(()=>Q(this,De,$c).call(this));return}if(E(this,bs)){const a=E(this,bs);J(this,bs,null),this._uiManager.enableWaiting(!0),J(this,oa,this._uiManager.imageManager.getFromUrl(a).then(n=>Q(this,De,Uc).call(this,n)).finally(()=>Q(this,De,$c).call(this)));return}if(E(this,la)){const a=E(this,la);J(this,la,null),this._uiManager.enableWaiting(!0),J(this,oa,this._uiManager.imageManager.getFromFile(a).then(n=>Q(this,De,Uc).call(this,n)).finally(()=>Q(this,De,$c).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Yc.supportedTypesStr;const r=this._uiManager._signal;J(this,oa,new Promise(a=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const n=await this._uiManager.imageManager.getFromFile(t.files[0]);Q(this,De,Uc).call(this,n)}a()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),a()},{signal:r})}).finally(()=>Q(this,De,$c).call(this))),t.click()},b0=function(){const{div:t}=this;let{width:r,height:a}=E(this,Ir);const[n,i]=this.pageDimensions,o=.75;if(this.width)r=this.width*n,a=this.height*i;else if(r>o*n||a>o*i){const f=Math.min(o*n/r,o*i/a);r*=f,a*=f}const[l,s]=this.parentDimensions;this.setDims(r*l/n,a*s/i),this._uiManager.enableWaiting(!1);const c=J(this,Ti,document.createElement("canvas"));t.append(c),t.hidden=!1,Q(this,De,y0).call(this,r,a),Q(this,De,u2).call(this),E(this,Gu)||(this.parent.addUndoableEditor(this),J(this,Gu,!0)),this._reportTelemetry({action:"inserted_image"}),E(this,oc)&&c.setAttribute("aria-label",E(this,oc))},c2=function(t,r){var o;const[a,n]=this.parentDimensions;this.width=t/a,this.height=r/n,this.setDims(t,r),(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,E(this,Mi)!==null&&clearTimeout(E(this,Mi)),J(this,Mi,setTimeout(()=>{J(this,Mi,null),Q(this,De,y0).call(this,t,r)},200))},h2=function(t,r){const{width:a,height:n}=E(this,Ir);let i=a,o=n,l=E(this,Ir);for(;i>2*t||o>2*r;){const s=i,c=o;i>2*t&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(i,o);f.getContext("2d").drawImage(l,0,0,s,c,0,0,i,o),l=f.transferToImageBitmap()}return l},y0=function(t,r){t=Math.ceil(t),r=Math.ceil(r);const a=E(this,Ti);if(!a||a.width===t&&a.height===r)return;a.width=t,a.height=r;const n=E(this,ii)?E(this,Ir):Q(this,De,h2).call(this,t,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,r).getContext("2d");l.drawImage(n,0,0,n.width,n.height,0,0,t,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,r).data,width:t,height:r,channels:4}}).then(s=>{const c=(s==null?void 0:s.output)||"";this.parent&&c&&!this.hasAltText()&&(this.altTextData={altText:c,decorative:!1})})}const i=a.getContext("2d");i.filter=this._uiManager.hcmFilter,i.drawImage(n,0,0,n.width,n.height,0,0,t,r)},nf=function(t){if(t){if(E(this,ii)){const n=this._uiManager.imageManager.getSvgUrl(E(this,Nr));if(n)return n}const r=document.createElement("canvas");return{width:r.width,height:r.height}=E(this,Ir),r.getContext("2d").drawImage(E(this,Ir),0,0),r.toDataURL()}if(E(this,ii)){const[r,a]=this.pageDimensions,n=Math.round(this.width*r*va.PDF_TO_CSS_UNITS),i=Math.round(this.height*a*va.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(n,i);return o.getContext("2d").drawImage(E(this,Ir),0,0,E(this,Ir).width,E(this,Ir).height,0,0,n,i),o.transferToImageBitmap()}return structuredClone(E(this,Ir))},u2=function(){this._uiManager._signal&&(J(this,ys,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&Q(this,De,c2).call(this,r.width,r.height)})),E(this,ys).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=E(this,ys))==null||t.disconnect(),J(this,ys,null)},{once:!0}))},ce(Yc,"_type","stamp"),ce(Yc,"_editorType",Te.STAMP);let g0=Yc;var Po,lc,Ri,Io,vs,ws,_s,En,ca,cc,hc,Kr,Gt,ha,Lr,d2,w0,_0,x0,sf;const Vn=class Vn{constructor({uiManager:e,pageIndex:t,div:r,accessibilityManager:a,annotationLayer:n,drawLayer:i,textLayer:o,viewport:l,l10n:s}){tt(this,Lr);tt(this,Po);tt(this,lc,!1);tt(this,Ri,null);tt(this,Io,null);tt(this,vs,null);tt(this,ws,null);tt(this,_s,null);tt(this,En,new Map);tt(this,ca,!1);tt(this,cc,!1);tt(this,hc,!1);tt(this,Kr,null);tt(this,Gt);const c=[...E(Vn,ha).values()];if(!Vn._initialized){Vn._initialized=!0;for(const f of c)f.initialize(s,e)}e.registerEditorTypes(c),J(this,Gt,e),this.pageIndex=t,this.div=r,J(this,Po,a),J(this,Ri,n),this.viewport=l,J(this,Kr,o),this.drawLayer=i,E(this,Gt).addLayer(this)}get isEmpty(){return E(this,En).size===0}get isInvisible(){return this.isEmpty&&E(this,Gt).getMode()===Te.NONE}updateToolbar(e){E(this,Gt).updateToolbar(e)}updateMode(e=E(this,Gt).getMode()){switch(Q(this,Lr,sf).call(this),e){case Te.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Te.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Te.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of E(Vn,ha).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=E(this,Kr))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(E(this,Gt).getMode()!==Te.INK)return;if(!e){for(const r of E(this,En).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){E(this,Gt).setEditingState(e)}addCommands(e){E(this,Gt).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=E(this,Ri))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of E(this,En).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(E(this,Gt).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!E(this,Ri))return;const t=E(this,Ri).getEditableAnnotations();for(const r of t){if(r.hide(),E(this,Gt).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const a=this.deserialize(r);a&&(this.addOrRebuild(a),a.enableEditing())}}disable(){var a;J(this,hc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const n of E(this,En).values())if(n.disableEditing(),!!n.annotationElementId){if(n.serialize()!==null){e.set(n.annotationElementId,n);continue}else t.set(n.annotationElementId,n);(a=this.getEditableAnnotation(n.annotationElementId))==null||a.show(),n.remove()}if(E(this,Ri)){const n=E(this,Ri).getEditableAnnotations();for(const i of n){const{id:o}=i.data;if(E(this,Gt).isDeletedAnnotationElement(o))continue;let l=t.get(o);if(l){l.resetAnnotationElement(i),l.show(!1),i.show();continue}l=e.get(o),l&&(E(this,Gt).addChangedExistingAnnotation(l),l.renderAnnotationElement(i),l.show(!1)),i.show()}}Q(this,Lr,sf).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const n of E(Vn,ha).values())r.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),J(this,hc,!1)}getEditableAnnotation(e){var t;return((t=E(this,Ri))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){E(this,Gt).getActive()!==e&&E(this,Gt).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=E(this,Kr))!=null&&e.div&&!E(this,ws)&&(J(this,ws,Q(this,Lr,d2).bind(this)),E(this,Kr).div.addEventListener("pointerdown",E(this,ws),{signal:E(this,Gt)._signal}),E(this,Kr).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=E(this,Kr))!=null&&e.div&&E(this,ws)&&(E(this,Kr).div.removeEventListener("pointerdown",E(this,ws)),J(this,ws,null),E(this,Kr).div.classList.remove("highlighting"))}enableClick(){if(E(this,vs))return;const e=E(this,Gt)._signal;J(this,vs,this.pointerdown.bind(this)),J(this,Io,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",E(this,vs),{signal:e}),this.div.addEventListener("pointerup",E(this,Io),{signal:e})}disableClick(){E(this,vs)&&(this.div.removeEventListener("pointerdown",E(this,vs)),this.div.removeEventListener("pointerup",E(this,Io)),J(this,vs,null),J(this,Io,null))}attach(e){E(this,En).set(e.id,e);const{annotationElementId:t}=e;t&&E(this,Gt).isDeletedAnnotationElement(t)&&E(this,Gt).removeDeletedAnnotationElement(e)}detach(e){var t;E(this,En).delete(e.id),(t=E(this,Po))==null||t.removePointerInTextLayer(e.contentDiv),!E(this,hc)&&e.annotationElementId&&E(this,Gt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),E(this,Gt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,E(this,cc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(E(this,Gt).addDeletedAnnotationElement(e.annotationElementId),Xe.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),E(this,Gt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),E(this,Gt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!E(this,_s)&&(e._focusEventsAllowed=!1,J(this,_s,setTimeout(()=>{J(this,_s,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:E(this,Gt)._signal}),t.focus())},0))),e._structTreeParentId=(r=E(this,Po))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return E(this,Gt).getId()}get _signal(){return E(this,Gt)._signal}canCreateNewEmptyEditor(){var e;return(e=E(this,Lr,w0))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){E(this,Gt).updateToolbar(e),E(this,Gt).updateMode(e);const{offsetX:r,offsetY:a}=Q(this,Lr,x0).call(this),n=this.getNextId(),i=Q(this,Lr,_0).call(this,{parent:this,id:n,x:r,y:a,uiManager:E(this,Gt),isCentered:!0,...t});i&&this.add(i)}deserialize(e){var t;return((t=E(Vn,ha).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,E(this,Gt)))||null}createAndAddNewEditor(e,t,r={}){const a=this.getNextId(),n=Q(this,Lr,_0).call(this,{parent:this,id:a,x:e.offsetX,y:e.offsetY,uiManager:E(this,Gt),isCentered:t,...r});return n&&this.add(n),n}addNewEditor(){this.createAndAddNewEditor(Q(this,Lr,x0).call(this),!0)}setSelected(e){E(this,Gt).setSelected(e)}toggleSelected(e){E(this,Gt).toggleSelected(e)}isSelected(e){return E(this,Gt).isSelected(e)}unselect(e){E(this,Gt).unselect(e)}pointerup(e){const{isMac:t}=ln.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&E(this,ca)){if(J(this,ca,!1),!E(this,lc)){J(this,lc,!0);return}if(E(this,Gt).getMode()===Te.STAMP){E(this,Gt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(E(this,Gt).getMode()===Te.HIGHLIGHT&&this.enableTextSelection(),E(this,ca)){J(this,ca,!1);return}const{isMac:t}=ln.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;J(this,ca,!0);const r=E(this,Gt).getActive();J(this,lc,!r||r.isEmpty())}findNewParent(e,t,r){const a=E(this,Gt).findParent(t,r);return a===null||a===this?!1:(a.changeParent(e),!0)}destroy(){var e,t;((e=E(this,Gt).getActive())==null?void 0:e.parent)===this&&(E(this,Gt).commitOrRemove(),E(this,Gt).setActiveEditor(null)),E(this,_s)&&(clearTimeout(E(this,_s)),J(this,_s,null));for(const r of E(this,En).values())(t=E(this,Po))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,E(this,En).clear(),E(this,Gt).removeLayer(this)}render({viewport:e}){this.viewport=e,Uo(this.div,e);for(const t of E(this,Gt).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){E(this,Gt).commitOrRemove(),Q(this,Lr,sf).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Uo(this.div,{rotation:r}),t!==r)for(const a of E(this,En).values())a.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return E(this,Gt).viewParameters.realScale}};Po=new WeakMap,lc=new WeakMap,Ri=new WeakMap,Io=new WeakMap,vs=new WeakMap,ws=new WeakMap,_s=new WeakMap,En=new WeakMap,ca=new WeakMap,cc=new WeakMap,hc=new WeakMap,Kr=new WeakMap,Gt=new WeakMap,ha=new WeakMap,Lr=new WeakSet,d2=function(e){if(E(this,Gt).unselectAll(),e.target===E(this,Kr).div){const{isMac:t}=ln.platform;if(e.button!==0||e.ctrlKey&&t)return;E(this,Gt).showAllEditors("highlight",!0,!0),E(this,Kr).div.classList.add("free"),Ef.startHighlighting(this,E(this,Gt).direction==="ltr",e),E(this,Kr).div.addEventListener("pointerup",()=>{E(this,Kr).div.classList.remove("free")},{once:!0,signal:E(this,Gt)._signal}),e.preventDefault()}},w0=function(){return E(Vn,ha).get(E(this,Gt).getMode())},_0=function(e){const t=E(this,Lr,w0);return t?new t.prototype.constructor(e):null},x0=function(){const{x:e,y:t,width:r,height:a}=this.div.getBoundingClientRect(),n=Math.max(0,e),i=Math.max(0,t),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+a),s=(n+o)/2-e,c=(i+l)/2-t,[f,h]=this.viewport.rotation%180===0?[s,c]:[c,s];return{offsetX:f,offsetY:h}},sf=function(){J(this,cc,!0);for(const e of E(this,En).values())e.isEmpty()&&e.remove();J(this,cc,!1)},ce(Vn,"_initialized",!1),tt(Vn,ha,new Map([Jm,c0,g0,Ef].map(e=>[e._editorType,e])));let v0=Vn;var Oi,Ku,xr,ua,Zu,A0,qo,k0,f2;const Tr=class Tr{constructor({pageIndex:e}){tt(this,qo);tt(this,Oi,null);tt(this,Ku,0);tt(this,xr,new Map);tt(this,ua,new Map);this.pageIndex=e}setParent(e){if(!E(this,Oi)){J(this,Oi,e);return}if(E(this,Oi)!==e){if(E(this,xr).size>0)for(const t of E(this,xr).values())t.remove(),e.append(t);J(this,Oi,e)}}static get _svgFactory(){return Ie(this,"_svgFactory",new Q0)}highlight(e,t,r,a=!1){const n=mn(this,Ku)._++,i=Q(this,qo,k0).call(this,e.box);i.classList.add("highlight"),e.free&&i.classList.add("free");const o=Tr._svgFactory.createElement("defs");i.append(o);const l=Tr._svgFactory.createElement("path");o.append(l);const s=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",s),l.setAttribute("d",e.toSVGPath()),a&&E(this,ua).set(n,l);const c=Q(this,qo,f2).call(this,o,s),f=Tr._svgFactory.createElement("use");return i.append(f),i.setAttribute("fill",t),i.setAttribute("fill-opacity",r),f.setAttribute("href",`#${s}`),E(this,xr).set(n,i),{id:n,clipPathId:`url(#${c})`}}highlightOutline(e){const t=mn(this,Ku)._++,r=Q(this,qo,k0).call(this,e.box);r.classList.add("highlightOutline");const a=Tr._svgFactory.createElement("defs");r.append(a);const n=Tr._svgFactory.createElement("path");a.append(n);const i=`path_p${this.pageIndex}_${t}`;n.setAttribute("id",i),n.setAttribute("d",e.toSVGPath()),n.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.free){r.classList.add("free");const c=Tr._svgFactory.createElement("mask");a.append(c),o=`mask_p${this.pageIndex}_${t}`,c.setAttribute("id",o),c.setAttribute("maskUnits","objectBoundingBox");const f=Tr._svgFactory.createElement("rect");c.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const h=Tr._svgFactory.createElement("use");c.append(h),h.setAttribute("href",`#${i}`),h.setAttribute("stroke","none"),h.setAttribute("fill","black"),h.setAttribute("fill-rule","nonzero"),h.classList.add("mask")}const l=Tr._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${i}`),o&&l.setAttribute("mask",`url(#${o})`);const s=l.cloneNode();return r.append(s),l.classList.add("mainOutline"),s.classList.add("secondaryOutline"),E(this,xr).set(t,r),t}finalizeLine(e,t){const r=E(this,ua).get(e);E(this,ua).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){E(this,xr).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),E(this,ua).delete(e)}updatePath(e,t){E(this,ua).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;Q(r=Tr,Zu,A0).call(r,E(this,xr).get(e),t)}show(e,t){E(this,xr).get(e).classList.toggle("hidden",!t)}rotate(e,t){E(this,xr).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){E(this,xr).get(e).setAttribute("fill",t)}changeOpacity(e,t){E(this,xr).get(e).setAttribute("fill-opacity",t)}addClass(e,t){E(this,xr).get(e).classList.add(t)}removeClass(e,t){E(this,xr).get(e).classList.remove(t)}remove(e){E(this,Oi)!==null&&(E(this,xr).get(e).remove(),E(this,xr).delete(e))}destroy(){J(this,Oi,null);for(const e of E(this,xr).values())e.remove();E(this,xr).clear()}};Oi=new WeakMap,Ku=new WeakMap,xr=new WeakMap,ua=new WeakMap,Zu=new WeakSet,A0=function(e,{x:t=0,y:r=0,width:a=1,height:n=1}={}){const{style:i}=e;i.top=`${100*r}%`,i.left=`${100*t}%`,i.width=`${100*a}%`,i.height=`${100*n}%`},qo=new WeakSet,k0=function(e){var r;const t=Tr._svgFactory.create(1,1,!0);return E(this,Oi).append(t),t.setAttribute("aria-hidden",!0),Q(r=Tr,Zu,A0).call(r,t,e),t},f2=function(e,t){const r=Tr._svgFactory.createElement("clipPath");e.append(r);const a=`clip_${t}`;r.setAttribute("id",a),r.setAttribute("clipPathUnits","objectBoundingBox");const n=Tr._svgFactory.createElement("use");return r.append(n),n.setAttribute("href",`#${t}`),n.classList.add("clip"),a},tt(Tr,Zu);let S0=Tr;ie.AbortException;ie.AnnotationEditorLayer;ie.AnnotationEditorParamsType;ie.AnnotationEditorType;ie.AnnotationEditorUIManager;ie.AnnotationLayer;ie.AnnotationMode;ie.CMapCompressionType;ie.ColorPicker;ie.DOMSVGFactory;ie.DrawLayer;ie.FeatureTest;var p8=ie.GlobalWorkerOptions;ie.ImageKind;ie.InvalidPDFException;ie.MissingPDFException;ie.OPS;ie.Outliner;ie.PDFDataRangeTransport;ie.PDFDateString;ie.PDFWorker;ie.PasswordResponses;ie.PermissionFlag;ie.PixelsPerInch;ie.RenderingCancelledException;ie.TextLayer;ie.UnexpectedResponseException;ie.Util;ie.VerbosityLevel;ie.XfaLayer;ie.build;ie.createValidAbsoluteUrl;ie.fetchData;var m8=ie.getDocument;ie.getFilenameFromUrl;ie.getPdfFilenameFromUrl;ie.getXfaPageViewport;ie.isDataScheme;ie.isPdfFile;ie.noContextMenu;ie.normalizeUnicode;ie.renderTextLayer;ie.setLayerDimensions;ie.shadow;ie.updateTextLayer;ie.version;const g8="/handgeschreven-tabel-converter/assets/pdf.worker-CwUwjlJG.mjs";p8.workerSrc=g8;const b8=async u=>{const e=await u.arrayBuffer(),t=await m8({data:e}).promise,r=t.numPages,a=[];for(let n=1;n<=r;n++){const i=await t.getPage(n),o=i.getViewport({scale:2}),l=document.createElement("canvas"),s=l.getContext("2d");l.height=o.height,l.width=o.width;const c={canvasContext:s,viewport:o};await i.render(c).promise;const f=await new Promise(h=>l.toBlob(h,"image/png"));a.push(f)}return a},y8=(u,e=6)=>new Promise((t,r)=>{const a=document.createElement("canvas"),n=a.getContext("2d"),i=new Image;i.src=u,i.onload=()=>{const{width:o,height:l}=i,s=.2*l/29.7,c=l/e,f=[];a.width=o,a.height=c+s;for(let h=0;h<e;h++)n.clearRect(0,0,o,a.height),n.drawImage(i,0,-h*c+h*s),f.push(a.toDataURL("image/png"));t(f)},i.onerror=o=>r(o)});var Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v8(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function Ad(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var p2={exports:{}};/*! ExcelJS 19-10-2023 */(function(u,e){(function(t){u.exports=t()})(function(){return function t(r,a,n){function i(s,c){if(!a[s]){if(!r[s]){var f=typeof Ad=="function"&&Ad;if(!c&&f)return f(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var d=a[s]={exports:{}};r[s][0].call(d.exports,function(p){return i(r[s][1][p]||p)},d,d.exports,t,r,a,n)}return a[s].exports}for(var o=typeof Ad=="function"&&Ad,l=0;l<n.length;l++)i(n[l]);return i}({1:[function(t,r,a){const n=t("fs"),i=t("fast-csv"),o=t("dayjs/plugin/customParseFormat"),l=t("dayjs/plugin/utc"),s=t("dayjs").extend(o).extend(l),c=t("../utils/stream-buf"),{fs:{exists:f}}=t("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};r.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,p){if(p=p||{},!await f(d))throw new Error("File not found: "+d);const g=n.createReadStream(d),m=await this.read(g,p);return g.close(),m}read(d,p){return p=p||{},new Promise((g,m)=>{const b=this.workbook.addWorksheet(p.sheetName),y=p.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],x=p.map||function(M){if(M==="")return null;const I=Number(M);if(!Number.isNaN(I)&&I!==1/0)return I;const B=y.reduce((F,z)=>{if(F)return F;const $=s(M,z,!0);return $.isValid()?$:null},null);if(B)return new Date(B.valueOf());const j=h[M];return j!==void 0?j:M},k=i.parse(p.parserOptions).on("data",M=>{b.addRow(M.map(x))}).on("end",()=>{k.emit("worksheet",b)});k.on("worksheet",g).on("error",m),d.pipe(k)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,p){return new Promise((g,m)=>{p=p||{};const b=this.workbook.getWorksheet(p.sheetName||p.sheetId),y=i.format(p.formatterOptions);d.on("finish",()=>{g()}),y.on("error",m),y.pipe(d);const{dateFormat:x,dateUTC:k}=p,M=p.map||(j=>{if(j){if(j.text||j.hyperlink)return j.hyperlink||j.text||"";if(j.formula||j.result)return j.result||"";if(j instanceof Date)return x?k?s.utc(j).format(x):s(j).format(x):k?s.utc(j).format():s(j).format();if(j.error)return j.error;if(typeof j=="object")return JSON.stringify(j)}return j}),I=p.includeEmptyRows===void 0||p.includeEmptyRows;let B=1;b&&b.eachRow((j,F)=>{if(I)for(;B++<F-1;)y.write([]);const{values:z}=j;z.shift(),y.write(z.map(M)),B=F}),y.end()})}writeFile(d,p){const g={encoding:(p=p||{}).encoding||"utf8"},m=n.createWriteStream(d,g);return this.write(m,p)}async writeBuffer(d){const p=new c;return await this.write(p,d),p.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,r,a){const n=t("../utils/col-cache");class i{constructor(l,s){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,s)if(typeof s=="string"){const f=n.decodeAddress(s);this.nativeCol=f.col+c,this.nativeColOff=0,this.nativeRow=f.row+c,this.nativeRowOff=0}else s.nativeCol!==void 0?(this.nativeCol=s.nativeCol||0,this.nativeColOff=s.nativeColOff||0,this.nativeRow=s.nativeRow||0,this.nativeRowOff=s.nativeRowOff||0):s.col!==void 0?(this.col=s.col+c,this.row=s.row+c):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof i||l==null?l:new i(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}r.exports=i},{"../utils/col-cache":19}],3:[function(t,r,a){const n=t("../utils/col-cache"),i=t("../utils/under-dash"),o=t("./enums"),{slideFormula:l}=t("../utils/shared-formula"),s=t("./note");class c{constructor(d,p,g){if(!d||!p)throw new Error("A Cell needs a Row");this._row=d,this._column=p,n.validateAddress(g),this._address=g,this._value=f.create(c.Types.Null,this),this.style=this._mergeStyle(d.style,p.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,p,g){const m=d&&d.numFmt||p&&p.numFmt;m&&(g.numFmt=m);const b=d&&d.font||p&&p.font;b&&(g.font=b);const y=d&&d.alignment||p&&p.alignment;y&&(g.alignment=y);const x=d&&d.border||p&&p.border;x&&(g.border=x);const k=d&&d.fill||p&&p.fill;k&&(g.fill=k);const M=d&&d.protection||p&&p.protection;return M&&(g.protection=M),g}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===c.Types.Merge}merge(d,p){this._value.release(),this._value=f.create(c.Types.Merge,this,d),p||(this.style=d.style)}unmerge(){this.type===c.Types.Merge&&(this._value.release(),this._value=f.create(c.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===c.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===c.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===c.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==c.Types.Merge?(this._value.release(),this._value=f.create(f.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new s(d)}get text(){return this._value.toString()}get html(){return i.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===c.Types.String&&(this._value=f.create(c.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){const{definedNames:p}=this.workbook;p.removeAllNames(this.fullAddress),d.forEach(g=>{p.addEx(this.fullAddress,g)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){const{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){if(this._value.release(),this._value=f.create(d.type,this),this._value.model=d,d.comment)switch(d.comment.type){case"note":this._comment=s.fromModel(d.comment)}d.style?this.style=d.style:this.style={}}}c.Types=o.ValueType;const f={getType:h=>h==null?c.Types.Null:h instanceof String||typeof h=="string"?c.Types.String:typeof h=="number"?c.Types.Number:typeof h=="boolean"?c.Types.Boolean:h instanceof Date?c.Types.Date:h.text&&h.hyperlink?c.Types.Hyperlink:h.formula||h.sharedFormula?c.Types.Formula:h.richText?c.Types.RichText:h.sharedString?c.Types.SharedString:h.error?c.Types.Error:c.Types.JSON,types:[{t:c.Types.Null,f:class{constructor(h){this.model={address:h.address,type:c.Types.Null}}get value(){return null}set value(h){}get type(){return c.Types.Null}get effectiveType(){return c.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:c.Types.Number,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Number,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Number}get effectiveType(){return c.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.String,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:c.Types.Date,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Date,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Date}get effectiveType(){return c.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Hyperlink,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return c.Types.Hyperlink}get effectiveType(){return c.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:c.Types.Formula,f:class{constructor(h,d){this.cell=h,this.model={address:h.address,type:c.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(h){const d={},p=g=>{const m=h[g];m&&(d[g]=m)};return p("formula"),p("result"),p("ref"),p("shareType"),p("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(f.getType(h)){case c.Types.Null:case c.Types.String:case c.Types.Number:case c.Types.Date:break;case c.Types.Hyperlink:case c.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return c.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?o.ValueType.Null:h instanceof String||typeof h=="string"?o.ValueType.String:typeof h=="number"?o.ValueType.Number:h instanceof Date?o.ValueType.Date:h.text&&h.hyperlink?o.ValueType.Hyperlink:h.formula?o.ValueType.Formula:o.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,d=h.findCell(this.model.sharedFormula);this._translatedFormula=d&&l(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:c.Types.Merge,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof c?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return c.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:c.Types.JSON,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:c.Types.SharedString,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.SharedString,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.SharedString}get effectiveType(){return c.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.RichText,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return c.Types.RichText}get effectiveType(){return c.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:c.Types.Boolean,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Boolean,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Boolean}get effectiveType(){return c.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Error,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Error,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Error}get effectiveType(){return c.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,d)=>(h[d.t]=d.f,h),[]),create(h,d,p){const g=this.types[h];if(!g)throw new Error("Could not create Value of type "+h);return new g(d,p)}};r.exports=c},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,r,a){const n=t("../utils/under-dash"),i=t("./enums"),o=t("../utils/col-cache");class l{constructor(c,f,h){this._worksheet=c,this._number=f,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return o.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(c){c?(this.key=c.key,this.width=c.width!==void 0?c.width:9,this.outlineLevel=c.outlineLevel,c.style?this.style=c.style:this.style={},this.header=c.header,this._hidden=!!c.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(c){c!==void 0?(this._header=c,this.headers.forEach((f,h)=>{this._worksheet.getCell(h+1,this.number).value=f})):this._header=void 0}get key(){return this._key}set key(c){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=c,c&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(c){return this.width===c.width&&this.hidden===c.hidden&&this.outlineLevel===c.outlineLevel&&n.isEqual(this.style,c.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const c=this.style;return!c||!(c.font||c.numFmt||c.alignment||c.border||c.fill||c.protection)}get headerCount(){return this.headers.length}eachCell(c,f){const h=this.number;f||(f=c,c=null),this._worksheet.eachRow(c,(d,p)=>{f(d.getCell(h),p)})}get values(){const c=[];return this.eachCell((f,h)=>{f&&f.type!==i.ValueType.Null&&(c[h]=f.value)}),c}set values(c){if(!c)return;const f=this.number;let h=0;c.hasOwnProperty("0")&&(h=1),c.forEach((d,p)=>{this._worksheet.getCell(p+h,f).value=d})}_applyStyle(c,f){return this.style[c]=f,this.eachCell(h=>{h[c]=f}),f}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}static toModel(c){const f=[];let h=null;return c&&c.forEach((d,p)=>{d.isDefault?h&&(h=null):h&&d.equivalentTo(h)?h.max=p+1:(h={min:p+1,max:p+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},f.push(h))}),f.length?f:void 0}static fromModel(c,f){const h=[];let d=1,p=0;for(f=(f=f||[]).sort(function(g,m){return g.min-m.min});p<f.length;){const g=f[p++];for(;d<g.min;)h.push(new l(c,d++));for(;d<=g.max;)h.push(new l(c,d++,g))}return h.length?h:null}}r.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,r,a){r.exports=class{constructor(n){this.model=n||{}}add(n,i){return this.model[n]=i}find(n){return this.model[n]}remove(n){this.model[n]=void 0}}},{}],6:[function(t,r,a){const n=t("../utils/under-dash"),i=t("../utils/col-cache"),o=t("../utils/cell-matrix"),l=t("./range"),s=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;r.exports=class{constructor(){this.matrixMap={}}getMatrix(c){return this.matrixMap[c]||(this.matrixMap[c]=new o)}add(c,f){const h=i.decodeEx(c);this.addEx(h,f)}addEx(c,f){const h=this.getMatrix(f);if(c.top)for(let d=c.left;d<=c.right;d++)for(let p=c.top;p<=c.bottom;p++){const g={sheetName:c.sheetName,address:i.n2l(d)+p,row:p,col:d};h.addCellEx(g)}else h.addCellEx(c)}remove(c,f){const h=i.decodeEx(c);this.removeEx(h,f)}removeEx(c,f){this.getMatrix(f).removeCellEx(c)}removeAllNames(c){n.each(this.matrixMap,f=>{f.removeCellEx(c)})}forEach(c){n.each(this.matrixMap,(f,h)=>{f.forEach(d=>{c(h,d)})})}getNames(c){return this.getNamesEx(i.decodeEx(c))}getNamesEx(c){return n.map(this.matrixMap,(f,h)=>f.findCellEx(c)&&h).filter(Boolean)}_explore(c,f){f.mark=!1;const{sheetName:h}=f,d=new l(f.row,f.col,f.row,f.col,h);let p,g;function m(y,x){const k=c.findCellAt(h,y,f.col);return!(!k||!k.mark)&&(d[x]=y,k.mark=!1,!0)}for(g=f.row-1;m(g,"top");g--);for(g=f.row+1;m(g,"bottom");g++);function b(y,x){const k=[];for(g=d.top;g<=d.bottom;g++){const M=c.findCellAt(h,g,y);if(!M||!M.mark)return!1;k.push(M)}d[x]=y;for(let M=0;M<k.length;M++)k[M].mark=!1;return!0}for(p=f.col-1;b(p,"left");p--);for(p=f.col+1;b(p,"right");p++);return d}getRanges(c,f){return(f=f||this.matrixMap[c])?(f.forEach(h=>{h.mark=!0}),{name:c,ranges:f.map(h=>h.mark&&this._explore(f,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:c,ranges:[]}}normaliseMatrix(c,f){c.forEachInSheet(f,(h,d,p)=>{h&&(h.row===d&&h.col===p||(h.row=d,h.col=p,h.address=i.n2l(p)+d))})}spliceRows(c,f,h,d){n.each(this.matrixMap,p=>{p.spliceRows(c,f,h,d),this.normaliseMatrix(p,c)})}spliceColumns(c,f,h,d){n.each(this.matrixMap,p=>{p.spliceColumns(c,f,h,d),this.normaliseMatrix(p,c)})}get model(){return n.map(this.matrixMap,(c,f)=>this.getRanges(f,c)).filter(c=>c.ranges.length)}set model(c){const f=this.matrixMap={};c.forEach(h=>{const d=f[h.name]=new o;h.ranges.forEach(p=>{s.test(p.split("!").pop()||"")&&d.addCell(p)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,r,a){r.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,r,a){const n=t("../utils/col-cache"),i=t("./anchor");r.exports=class{constructor(o,l){this.worksheet=o,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(o){let{type:l,imageId:s,range:c,hyperlinks:f}=o;if(this.type=l,this.imageId=s,l==="image")if(typeof c=="string"){const h=n.decode(c);this.range={tl:new i(this.worksheet,{col:h.left,row:h.top},-1),br:new i(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new i(this.worksheet,c.tl,0),br:c.br&&new i(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:f||c.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,r,a){const n=t("../utils/under-dash");class i{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return n.deepMerge({},i.DEFAULT_CONFIGS,l)}set model(l){const{note:s}=l,{texts:c}=s;c.length===1&&Object.keys(c[0]).length===1?this.note=c[0].text:this.note=s}static fromModel(l){const s=new i;return s.model=l,s}}i.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},r.exports=i},{"../utils/under-dash":26}],10:[function(t,r,a){const n=t("../utils/col-cache");class i{constructor(){this.decode(arguments)}setTLBR(l,s,c,f,h){if(arguments.length<4){const d=n.decodeAddress(l),p=n.decodeAddress(s);this.model={top:Math.min(d.row,p.row),left:Math.min(d.col,p.col),bottom:Math.max(d.row,p.row),right:Math.max(d.col,p.col),sheetName:c},this.setTLBR(d.row,d.col,p.row,p.col,h)}else this.model={top:Math.min(l,c),left:Math.min(s,f),bottom:Math.max(l,c),right:Math.max(s,f),sheetName:h}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const s=l[0];if(s instanceof i)this.model={top:s.model.top,left:s.model.left,bottom:s.model.bottom,right:s.model.right,sheetName:s.sheetName};else if(s instanceof Array)this.decode(s);else if(s.top&&s.left&&s.bottom&&s.right)this.model={top:s.top,left:s.left,bottom:s.bottom,right:s.right,sheetName:s.sheetName};else{const c=n.decodeEx(s);c.top?this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName}:this.model={top:c.row,left:c.col,bottom:c.row,right:c.col,sheetName:c.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,s,c,f){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||s<this.left)&&(this.left=s),(!this.model.bottom||c>this.bottom)&&(this.bottom=c),(!this.model.right||f>this.right)&&(this.right=f)}expandRow(l){if(l){const{dimensions:s,number:c}=l;s&&this.expand(c,s.min,c,s.max)}}expandToAddress(l){const s=n.decodeEx(l);this.expand(s.row,s.col,s.row,s.col)}get tl(){return n.n2l(this.left)+this.top}get $t$l(){return`$${n.n2l(this.left)}$${this.top}`}get br(){return n.n2l(this.right)+this.bottom}get $b$r(){return`$${n.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const s=n.decodeEx(l);return this.containsEx(s)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let s=this.left;s<=this.right;s++)for(let c=this.top;c<=this.bottom;c++)l(n.encodeAddress(c,s),c,s)}}r.exports=i},{"../utils/col-cache":19}],11:[function(t,r,a){const n=t("../utils/under-dash"),i=t("./enums"),o=t("../utils/col-cache"),l=t("./cell");r.exports=class{constructor(s,c){this._worksheet=s,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(s){return this._cells[s-1]}getCellEx(s){let c=this._cells[s.col-1];if(!c){const f=this._worksheet.getColumn(s.col);c=new l(this,f,s.address),this._cells[s.col-1]=c}return c}getCell(s){if(typeof s=="string"){const c=this._worksheet.getColumnKey(s);s=c?c.number:o.l2n(s)}return this._cells[s-1]||this.getCellEx({address:o.encodeAddress(this._number,s),row:this._number,col:s})}splice(s,c){const f=s+c;for(var h=arguments.length,d=new Array(h>2?h-2:0),p=2;p<h;p++)d[p-2]=arguments[p];const g=d.length-c,m=this._cells.length;let b,y,x;if(g<0)for(b=s+d.length;b<=m;b++)x=this._cells[b-1],y=this._cells[b-g-1],y?(x=this.getCell(b),x.value=y.value,x.style=y.style,x._comment=y._comment):x&&(x.value=null,x.style={},x._comment=void 0);else if(g>0)for(b=m;b>=f;b--)y=this._cells[b-1],y?(x=this.getCell(b+g),x.value=y.value,x.style=y.style,x._comment=y._comment):this._cells[b+g-1]=void 0;for(b=0;b<d.length;b++)x=this.getCell(s+b),x.value=d[b],x.style={},x._comment=void 0}eachCell(s,c){if(c||(c=s,s=null),s&&s.includeEmpty){const f=this._cells.length;for(let h=1;h<=f;h++)c(this.getCell(h),h)}else this._cells.forEach((f,h)=>{f&&f.type!==i.ValueType.Null&&c(f,h+1)})}addPageBreak(s,c){const f=this._worksheet,h=Math.max(0,s-1)||0,d=Math.max(0,c-1)||16838,p={id:this._number,max:d,man:1};h&&(p.min=h),f.rowBreaks.push(p)}get values(){const s=[];return this._cells.forEach(c=>{c&&c.type!==i.ValueType.Null&&(s[c.col]=c.value)}),s}set values(s){if(this._cells=[],s)if(s instanceof Array){let c=0;s.hasOwnProperty("0")&&(c=1),s.forEach((f,h)=>{f!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,h+c),row:this._number,col:h+c}).value=f)})}else this._worksheet.eachColumnKey((c,f)=>{s[f]!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,c.number),row:this._number,col:c.number}).value=s[f])})}get hasValues(){return n.some(this._cells,s=>s&&s.type!==i.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let s=0;return this.eachCell(()=>{s++}),s}get dimensions(){let s=0,c=0;return this._cells.forEach(f=>{f&&f.type!==i.ValueType.Null&&((!s||s>f.col)&&(s=f.col),c<f.col&&(c=f.col))}),s>0?{min:s,max:c}:null}_applyStyle(s,c){return this.style[s]=c,this._cells.forEach(f=>{f&&(f[s]=c)}),c}get numFmt(){return this.style.numFmt}set numFmt(s){this._applyStyle("numFmt",s)}get font(){return this.style.font}set font(s){this._applyStyle("font",s)}get alignment(){return this.style.alignment}set alignment(s){this._applyStyle("alignment",s)}get protection(){return this.style.protection}set protection(s){this._applyStyle("protection",s)}get border(){return this.style.border}set border(s){this._applyStyle("border",s)}get fill(){return this.style.fill}set fill(s){this._applyStyle("fill",s)}get hidden(){return!!this._hidden}set hidden(s){this._hidden=s}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(s){this._outlineLevel=s}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const s=[];let c=0,f=0;return this._cells.forEach(h=>{if(h){const d=h.model;d&&((!c||c>h.col)&&(c=h.col),f<h.col&&(f=h.col),s.push(d))}}),this.height||s.length?{cells:s,number:this.number,min:c,max:f,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(s){if(s.number!==this._number)throw new Error("Invalid row number in model");let c;this._cells=[],s.cells.forEach(f=>{switch(f.type){case l.Types.Merge:break;default:{let h;if(f.address)h=o.decodeAddress(f.address);else if(c){const{row:d}=c,p=c.col+1;h={row:d,col:p,address:o.encodeAddress(d,p),$col$row:`$${o.n2l(p)}$${d}`}}c=h,this.getCellEx(h).model=f;break}}}),s.height?this.height=s.height:delete this.height,this.hidden=s.hidden,this.outlineLevel=s.outlineLevel||0,this.style=s.style&&JSON.parse(JSON.stringify(s.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,r,a){const n=t("../utils/col-cache");class i{constructor(l,s,c){this.table=l,this.column=s,this.index=c}_set(l,s){this.table.cacheState(),this.column[l]=s}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}r.exports=class{constructor(o,l){this.worksheet=o,l&&(this.table=l,this.validate(),this.store())}getFormula(o){switch(o.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${o.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${o.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${o.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${o.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${o.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${o.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${o.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${o.name}])`;case"custom":return o.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+o.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:o}=this,l=(g,m,b)=>{g[m]===void 0&&(g[m]=b)};l(o,"headerRow",!0),l(o,"totalsRow",!1),l(o,"style",{}),l(o.style,"theme","TableStyleMedium2"),l(o.style,"showFirstColumn",!1),l(o.style,"showLastColumn",!1),l(o.style,"showRowStripes",!1),l(o.style,"showColumnStripes",!1);const s=(g,m)=>{if(!g)throw new Error(m)};s(o.ref,"Table must have ref"),s(o.columns,"Table must have column definitions"),s(o.rows,"Table must have row definitions"),o.tl=n.decodeAddress(o.ref);const{row:c,col:f}=o.tl;s(c>0,"Table must be on valid row"),s(f>0,"Table must be on valid col");const{width:h,filterHeight:d,tableHeight:p}=this;o.autoFilterRef=n.encode(c,f,c+d-1,f+h-1),o.tableRef=n.encode(c,f,c+p-1,f+h-1),o.columns.forEach((g,m)=>{s(g.name,`Column ${m} must have a name`),m===0?l(g,"totalsRowLabel","Total"):(l(g,"totalsRowFunction","none"),g.totalsRowFormula=this.getFormula(g))})}store(){const o=(d,p)=>{p&&Object.keys(p).forEach(g=>{d[g]=p[g]})},{worksheet:l,table:s}=this,{row:c,col:f}=s.tl;let h=0;if(s.headerRow){const d=l.getRow(c+h++);s.columns.forEach((p,g)=>{const{style:m,name:b}=p,y=d.getCell(f+g);y.value=b,o(y,m)})}if(s.rows.forEach(d=>{const p=l.getRow(c+h++);d.forEach((g,m)=>{const b=p.getCell(f+m);b.value=g,o(b,s.columns[m].style)})}),s.totalsRow){const d=l.getRow(c+h++);s.columns.forEach((p,g)=>{const m=d.getCell(f+g);if(g===0)m.value=p.totalsRowLabel;else{const b=this.getFormula(p);m.value=b?{formula:p.totalsRowFormula,result:p.totalsRowResult}:null}o(m,p.style)})}}load(o){const{table:l}=this,{row:s,col:c}=l.tl;let f=0;if(l.headerRow){const h=o.getRow(s+f++);l.columns.forEach((d,p)=>{h.getCell(c+p).value=d.name})}if(l.rows.forEach(h=>{const d=o.getRow(s+f++);h.forEach((p,g)=>{d.getCell(c+g).value=p})}),l.totalsRow){const h=o.getRow(s+f++);l.columns.forEach((d,p)=>{const g=h.getCell(c+p);p===0?g.value=d.totalsRowLabel:this.getFormula(d)&&(g.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(o){this.table=o}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const o=n.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const s=this.worksheet.getRow(o.row+l);for(let c=0;c<this._cache.width;c++)s.getCell(o.col+c).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const s=this.worksheet.getRow(o.row+l);for(let c=0;c<this._cache.width;c++)s.getCell(o.col+c).value=null}for(let l=0;l<this.tableHeight;l++){const s=this.worksheet.getRow(o.row+l);for(let c=this.width;c<this._cache.width;c++)s.getCell(o.col+c).value=null}}this.store()}addRow(o,l){this.cacheState(),l===void 0?this.table.rows.push(o):this.table.rows.splice(l,0,o)}removeRows(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(o,l)}getColumn(o){const l=this.table.columns[o];return new i(this,l,o)}addColumn(o,l,s){this.cacheState(),s===void 0?(this.table.columns.push(o),this.table.rows.forEach((c,f)=>{c.push(l[f])})):(this.table.columns.splice(s,0,o),this.table.rows.forEach((c,f)=>{c.splice(s,0,l[f])}))}removeColumns(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(o,l),this.table.rows.forEach(s=>{s.splice(o,l)})}_assign(o,l,s){this.cacheState(),o[l]=s}get ref(){return this.table.ref}set ref(o){this._assign(this.table,"ref",o)}get name(){return this.table.name}set name(o){this.table.name=o}get displayName(){return this.table.displyName||this.table.name}set displayNamename(o){this.table.displayName=o}get headerRow(){return this.table.headerRow}set headerRow(o){this._assign(this.table,"headerRow",o)}get totalsRow(){return this.table.totalsRow}set totalsRow(o){this._assign(this.table,"totalsRow",o)}get theme(){return this.table.style.name}set theme(o){this.table.style.name=o}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(o){this.table.style.showFirstColumn=o}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(o){this.table.style.showLastColumn=o}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(o){this.table.style.showRowStripes=o}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(o){this.table.style.showColumnStripes=o}}},{"../utils/col-cache":19}],13:[function(t,r,a){const n=t("./worksheet"),i=t("./defined-names"),o=t("../xlsx/xlsx"),l=t("../csv/csv");r.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new i}get xlsx(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let s=1;s<this._worksheets.length;s++)if(!this._worksheets[s])return s;return this._worksheets.length||1}addWorksheet(s,c){const f=this.nextId;c&&(typeof c=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));const h=this._worksheets.reduce((g,m)=>(m&&m.orderNo)>g?m.orderNo:g,0),d=Object.assign({},c,{id:f,name:s,orderNo:h+1,workbook:this}),p=new n(d);return this._worksheets[f]=p,p}removeWorksheetEx(s){delete this._worksheets[s.id]}removeWorksheet(s){const c=this.getWorksheet(s);c&&c.destroy()}getWorksheet(s){return s===void 0?this._worksheets.find(Boolean):typeof s=="number"?this._worksheets[s]:typeof s=="string"?this._worksheets.find(c=>c&&c.name===s):void 0}get worksheets(){return this._worksheets.slice(1).sort((s,c)=>s.orderNo-c.orderNo).filter(Boolean)}eachSheet(s){this.worksheets.forEach(c=>{s(c,c.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(s){const c=this.media.length;return this.media.push(Object.assign({},s,{type:"image"})),c}getImage(s){return this.media[s]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(s=>s.model),sheets:this.worksheets.map(s=>s.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(s){this.creator=s.creator,this.lastModifiedBy=s.lastModifiedBy,this.lastPrinted=s.lastPrinted,this.created=s.created,this.modified=s.modified,this.company=s.company,this.manager=s.manager,this.title=s.title,this.subject=s.subject,this.keywords=s.keywords,this.category=s.category,this.description=s.description,this.language=s.language,this.revision=s.revision,this.contentStatus=s.contentStatus,this.properties=s.properties,this.calcProperties=s.calcProperties,this._worksheets=[],s.worksheets.forEach(c=>{const{id:f,name:h,state:d}=c,p=s.sheets&&s.sheets.findIndex(g=>g.id===f);(this._worksheets[f]=new n({id:f,name:h,orderNo:p,state:d,workbook:this})).model=c}),this._definedNames.model=s.definedNames,this.views=s.views,this._themes=s.themes,this.media=s.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,r,a){const n=t("../utils/under-dash"),i=t("../utils/col-cache"),o=t("./range"),l=t("./row"),s=t("./column"),c=t("./enums"),f=t("./image"),h=t("./table"),d=t("./data-validations"),p=t("../utils/encryptor"),{copyStyle:g}=t("../utils/copy-style");r.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new d,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(b=>b&&b.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new o;return this._rows.forEach(b=>{if(b){const y=b.dimensions;y&&m.expand(b.number,y.min,b.number,y.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((x,k)=>{const M=(k.header?1:k.headers&&k.headers.length)||0;return Math.max(x,M)},0);let b=1;const y=this._columns=[];m.forEach(x=>{const k=new s(this,b++,!1);y.push(k),k.defn=x})}getColumnKey(m){return this._keys[m]}setColumnKey(m,b){this._keys[m]=b}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){n.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const b=this._keys[m];if(b)return b;m=i.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let b=this._columns.length+1;for(;b<=m;)this._columns.push(new s(this,b++))}return this._columns[m-1]}spliceColumns(m,b){const y=this._rows.length;for(var x=arguments.length,k=new Array(x>2?x-2:0),M=2;M<x;M++)k[M-2]=arguments[M];if(k.length>0)for(let F=0;F<y;F++){const z=[m,b];k.forEach(H=>{z.push(H[F]||null)});const $=this.getRow(F+1);$.splice.apply($,z)}else this._rows.forEach(F=>{F&&F.splice(m,b)});const I=k.length-b,B=m+b,j=this._columns.length;if(I<0)for(let F=m+k.length;F<=j;F++)this.getColumn(F).defn=this.getColumn(F-I).defn;else if(I>0)for(let F=j;F>=B;F--)this.getColumn(F+I).defn=this.getColumn(F).defn;for(let F=m;F<m+k.length;F++)this.getColumn(F).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,b,k.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(b=>{m=Math.max(m,b.cellCount)}),m}get actualColumnCount(){const m=[];let b=0;return this.eachRow(y=>{y.eachCell(x=>{let{col:k}=x;m[k]||(m[k]=!0,b++)})}),b}_commitRow(){}get _lastRowNumber(){const m=this._rows;let b=m.length;for(;b>0&&m[b-1]===void 0;)b--;return b}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,b){return this._rows.slice(m-1,m-1+b)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let b=this._rows[m-1];return b||(b=this._rows[m-1]=new l(this,m)),b}getRows(m,b){if(b<1)return;const y=[];for(let x=m;x<m+b;x++)y.push(this.getRow(x));return y}addRow(m){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=this._nextRow,x=this.getRow(y);return x.values=m,this._setStyleOption(y,b[0]==="i"?b:"n"),x}addRows(m){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=[];return m.forEach(x=>{y.push(this.addRow(x,b))}),y}insertRow(m,b){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,b),this._setStyleOption(m,y),this.getRow(m)}insertRows(m,b){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...b),y!=="n")for(let x=0;x<b.length;x++)y[0]==="o"&&this.findRow(b.length+m+x)!==void 0?this._copyStyle(b.length+m+x,m+x,y[1]==="+"):y[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+x,y[1]==="+");return this.getRows(m,b.length)}_setStyleOption(m){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";b[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,b[1]==="+"):b[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,b[1]==="+")}_copyStyle(m,b){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this.getRow(m),k=this.getRow(b);k.style=g(x.style),x.eachCell({includeEmpty:y},(M,I)=>{k.getCell(I).style=g(M.style)}),k.height=x.height}duplicateRow(m,b){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this._rows[m-1],k=new Array(b).fill(x.values);this.spliceRows(m+1,y?0:b,...k);for(let M=0;M<b;M++){const I=this._rows[m+M];I.style=x.style,I.height=x.height,x.eachCell({includeEmpty:!0},(B,j)=>{I.getCell(j).style=B.style})}}spliceRows(m,b){const y=m+b;for(var x=arguments.length,k=new Array(x>2?x-2:0),M=2;M<x;M++)k[M-2]=arguments[M];const I=k.length,B=I-b,j=this._rows.length;let F,z;if(B<0)for(m===j&&(this._rows[j-1]=void 0),F=y;F<=j;F++)if(z=this._rows[F-1],z){const $=this.getRow(F+B);$.values=z.values,$.style=z.style,$.height=z.height,z.eachCell({includeEmpty:!0},(H,C)=>{$.getCell(C).style=H.style}),this._rows[F-1]=void 0}else this._rows[F+B-1]=void 0;else if(B>0)for(F=j;F>=y;F--)if(z=this._rows[F-1],z){const $=this.getRow(F+B);$.values=z.values,$.style=z.style,$.height=z.height,z.eachCell({includeEmpty:!0},(H,C)=>{if($.getCell(C).style=H.style,H._value.constructor.name==="MergeValue"){const O=this.getRow(H._row._number+I).getCell(C),A=H._value._master,v=this.getRow(A._row._number+I).getCell(A._column._number);O.merge(v)}})}else this._rows[F+B-1]=void 0;for(F=0;F<I;F++){const $=this.getRow(m+F);$.style={},$.values=k[F]}this.workbook.definedNames.spliceRows(this.name,m,b,I)}eachRow(m,b){if(b||(b=m,m=void 0),m&&m.includeEmpty){const y=this._rows.length;for(let x=1;x<=y;x++)b(this.getRow(x),x)}else this._rows.forEach(y=>{y&&y.hasValues&&b(y,y.number)})}getSheetValues(){const m=[];return this._rows.forEach(b=>{b&&(m[b.number]=b.values)}),m}findCell(m,b){const y=i.getAddress(m,b),x=this._rows[y.row-1];return x?x.findCell(y.col):void 0}getCell(m,b){const y=i.getAddress(m,b);return this.getRow(y.row).getCellEx(y)}mergeCells(){for(var m=arguments.length,b=new Array(m),y=0;y<m;y++)b[y]=arguments[y];const x=new o(b);this._mergeCellsInternal(x)}mergeCellsWithoutStyle(){for(var m=arguments.length,b=new Array(m),y=0;y<m;y++)b[y]=arguments[y];const x=new o(b);this._mergeCellsInternal(x,!0)}_mergeCellsInternal(m,b){n.each(this._merges,x=>{if(x.intersects(m))throw new Error("Cannot merge already merged cells")});const y=this.getCell(m.top,m.left);for(let x=m.top;x<=m.bottom;x++)for(let k=m.left;k<=m.right;k++)(x>m.top||k>m.left)&&this.getCell(x,k).merge(y,b);this._merges[y.address]=m}_unMergeMaster(m){const b=this._merges[m.address];if(b){for(let y=b.top;y<=b.bottom;y++)for(let x=b.left;x<=b.right;x++)this.getCell(y,x).unmerge();delete this._merges[m.address]}}get hasMerges(){return n.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,b=new Array(m),y=0;y<m;y++)b[y]=arguments[y];const x=new o(b);for(let k=x.top;k<=x.bottom;k++)for(let M=x.left;M<=x.right;M++){const I=this.findCell(k,M);I&&(I.type===c.ValueType.Merge?this._unMergeMaster(I.master):this._merges[I.address]&&this._unMergeMaster(I))}}fillFormula(m,b,y){let x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const k=i.decode(m),{top:M,left:I,bottom:B,right:j}=k,F=j-I+1,z=i.encodeAddress(M,I),$=x==="shared";let H;H=typeof y=="function"?y:Array.isArray(y)?Array.isArray(y[0])?(O,A)=>y[O-M][A-I]:(O,A)=>y[(O-M)*F+(A-I)]:()=>{};let C=!0;for(let O=M;O<=B;O++)for(let A=I;A<=j;A++)C?(this.getCell(O,A).value={shareType:x,formula:b,ref:m,result:H(O,A)},C=!1):this.getCell(O,A).value=$?{sharedFormula:z,result:H(O,A)}:H(O,A)}addImage(m,b){const y={type:"image",imageId:m,range:b};this._media.push(new f(this,y))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const b={type:"background",imageId:m};this._media.push(new f(this,b))}getBackgroundImageId(){const m=this._media.find(b=>b.type==="background");return m&&m.imageId}protect(m,b){return new Promise(y=>{this.sheetProtection={sheet:!0},b&&"spinCount"in b&&(b.spinCount=Number.isFinite(b.spinCount)?Math.round(Math.max(0,b.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=p.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=b&&"spinCount"in b?b.spinCount:1e5,this.sheetProtection.hashValue=p.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),b&&(this.sheetProtection=Object.assign(this.sheetProtection,b),!m&&"spinCount"in b&&delete this.sheetProtection.spinCount),y()})}unprotect(){this.sheetProtection=null}addTable(m){const b=new h(this,m);return this.tables[m.name]=b,b}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(x=>x.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(x=>x.model),conditionalFormattings:this.conditionalFormattings};m.cols=s.toModel(this.columns);const b=m.rows=[],y=m.dimensions=new o;return this._rows.forEach(x=>{const k=x&&x.model;k&&(y.expand(k.number,k.min,k.number,k.max),b.push(k))}),m.merges=[],n.each(this._merges,x=>{m.merges.push(x.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(b=>{const y=new l(this,b.number);this._rows[y.number-1]=y,y.model=b})}_parseMergeCells(m){n.each(m.mergeCells,b=>{this.mergeCellsWithoutStyle(b)})}set model(m){this.name=m.name,this._columns=s.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new d(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(b=>new f(this,b)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((b,y)=>{const x=new h;return x.model=y,b[y.name]=x,b},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,r,a){t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");const n={Workbook:t("./doc/workbook")},i=t("./doc/enums");Object.keys(i).forEach(o=>{n[o]=i[o]}),r.exports=n},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,r,a){const n=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");a.bufferToString=function(i){return typeof i=="string"?i:n?n.decode(i):i.toString()}},{}],17:[function(t,r,a){const n=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:i}=t("buffer");a.stringToBuffer=function(o){return typeof o!="string"?o:n?i.from(n.encode(o).buffer):i.from(o)}},{buffer:220}],18:[function(t,r,a){const n=t("./under-dash"),i=t("./col-cache");r.exports=class{constructor(o){this.template=o,this.sheets={}}addCell(o){this.addCellEx(i.decodeEx(o))}getCell(o){return this.findCellEx(i.decodeEx(o),!0)}findCell(o){return this.findCellEx(i.decodeEx(o),!1)}findCellAt(o,l,s){const c=this.sheets[o],f=c&&c[l];return f&&f[s]}addCellEx(o){if(o.top)for(let l=o.top;l<=o.bottom;l++)for(let s=o.left;s<=o.right;s++)this.getCellAt(o.sheetName,l,s);else this.findCellEx(o,!0)}getCellEx(o){return this.findCellEx(o,!0)}findCellEx(o,l){const s=this.findSheet(o,l),c=this.findSheetRow(s,o,l);return this.findRowCell(c,o,l)}getCellAt(o,l,s){const c=this.sheets[o]||(this.sheets[o]=[]),f=c[l]||(c[l]=[]);return f[s]||(f[s]={sheetName:o,address:i.n2l(s)+l,row:l,col:s})}removeCellEx(o){const l=this.findSheet(o);if(!l)return;const s=this.findSheetRow(l,o);s&&delete s[o.col]}forEachInSheet(o,l){const s=this.sheets[o];s&&s.forEach((c,f)=>{c&&c.forEach((h,d)=>{h&&l(h,f,d)})})}forEach(o){n.each(this.sheets,(l,s)=>{this.forEachInSheet(s,o)})}map(o){const l=[];return this.forEach(s=>{l.push(o(s))}),l}findSheet(o,l){const s=o.sheetName;return this.sheets[s]?this.sheets[s]:l?this.sheets[s]=[]:void 0}findSheetRow(o,l,s){const{row:c}=l;return o&&o[c]?o[c]:s?o[c]=[]:void 0}findRowCell(o,l,s){const{col:c}=l;return o&&o[c]?o[c]:s?o[c]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(o,l,s,c){const f=this.sheets[o];if(f){const h=[];for(let d=0;d<c;d++)h.push([]);f.splice(l,s,...h)}}spliceColumns(o,l,s,c){const f=this.sheets[o];if(f){const h=[];for(let d=0;d<c;d++)h.push(null);n.each(f,d=>{d.splice(l,s,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,r,a){const n=/^[A-Z]+\d+$/,i={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:o=>o<=26?1:o<=676?2:3,_fill(o){let l,s,c,f,h,d=1;if(o>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&o>=1){for(;d<=26;)l=this._dictionary[d-1],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&o>=2){for(d=27;d<=702;)s=d-27,c=s%26,f=Math.floor(s/26),l=this._dictionary[f]+this._dictionary[c],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&o>=3){for(d=703;d<=16384;)s=d-703,c=s%26,f=Math.floor(s/26)%26,h=Math.floor(s/676),l=this._dictionary[h]+this._dictionary[f]+this._dictionary[c],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=3}},l2n(o){if(this._l2n[o]||this._fill(o.length),!this._l2n[o])throw new Error("Out of bounds. Invalid column letter: "+o);return this._l2n[o]},n2l(o){if(o<1||o>16384)throw new Error(o+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[o]||this._fill(this._level(o)),this._n2l[o]},_hash:{},validateAddress(o){if(!n.test(o))throw new Error("Invalid Address: "+o);return!0},decodeAddress(o){const l=o.length<5&&this._hash[o];if(l)return l;let s=!1,c="",f=0,h=!1,d="",p=0;for(let m,b=0;b<o.length;b++)if(m=o.charCodeAt(b),!h&&m>=65&&m<=90)s=!0,c+=o[b],f=26*f+m-64;else if(m>=48&&m<=57)h=!0,d+=o[b],p=10*p+m-48;else if(h&&s&&m!==36)break;if(s){if(f>16384)throw new Error("Out of bounds. Invalid column letter: "+c)}else f=void 0;h||(p=void 0);const g={address:o=c+d,col:f,row:p,$col$row:`$${c}$${d}`};return f<=100&&p<=100&&(this._hash[o]=g,this._hash[g.$col$row]=g),g},getAddress(o,l){if(l){const s=this.n2l(l)+o;return this.decodeAddress(s)}return this.decodeAddress(o)},decode(o){const l=o.split(":");if(l.length===2){const s=this.decodeAddress(l[0]),c=this.decodeAddress(l[1]),f={top:Math.min(s.row,c.row),left:Math.min(s.col,c.col),bottom:Math.max(s.row,c.row),right:Math.max(s.col,c.col)};return f.tl=this.n2l(f.left)+f.top,f.br=this.n2l(f.right)+f.bottom,f.dimensions=`${f.tl}:${f.br}`,f}return this.decodeAddress(o)},decodeEx(o){const l=o.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),s=l[1]||l[2],c=l[3],f=c.split(":");if(f.length>1){let d=this.decodeAddress(f[0]),p=this.decodeAddress(f[1]);const g=Math.min(d.row,p.row),m=Math.min(d.col,p.col),b=Math.max(d.row,p.row),y=Math.max(d.col,p.col);return d=this.n2l(m)+g,p=this.n2l(y)+b,{top:g,left:m,bottom:b,right:y,sheetName:s,tl:{address:d,col:m,row:g,$col$row:`$${this.n2l(m)}$${g}`,sheetName:s},br:{address:p,col:y,row:b,$col$row:`$${this.n2l(y)}$${b}`,sheetName:s},dimensions:`${d}:${p}`}}if(c.startsWith("#"))return s?{sheetName:s,error:c}:{error:c};const h=this.decodeAddress(c);return s?{sheetName:s,...h}:h},encodeAddress:(o,l)=>i.n2l(l)+o,encode(){switch(arguments.length){case 2:return i.encodeAddress(arguments[0],arguments[1]);case 4:return`${i.encodeAddress(arguments[0],arguments[1])}:${i.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(o,l){const[s,c,,f,h]=o,[d,p]=l;return d>=s&&d<=f&&p>=c&&p<=h}};r.exports=i},{}],20:[function(t,r,a){const n=(o,l)=>({...o,...l.reduce((s,c)=>(o[c]&&(s[c]={...o[c]}),s),{})}),i=function(o,l,s){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];o[s]&&(l[s]=n(o[s],c))};a.copyStyle=o=>{if(!o)return o;if(l=o,Object.keys(l).length===0)return{};var l;const s={...o};return i(o,s,"font",["color"]),i(o,s,"alignment"),i(o,s,"protection"),o.border&&(i(o,s,"border"),i(o.border,s.border,"top",["color"]),i(o.border,s.border,"left",["color"]),i(o.border,s.border,"bottom",["color"]),i(o.border,s.border,"right",["color"]),i(o.border,s.border,"diagonal",["color"])),o.fill&&(i(o,s,"fill",["fgColor","bgColor","center"]),o.fill.stops&&(s.fill.stops=o.fill.stops.map(c=>n(c,["color"])))),s}},{}],21:[function(t,r,a){(function(n){(function(){const i=t("crypto"),o={hash(l){const s=i.createHash(l);for(var c=arguments.length,f=new Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];return s.update(n.concat(f)),s.digest()},convertPasswordToHash(l,s,c,f){if(s=s.toLowerCase(),i.getHashes().indexOf(s)<0)throw new Error(`Hash algorithm '${s}' not supported!`);const h=n.from(l,"utf16le");let d=this.hash(s,n.from(c,"base64"),h);for(let p=0;p<f;p++){const g=n.alloc(4);g.writeUInt32LE(p,0),d=this.hash(s,d,g)}return d.toString("base64")},randomBytes:l=>i.randomBytes(l)};r.exports=o}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,r,a){const{SaxesParser:n}=t("saxes"),{PassThrough:i}=t("readable-stream"),{bufferToString:o}=t("./browser-buffer-decode");r.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new i));const s=new n;let c;s.on("error",h=>{c=h});let f=[];s.on("opentag",h=>f.push({eventType:"opentag",value:h})),s.on("text",h=>f.push({eventType:"text",value:h})),s.on("closetag",h=>f.push({eventType:"closetag",value:h}));for await(const h of l){if(s.write(o(h)),c)throw c;yield f,f=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,r,a){const n=t("./col-cache"),i=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;r.exports={slideFormula:function(l,s,c){const f=n.decode(s),h=n.decode(c);return l.replace(i,(d,p,g,m,b)=>{if(b)return d;const y=o.exec(m);if(y){const x=y[1],k=y[2].toUpperCase(),M=y[3],I=y[4];if(k.length>3||k.length===3&&k>"XFD")return d;let B=n.l2n(k),j=parseInt(I,10);return x||(B+=h.col-f.col),M||(j+=h.row-f.row),(p||"")+(x||"")+n.n2l(B)+(M||"")+j}return d})}}},{"./col-cache":19}],24:[function(t,r,a){(function(n,i){(function(){const o=t("readable-stream"),l=t("./utils"),s=t("./string-buf");class c{constructor(m,b){this._data=m,this._encoding=b}get length(){return this.toBuffer().length}copy(m,b,y,x){return this.toBuffer().copy(m,b,y,x)}toBuffer(){return this._buffer||(this._buffer=i.from(this._data,this._encoding)),this._buffer}}class f{constructor(m){this._data=m}get length(){return this._data.length}copy(m,b,y,x){return this._data._buf.copy(m,b,y,x)}toBuffer(){return this._data.toBuffer()}}class h{constructor(m){this._data=m}get length(){return this._data.length}copy(m,b,y,x){this._data.copy(m,b,y,x)}toBuffer(){return this._data}}class d{constructor(m){this.size=m,this.buffer=i.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=i.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let b;return m===0?null:m===void 0||m>=this.length?(b=this.toBuffer(),this.iRead=this.iWrite,b):(b=i.alloc(m),this.buffer.copy(b,0,this.iRead,m),this.iRead+=m,b)}write(m,b,y){const x=Math.min(y,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,b,b+x),this.iWrite+=x,x}}const p=function(g){g=g||{},this.bufSize=g.bufSize||1048576,this.buffers=[],this.batch=g.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(p,o.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return i.concat(this.buffers.map(g=>g.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const g=new d(this.bufSize);return this.buffers.push(g),g},async _pipe(g){await Promise.all(this.pipes.map(function(m){return new Promise(b=>{m.write(g.toBuffer(),()=>{b()})})}))},_writeToBuffers(g){let m=0;const b=g.length;for(;m<b;)m+=this._getWritableBuffer().write(g,m,b-m)},async write(g,m,b){let y;if(m instanceof Function&&(b=m,m="utf8"),b=b||l.nop,g instanceof s)y=new f(g);else if(g instanceof i)y=new h(g);else{if(!(typeof g=="string"||g instanceof String||g instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");y=new c(g,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(y);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(y),n.nextTick(b)):(await this._pipe(y),b());else this.paused||this.emit("data",y.toBuffer()),this._writeToBuffers(y),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(g,m,b){const y=x=>{x?b(x):(this._flush(),this.pipes.forEach(k=>{k.end()}),this.emit("finish"))};g?this.write(g,m,y):y()},read(g){let m;if(g){for(m=[];g&&this.buffers.length&&!this.buffers[0].eod;){const b=this.buffers[0],y=b.read(g);g-=y.length,m.push(y),b.eod&&b.full&&this.buffers.shift()}return i.concat(m)}return m=this.buffers.map(b=>b.toBuffer()).filter(Boolean),this.buffers=[],i.concat(m)},setEncoding(g){this.encoding=g},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(g){this.pipes.push(g),!this.paused&&this.buffers.length&&this.end()},unpipe(g){this.pipes=this.pipes.filter(m=>m!==g)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),r.exports=p}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,r,a){(function(n){(function(){r.exports=class{constructor(i){this._buf=n.alloc(i&&i.size||16384),this._encoding=i&&i.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=n.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(i){i=i||0,this._buffer=void 0,this._inPos=i}_grow(i){let o=2*this._buf.length;for(;o<i;)o*=2;const l=n.alloc(o);this._buf.copy(l,0),this._buf=l}addText(i){this._buffer=void 0;let o=this._inPos+this._buf.write(i,this._inPos,this._encoding);for(;o>=this._buf.length-4;)this._grow(this._inPos+i.length),o=this._inPos+this._buf.write(i,this._inPos,this._encoding);this._inPos=o}addStringBuf(i){i.length&&(this._buffer=void 0,this.length+i.length>this.capacity&&this._grow(this.length+i.length),i._buf.copy(this._buf,this._inPos,0,i.length),this._inPos+=i.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,r,a){const{toString:n}=Object.prototype,i=/["&<>]/,o={each:function(l,s){l&&(Array.isArray(l)?l.forEach(s):Object.keys(l).forEach(c=>{s(l[c],c)}))},some:function(l,s){return!!l&&(Array.isArray(l)?l.some(s):Object.keys(l).some(c=>s(l[c],c)))},every:function(l,s){return!l||(Array.isArray(l)?l.every(s):Object.keys(l).every(c=>s(l[c],c)))},map:function(l,s){return l?Array.isArray(l)?l.map(s):Object.keys(l).map(c=>s(l[c],c)):[]},keyBy:(l,s)=>l.reduce((c,f)=>(c[f[s]]=f,c),{}),isEqual:function(l,s){const c=typeof l,f=typeof s,h=Array.isArray(l),d=Array.isArray(s);let p;if(c!==f)return!1;switch(typeof l){case"object":if(h||d)return!(!h||!d)&&l.length===s.length&&l.every((g,m)=>{const b=s[m];return o.isEqual(g,b)});if(l===null||s===null)return l===s;if(p=Object.keys(l),Object.keys(s).length!==p.length)return!1;for(const g of p)if(!s.hasOwnProperty(g))return!1;return o.every(l,(g,m)=>{const b=s[m];return o.isEqual(g,b)});default:return l===s}},escapeHtml(l){const s=i.exec(l);if(!s)return l;let c="",f="",h=0,d=s.index;for(;d<l.length;d++){switch(l.charAt(d)){case'"':f="&quot;";break;case"&":f="&amp;";break;case"'":f="&apos;";break;case"<":f="&lt;";break;case">":f="&gt;";break;default:continue}h!==d&&(c+=l.substring(h,d)),h=d+1,c+=f}return h!==d?c+l.substring(h,d):c},strcmp:(l,s)=>l<s?-1:l>s?1:0,isUndefined:l=>n.call(l)==="[object Undefined]",isObject:l=>n.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:s}=arguments;let c,f,h;function d(p,g){c=l[g],h=Array.isArray(p),o.isObject(p)||h?(h?(h=!1,f=c&&Array.isArray(c)?c:[]):f=c&&o.isObject(c)?c:{},l[g]=o.deepMerge(f,p)):o.isUndefined(p)||(l[g]=p)}for(let p=0;p<s;p++)o.each(arguments[p],d);return l}};r.exports=o},{}],27:[function(t,r,a){(function(n,i){(function(){const o=t("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,s={nop(){},promiseImmediate:c=>new Promise(f=>{n.setImmediate?i(()=>{f(c)}):setTimeout(()=>{f(c)},1)}),inherits:function(c,f,h,d){c.super_=f,d||(d=h,h=null),h&&Object.keys(h).forEach(g=>{Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(h,g))});const p={constructor:{value:c,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(g=>{p[g]=Object.getOwnPropertyDescriptor(d,g)}),c.prototype=Object.create(f.prototype,p)},dateToExcel:(c,f)=>25569+c.getTime()/864e5-(f?1462:0),excelToDate(c,f){const h=Math.round(24*(c-25569+(f?1462:0))*3600*1e3);return new Date(h)},parsePath(c){const f=c.lastIndexOf("/");return{path:c.substring(0,f),name:c.substring(f+1)}},getRelsPath(c){const f=s.parsePath(c);return`${f.path}/_rels/${f.name}.rels`},xmlEncode(c){const f=l.exec(c);if(!f)return c;let h="",d="",p=0,g=f.index;for(;g<c.length;g++){const m=c.charCodeAt(g);switch(m){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){d="";break}continue}p!==g&&(h+=c.substring(p,g)),p=g+1,d&&(h+=d)}return p!==g?h+c.substring(p,g):h},xmlDecode:c=>c.replace(/&([a-z]*);/g,f=>{switch(f){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return f}}),validInt(c){const f=parseInt(c,10);return Number.isNaN(f)?0:f},isDateFmt(c){return c?(c=(c=c.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:c=>new Promise(f=>{o.access(c,o.constants.F_OK,h=>{f(!h)})})},toIsoDateString:c=>c.toIsoString().subsstr(0,10),parseBoolean:c=>c===!0||c==="true"||c===1||c==="1"};r.exports=s}).call(this)}).call(this,typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,r,a){const n=t("./under-dash"),i=t("./utils");function o(c,f,h){c.push(` ${f}="${i.xmlEncode(h.toString())}"`)}function l(c,f){if(f){const h=[];n.each(f,(d,p)=>{d!==void 0&&o(h,p,d)}),c.push(h.join(""))}}class s{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(f){const h=this._xml;h.push("<?xml"),l(h,f),h.push(`?>
`)}openNode(f,h){const d=this.tos,p=this._xml;d&&this.open&&p.push(">"),this._stack.push(f),p.push("<"),p.push(f),l(p,h),this.leaf=!0,this.open=!0}addAttribute(f,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&o(this._xml,f,h)}addAttributes(f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,f)}writeText(f){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(i.xmlEncode(f.toString()))}writeXml(f){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(f)}closeNode(){const f=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(f),h.push(">")),this.open=!1,this.leaf=!1}leafNode(f,h,d){this.openNode(f,h),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const f=this._rollbacks.pop();this._xml.length>f.xml&&this._xml.splice(f.xml,this._xml.length-f.xml),this._stack.length>f.stack&&this._stack.splice(f.stack,this._stack.length-f.stack),this.leaf=f.leaf,this.open=f.open}get xml(){return this.closeAll(),this._xml.join("")}}s.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},r.exports=s},{"./under-dash":26,"./utils":27}],29:[function(t,r,a){(function(n){(function(){const i=t("events"),o=t("jszip"),l=t("./stream-buf"),{stringToBuffer:s}=t("./browser-buffer-encode");class c extends i.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new o,this.stream=new l}append(h,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,h,{base64:!0}):(n.browser&&typeof h=="string"&&(h=s(h)),this.zip.file(d.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,d){return this.stream.pipe(h,d)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}r.exports={ZipWriter:c}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,r,a){r.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,r,a){r.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,r,a){const n=t("../../utils/parse-sax"),i=t("../../utils/xml-stream");class o{prepare(){}render(){}parseOpen(s){}parseText(s){}parseClose(s){}reconcile(s,c){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(s=>{s instanceof o?s.reset():s.xform&&s.xform.reset()})}mergeModel(s){this.model=Object.assign(this.model||{},s)}async parse(s){for await(const c of s)for(const{eventType:f,value:h}of c)if(f==="opentag")this.parseOpen(h);else if(f==="text")this.parseText(h);else if(f==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(s){return this.parse(n(s))}get xml(){return this.toXml(this.model)}toXml(s){const c=new i;return this.render(c,s),c.xml}static toAttribute(s,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(s===void 0){if(f)return c}else if(f||s!==c)return s.toString()}static toStringAttribute(s,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(s,c,f)}static toStringValue(s,c){return s===void 0?c:s}static toBoolAttribute(s,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(s===void 0){if(f)return c}else if(f||s!==c)return s?"1":"0"}static toBoolValue(s,c){return s===void 0?c:s==="1"}static toIntAttribute(s,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(s,c,f)}static toIntValue(s,c){return s===void 0?c:parseInt(s,10)}static toFloatAttribute(s,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(s,c,f)}static toFloatValue(s,c){return s===void 0?c:parseFloat(s)}}r.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,r,a){const n=t("../base-xform"),i=t("../../../utils/col-cache");function o(s){try{return i.decodeEx(s),!0}catch{return!1}}function l(s){const c=[];let f=!1,h="";return s.split(",").forEach(d=>{if(!d)return;const p=(d.match(/'/g)||[]).length;if(!p)return void(f?h+=d+",":o(d)&&c.push(d));const g=p%2==0;!f&&g&&o(d)?c.push(d):f&&!g?(f=!1,o(h+d)&&c.push(h+d),h=""):(f=!0,h+=d+",")}),c}r.exports=class extends n{render(s,c){s.openNode("definedName",{name:c.name,localSheetId:c.localSheetId}),s.writeText(c.ranges.join(",")),s.closeNode()}parseOpen(s){switch(s.name){case"definedName":return this._parsedName=s.attributes.name,this._parsedLocalSheetId=s.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(s){this._parsedText.push(s)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,r,a){const n=t("../../../utils/utils"),i=t("../base-xform");r.exports=class extends i{render(o,l){o.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(o){return o.name==="sheet"&&(this.model={name:n.xmlDecode(o.attributes.name),id:parseInt(o.attributes.sheetId,10),state:o.attributes.state,rId:o.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{render(i,o){i.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:o.fullCalcOnLoad?1:void 0})}parseOpen(i){return i.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{render(i,o){i.leafNode("workbookPr",{date1904:o.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(i){return i.name==="workbookPr"&&(this.model={date1904:i.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{render(i,o){const l={xWindow:o.x||0,yWindow:o.y||0,windowWidth:o.width||12e3,windowHeight:o.height||24e3,firstSheet:o.firstSheet,activeTab:o.activeTab};o.visibility&&o.visibility!=="visible"&&(l.visibility=o.visibility),i.leafNode("workbookView",l)}parseOpen(i){if(i.name==="workbookView"){const o=this.model={},l=function(c,f,h){const d=f!==void 0?o[c]=f:h;d!==void 0&&(o[c]=d)},s=function(c,f,h){const d=f!==void 0?o[c]=parseInt(f,10):h;d!==void 0&&(o[c]=d)};return s("x",i.attributes.xWindow,0),s("y",i.attributes.yWindow,0),s("width",i.attributes.windowWidth,25e3),s("height",i.attributes.windowHeight,1e4),l("visibility",i.attributes.visibility,"visible"),s("activeTab",i.attributes.activeTab,void 0),s("firstSheet",i.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,r,a){const n=t("../../../utils/under-dash"),i=t("../../../utils/col-cache"),o=t("../../../utils/xml-stream"),l=t("../base-xform"),s=t("../static-xform"),c=t("../list-xform"),f=t("./defined-name-xform"),h=t("./sheet-xform"),d=t("./workbook-view-xform"),p=t("./workbook-properties-xform"),g=t("./workbook-calc-properties-xform");class m extends l{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new p,bookViews:new c({tag:"bookViews",count:!1,childXform:new d}),sheets:new c({tag:"sheets",count:!1,childXform:new h}),definedNames:new c({tag:"definedNames",count:!1,childXform:new f}),calcPr:new g}}prepare(y){y.sheets=y.worksheets;const x=[];let k=0;y.sheets.forEach(M=>{if(M.pageSetup&&M.pageSetup.printArea&&M.pageSetup.printArea.split("&&").forEach(I=>{const B=I.split(":"),j={name:"_xlnm.Print_Area",ranges:[`'${M.name}'!$${B[0]}:$${B[1]}`],localSheetId:k};x.push(j)}),M.pageSetup&&(M.pageSetup.printTitlesRow||M.pageSetup.printTitlesColumn)){const I=[];if(M.pageSetup.printTitlesColumn){const j=M.pageSetup.printTitlesColumn.split(":");I.push(`'${M.name}'!$${j[0]}:$${j[1]}`)}if(M.pageSetup.printTitlesRow){const j=M.pageSetup.printTitlesRow.split(":");I.push(`'${M.name}'!$${j[0]}:$${j[1]}`)}const B={name:"_xlnm.Print_Titles",ranges:I,localSheetId:k};x.push(B)}k++}),x.length&&(y.definedNames=y.definedNames.concat(x)),(y.media||[]).forEach((M,I)=>{M.name=M.type+(I+1)})}render(y,x){y.openXml(o.StdDocAttributes),y.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(y),this.map.workbookPr.render(y,x.properties),this.map.bookViews.render(y,x.views),this.map.sheets.render(y,x.sheets),this.map.definedNames.render(y,x.definedNames),this.map.calcPr.render(y,x.calcProperties),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"workbook":return!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(y){const x=(y.workbookRels||[]).reduce((j,F)=>(j[F.Id]=F,j),{}),k=[];let M,I=0;(y.sheets||[]).forEach(j=>{const F=x[j.rId];F&&(M=y.worksheetHash["xl/"+F.Target.replace(/^(\s|\/xl\/)+/,"")],M&&(M.name=j.name,M.id=j.id,M.state=j.state,k[I++]=M))});const B=[];n.each(y.definedNames,j=>{if(j.name==="_xlnm.Print_Area"){if(M=k[j.localSheetId],M){M.pageSetup||(M.pageSetup={});const F=i.decodeEx(j.ranges[0]);M.pageSetup.printArea=M.pageSetup.printArea?`${M.pageSetup.printArea}&&${F.dimensions}`:F.dimensions}}else if(j.name==="_xlnm.Print_Titles"){if(M=k[j.localSheetId],M){M.pageSetup||(M.pageSetup={});const F=j.ranges.join(","),z=/\$/g,$=/\$\d+:\$\d+/,H=F.match($);if(H&&H.length){const A=H[0];M.pageSetup.printTitlesRow=A.replace(z,"")}const C=/\$[A-Z]+:\$[A-Z]+/,O=F.match(C);if(O&&O.length){const A=O[0];M.pageSetup.printTitlesColumn=A.replace(z,"")}}}else B.push(j)}),y.definedNames=B,y.media.forEach((j,F)=>{j.index=F})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new s({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},r.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,r,a){const n=t("../strings/rich-text-xform"),i=t("../../../utils/utils"),o=t("../base-xform"),l=r.exports=function(s){this.model=s};i.inherits(l,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new n),this._richTextXform},render(s,c){c=c||this.model,s.openNode("comment",{ref:c.ref,authorId:0}),s.openNode("text"),c&&c.note&&c.note.texts&&c.note.texts.forEach(f=>{this.richTextXform.render(s,f)}),s.closeNode(),s.closeNode()},parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"comment":return this.model={type:"note",note:{texts:[]},...s.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(s),!0;default:return!1}},parseText(s){this.parser&&this.parser.parseText(s)},parseClose(s){switch(s){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(s),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,r,a){const n=t("../../../utils/xml-stream"),i=t("../../../utils/utils"),o=t("../base-xform"),l=t("./comment-xform"),s=r.exports=function(){this.map={comment:new l}};i.inherits(s,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(c,f){f=f||this.model,c.openXml(n.StdDocAttributes),c.openNode("comments",s.COMMENTS_ATTRIBUTES),c.openNode("authors"),c.leafNode("author",null,"Author"),c.closeNode(),c.openNode("commentList"),f.comments.forEach(h=>{this.map.comment.render(c,h)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,r,a){const n=t("../../base-xform");r.exports=class extends n{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,o,l){(o===l[2]||this.tag==="x:SizeWithCells"&&o===l[1])&&i.leafNode(this.tag)}parseOpen(i){switch(i.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,r,a){const n=t("../../base-xform");r.exports=class extends n{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,o){i.leafNode(this.tag,null,o)}parseOpen(i){switch(i.name){case this.tag:return this.text="",!0;default:return!1}}parseText(i){this.text=i}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"x:Anchor"}getAnchorRect(i){const o=Math.floor(i.left),l=Math.floor(68*(i.left-o)),s=Math.floor(i.top),c=Math.floor(18*(i.top-s)),f=Math.floor(i.right),h=Math.floor(68*(i.right-f)),d=Math.floor(i.bottom);return[o,l,s,c,f,h,d,Math.floor(18*(i.bottom-d))]}getDefaultRect(i){const o=i.col,l=Math.max(i.row-2,0);return[o,6,l,14,o+2,2,l+4,16]}render(i,o){const l=o.anchor?this.getAnchorRect(o.anchor):this.getDefaultRect(o.refAddress);i.leafNode("x:Anchor",null,l.join(", "))}parseOpen(i){switch(i.name){case this.tag:return this.text="",!0;default:return!1}}parseText(i){this.text=i}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,r,a){const n=t("../base-xform"),i=t("./vml-anchor-xform"),o=t("./style/vml-protection-xform"),l=t("./style/vml-position-xform"),s=["twoCells","oneCells","absolute"];r.exports=class extends n{constructor(){super(),this.map={"x:Anchor":new i,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(c,f){const{protection:h,editAs:d}=f.note;c.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(c,d,s),this.map["x:SizeWithCells"].render(c,d,s),this.map["x:Anchor"].render(c,f),this.map["x:Locked"].render(c,h.locked),c.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(c,h.lockText),c.leafNode("x:Row",null,f.refAddress.row-1),c.leafNode("x:Column",null,f.refAddress.col-1),c.closeNode()}parseOpen(c){switch(c.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const c=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),f=Object.keys(c).length;this.model.editAs=s[f],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,r,a){const n=t("../../../utils/xml-stream"),i=t("../base-xform"),o=t("./vml-shape-xform");class l extends i{constructor(){super(),this.map={"v:shape":new o}}get tag(){return"xml"}render(c,f){c.openXml(n.StdDocAttributes),c.openNode(this.tag,l.DRAWING_ATTRIBUTES),c.openNode("o:shapelayout",{"v:ext":"edit"}),c.leafNode("o:idmap",{"v:ext":"edit",data:1}),c.closeNode(),c.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),c.leafNode("v:stroke",{joinstyle:"miter"}),c.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),c.closeNode(),f.comments.forEach((h,d)=>{this.map["v:shape"].render(c,h,d)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,f){c.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,f):this.map["xdr:oneCellAnchor"].reconcile(h,f)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},r.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,r,a){const n=t("../base-xform"),i=t("./vml-textbox-xform"),o=t("./vml-client-data-xform");class l extends n{constructor(){super(),this.map={"v:textbox":new i,"x:ClientData":new o}}get tag(){return"v:shape"}render(c,f,h){c.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(f,h)),c.leafNode("v:fill",{color2:"infoBackground [80]"}),c.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),c.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(c,f),this.map["x:ClientData"].render(c,f),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={margins:{insetmode:c.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(s,c)=>({id:"_x0000_s"+(1025+c),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":s.note.margins&&s.note.margins.insetmode}),r.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"v:textbox"}conversionUnit(i,o,l){return`${parseFloat(i)*o.toFixed(2)}${l}`}reverseConversionUnit(i){return(i||"").split(",").map(o=>Number(parseFloat(this.conversionUnit(parseFloat(o),.1,"")).toFixed(2)))}render(i,o){const l={style:"mso-direction-alt:auto"};if(o&&o.note){let{inset:s}=o.note&&o.note.margins;Array.isArray(s)&&(s=s.map(c=>this.conversionUnit(c,10,"mm")).join(",")),s&&(l.inset=s)}i.openNode("v:textbox",l),i.leafNode("div",{style:"text-align:left"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:return this.model={inset:this.reverseConversionUnit(i.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(t,r,a){const n=t("./base-xform");r.exports=class extends n{createNewModel(i){return{}}parseOpen(i){return this.parser=this.parser||this.map[i.name],this.parser?(this.parser.parseOpen(i),!0):i.name===this.tag&&(this.model=this.createNewModel(i),!0)}parseText(i){this.parser&&this.parser.parseText(i)}onParserClose(i,o){this.model[i]=o.model}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.onParserClose(i,this.parser),this.parser=void 0),!0):i!==this.tag}}},{"./base-xform":32}],49:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{render(i,o){i.openNode("HeadingPairs"),i.openNode("vt:vector",{size:2,baseType:"variant"}),i.openNode("vt:variant"),i.leafNode("vt:lpstr",void 0,"Worksheets"),i.closeNode(),i.openNode("vt:variant"),i.leafNode("vt:i4",void 0,o.length),i.closeNode(),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="HeadingPairs"}parseText(){}parseClose(i){return i!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{render(i,o){i.openNode("TitlesOfParts"),i.openNode("vt:vector",{size:o.length,baseType:"lpstr"}),o.forEach(l=>{i.leafNode("vt:lpstr",void 0,l.name)}),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="TitlesOfParts"}parseText(){}parseClose(i){return i!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,r,a){const n=t("../../../utils/xml-stream"),i=t("../base-xform"),o=t("../simple/string-xform"),l=t("./app-heading-pairs-xform"),s=t("./app-titles-of-parts-xform");class c extends i{constructor(){super(),this.map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new s}}render(h,d){h.openXml(n.StdDocAttributes),h.openNode("Properties",c.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,d.worksheets),this.map.TitleOfParts.render(h,d.worksheets),this.map.Company.render(h,d.company||""),this.map.Manager.render(h,d.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}c.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3,6}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},r.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,r,a){const n=t("../../../utils/xml-stream"),i=t("../base-xform");class o extends i{render(s,c){s.openXml(n.StdDocAttributes),s.openNode("Types",o.PROPERTY_ATTRIBUTES);const f={};(c.media||[]).forEach(h=>{if(h.type==="image"){const d=h.extension;f[d]||(f[d]=!0,s.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),s.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),s.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),s.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),c.worksheets.forEach(h=>{const d=`/xl/worksheets/sheet${h.id}.xml`;s.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),s.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),s.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),c.sharedStrings&&c.sharedStrings.count&&s.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),c.tables&&c.tables.forEach(h=>{s.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),c.drawings&&c.drawings.forEach(h=>{s.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),c.commentRefs&&(s.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),c.commentRefs.forEach(h=>{let{commentName:d}=h;s.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),s.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),s.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),s.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}o.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},r.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,r,a){const n=t("../../../utils/xml-stream"),i=t("../base-xform"),o=t("../simple/date-xform"),l=t("../simple/string-xform"),s=t("../simple/integer-xform");class c extends i{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:c.DateFormat}),"cp:revision":new s({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:c.DateAttrs,format:c.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:c.DateAttrs,format:c.DateFormat})}}render(h,d){h.openXml(n.StdDocAttributes),h.openNode("cp:coreProperties",c.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,d.creator),this.map["dc:title"].render(h,d.title),this.map["dc:subject"].render(h,d.subject),this.map["dc:description"].render(h,d.description),this.map["dc:identifier"].render(h,d.identifier),this.map["dc:language"].render(h,d.language),this.map["cp:keywords"].render(h,d.keywords),this.map["cp:category"].render(h,d.category),this.map["cp:lastModifiedBy"].render(h,d.lastModifiedBy),this.map["cp:lastPrinted"].render(h,d.lastPrinted),this.map["cp:revision"].render(h,d.revision),this.map["cp:version"].render(h,d.version),this.map["cp:contentStatus"].render(h,d.contentStatus),this.map["cp:contentType"].render(h,d.contentType),this.map["dcterms:created"].render(h,d.created),this.map["dcterms:modified"].render(h,d.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}c.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},r.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{render(i,o){i.leafNode("Relationship",o)}parseOpen(i){switch(i.name){case"Relationship":return this.model=i.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,r,a){const n=t("../../../utils/xml-stream"),i=t("../base-xform"),o=t("./relationship-xform");class l extends i{constructor(){super(),this.map={Relationship:new o}}render(c,f){f=f||this._values,c.openXml(n.StdDocAttributes),c.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),f.forEach(h=>{this.map.Relationship.render(c,h)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(c){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},r.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset(),this.model={range:{editAs:i.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(i){this.parser&&this.parser.parseText(i)}reconcilePicture(i,o){if(i&&i.rId){const l=o.rels[i.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const s=l[1],c=o.mediaIndex[s];return o.media[c]}}}}},{"../base-xform":32}],57:[function(t,r,a){const n=t("../base-xform"),i=t("./blip-xform");r.exports=class extends n{constructor(){super(),this.map={"a:blip":new i}}get tag(){return"xdr:blipFill"}render(o,l){o.openNode(this.tag),this.map["a:blip"].render(o,l),o.openNode("a:stretch"),o.leafNode("a:fillRect"),o.closeNode(),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"a:blip"}render(i,o){i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":o.rId,cstate:"print"})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"xdr:cNvPicPr"}render(i){i.openNode(this.tag),i.leafNode("a:picLocks",{noChangeAspect:"1"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(t,r,a){const n=t("../base-xform"),i=t("./hlink-click-xform"),o=t("./ext-lst-xform");r.exports=class extends n{constructor(){super(),this.map={"a:hlinkClick":new i,"a:extLst":new o}}get tag(){return"xdr:cNvPr"}render(l,s){l.openNode(this.tag,{id:s.index,name:"Picture "+s.index}),this.map["a:hlinkClick"].render(l,s),this.map["a:extLst"].render(l,s),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,r,a){const n=t("../base-xform"),i=t("../simple/integer-xform");r.exports=class extends n{constructor(o){super(),this.tag=o.tag,this.map={"xdr:col":new i({tag:"xdr:col",zero:!0}),"xdr:colOff":new i({tag:"xdr:colOff",zero:!0}),"xdr:row":new i({tag:"xdr:row",zero:!0}),"xdr:rowOff":new i({tag:"xdr:rowOff",zero:!0})}}render(o,l){o.openNode(this.tag),this.map["xdr:col"].render(o,l.nativeCol),this.map["xdr:colOff"].render(o,l.nativeColOff),this.map["xdr:row"].render(o,l.nativeRow),this.map["xdr:rowOff"].render(o,l.nativeRowOff),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,r,a){const n=t("../../../utils/col-cache"),i=t("../../../utils/xml-stream"),o=t("../base-xform"),l=t("./two-cell-anchor-xform"),s=t("./one-cell-anchor-xform");class c extends o{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new s}}prepare(h){h.anchors.forEach((d,p)=>{d.anchorType=function(g){return(typeof g.range=="string"?n.decode(g.range):g.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(d),this.map[d.anchorType].prepare(d,{index:p})})}get tag(){return"xdr:wsDr"}render(h,d){h.openXml(i.StdDocAttributes),h.openNode(this.tag,c.DRAWING_ATTRIBUTES),d.anchors.forEach(p=>{this.map[p.anchorType].render(h,p)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,d){h.anchors.forEach(p=>{p.br?this.map["xdr:twoCellAnchor"].reconcile(p,d):this.map["xdr:oneCellAnchor"].reconcile(p,d)})}}c.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},r.exports=c},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"a:extLst"}render(i){i.openNode(this.tag),i.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),i.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),i.closeNode(),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{constructor(i){super(),this.tag=i.tag,this.map={}}render(i,o){i.openNode(this.tag);const l=Math.floor(9525*o.width),s=Math.floor(9525*o.height);i.addAttribute("cx",l),i.addAttribute("cy",s),i.closeNode()}parseOpen(i){return i.name===this.tag&&(this.model={width:parseInt(i.attributes.cx||"0",10)/9525,height:parseInt(i.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"a:hlinkClick"}render(i,o){o.hyperlinks&&o.hyperlinks.rId&&i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":o.hyperlinks.rId,tooltip:o.hyperlinks.tooltip})}parseOpen(i){switch(i.name){case this.tag:return this.model={hyperlinks:{rId:i.attributes["r:id"],tooltip:i.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,r,a){const n=t("../base-xform"),i=t("./c-nv-pr-xform"),o=t("./c-nv-pic-pr-xform");r.exports=class extends n{constructor(){super(),this.map={"xdr:cNvPr":new i,"xdr:cNvPicPr":new o}}get tag(){return"xdr:nvPicPr"}render(l,s){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,s),this.map["xdr:cNvPicPr"].render(l,s),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,r,a){const n=t("./base-cell-anchor-xform"),i=t("../static-xform"),o=t("./cell-position-xform"),l=t("./ext-xform"),s=t("./pic-xform");r.exports=class extends n{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new s,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(c,f){this.map["xdr:pic"].prepare(c.picture,f)}render(c,f){c.openNode(this.tag,{editAs:f.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,f.range.tl),this.map["xdr:ext"].render(c,f.range.ext),this.map["xdr:pic"].render(c,f.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,f){c.medium=this.reconcilePicture(c.picture,f)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,r,a){const n=t("../base-xform"),i=t("../static-xform"),o=t("./blip-fill-xform"),l=t("./nv-pic-pr-xform"),s=t("./sp-pr");r.exports=class extends n{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new o,"xdr:spPr":new i(s)}}get tag(){return"xdr:pic"}prepare(c,f){c.index=f.index+1}render(c,f){c.openNode(this.tag),this.map["xdr:nvPicPr"].render(c,f),this.map["xdr:blipFill"].render(c,f),this.map["xdr:spPr"].render(c,f),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,r,a){r.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,r,a){const n=t("./base-cell-anchor-xform"),i=t("../static-xform"),o=t("./cell-position-xform"),l=t("./pic-xform");r.exports=class extends n{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(s,c){this.map["xdr:pic"].prepare(s.picture,c)}render(s,c){s.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(s,c.range.tl),this.map["xdr:to"].render(s,c.range.br),this.map["xdr:pic"].render(s,c.picture),this.map["xdr:clientData"].render(s,{}),s.closeNode()}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(s,c){s.medium=this.reconcilePicture(s.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,r,a){const n=t("./base-xform");r.exports=class extends n{constructor(i){super(),this.tag=i.tag,this.always=!!i.always,this.count=i.count,this.empty=i.empty,this.$count=i.$count||"count",this.$=i.$,this.childXform=i.childXform,this.maxItems=i.maxItems}prepare(i,o){const{childXform:l}=this;i&&i.forEach((s,c)=>{o.index=c,l.prepare(s,o)})}render(i,o){if(this.always||o&&o.length){i.openNode(this.tag,this.$),this.count&&i.addAttribute(this.$count,o&&o.length||0);const{childXform:l}=this;(o||[]).forEach((s,c)=>{l.render(i,s,c)}),i.closeNode()}else this.empty&&i.leafNode(this.tag)}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(i)&&(this.parser=this.childXform,!0)}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(i,o){if(i){const{childXform:l}=this;i.forEach(s=>{l.reconcile(s,o)})}}}},{"./base-xform":32}],72:[function(t,r,a){const n=t("../../../utils/col-cache"),i=t("../base-xform");r.exports=class extends i{get tag(){return"autoFilter"}render(o,l){if(l)if(typeof l=="string")o.leafNode("autoFilter",{ref:l});else{const s=function(h){return typeof h=="string"?h:n.getAddress(h.row,h.column).address},c=s(l.from),f=s(l.to);c&&f&&o.leafNode("autoFilter",{ref:`${c}:${f}`})}}parseOpen(o){o.name==="autoFilter"&&(this.model=o.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,r,a){const n=t("../../../utils/utils"),i=t("../base-xform"),o=t("../../../doc/range"),l=t("../../../doc/enums"),s=t("../strings/rich-text-xform");function c(f){if(f==null)return l.ValueType.Null;if(f instanceof String||typeof f=="string")return l.ValueType.String;if(typeof f=="number")return l.ValueType.Number;if(typeof f=="boolean")return l.ValueType.Boolean;if(f instanceof Date)return l.ValueType.Date;if(f.text&&f.hyperlink)return l.ValueType.Hyperlink;if(f.formula)return l.ValueType.Formula;if(f.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}r.exports=class extends i{constructor(){super(),this.richTextXForm=new s}get tag(){return"c"}prepare(f,h){const d=h.styles.addStyleModel(f.style||{},function(p){switch(p.type){case l.ValueType.Formula:return c(p.result);default:return p.type}}(f));switch(d&&(f.styleId=d),f.comment&&h.comments.push({...f.comment,ref:f.address}),f.type){case l.ValueType.String:case l.ValueType.RichText:h.sharedStrings&&(f.ssId=h.sharedStrings.add(f.value));break;case l.ValueType.Date:h.date1904&&(f.date1904=!0);break;case l.ValueType.Hyperlink:h.sharedStrings&&f.text!==void 0&&f.text!==null&&(f.ssId=h.sharedStrings.add(f.text)),h.hyperlinks.push({address:f.address,target:f.hyperlink,tooltip:f.tooltip});break;case l.ValueType.Merge:h.merges.add(f);break;case l.ValueType.Formula:if(h.date1904&&(f.date1904=!0),f.shareType==="shared"&&(f.si=h.siFormulae++),f.formula)h.formulae[f.address]=f;else if(f.sharedFormula){const p=h.formulae[f.sharedFormula];if(!p)throw new Error("Shared Formula master must exist above and or left of clone for cell "+f.address);p.si===void 0?(p.shareType="shared",p.si=h.siFormulae++,p.range=new o(p.address,f.address)):p.range&&p.range.expandToAddress(f.address),f.si=p.si}}}renderFormula(f,h){let d=null;switch(h.shareType){case"shared":d={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":d={t:"array",ref:h.ref};break;default:h.si!==void 0&&(d={t:"shared",si:h.si})}switch(c(h.result)){case l.ValueType.Null:f.leafNode("f",d,h.formula);break;case l.ValueType.String:f.addAttribute("t","str"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result);break;case l.ValueType.Number:f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result?1:0);break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result.error);break;case l.ValueType.Date:f.leafNode("f",d,h.formula),f.leafNode("v",null,n.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(f,h){if(h.type!==l.ValueType.Null||h.styleId){switch(f.openNode("c"),f.addAttribute("r",h.address),h.styleId&&f.addAttribute("s",h.styleId),h.type){case l.ValueType.Null:break;case l.ValueType.Number:f.leafNode("v",null,h.value);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("v",null,h.value?"1":"0");break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("v",null,h.value.error);break;case l.ValueType.String:case l.ValueType.RichText:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(f.addAttribute("t","inlineStr"),f.openNode("is"),h.value.richText.forEach(d=>{this.richTextXForm.render(f,d)}),f.closeNode("is")):(f.addAttribute("t","str"),f.leafNode("v",null,h.value));break;case l.ValueType.Date:f.leafNode("v",null,n.dateToExcel(h.value,h.date1904));break;case l.ValueType.Hyperlink:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):(f.addAttribute("t","str"),f.leafNode("v",null,h.text));break;case l.ValueType.Formula:this.renderFormula(f,h);break;case l.ValueType.Merge:}f.closeNode()}}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"c":return this.model={address:f.attributes.r},this.t=f.attributes.t,f.attributes.s&&(this.model.styleId=parseInt(f.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=f.attributes.si,this.model.shareType=f.attributes.t,this.model.ref=f.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){if(this.parser)this.parser.parseText(f);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+f:f;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+f:f:this.model.value=this.model.value?this.model.value+f:f}}parseClose(f){switch(f){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=l.ValueType.Formula,h.value&&(this.t==="str"?h.result=n.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=l.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=l.ValueType.String,h.value=n.xmlDecode(h.value);break;case"inlineStr":h.type=l.ValueType.String;break;case"b":h.type=l.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=l.ValueType.Error,h.value={error:h.value};break;default:h.type=l.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=l.ValueType.Null:h.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(f),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(f),!0)}}reconcile(f,h){const d=f.styleId&&h.styles&&h.styles.getStyleModel(f.styleId);switch(d&&(f.style=d),f.styleId!==void 0&&(f.styleId=void 0),f.type){case l.ValueType.String:typeof f.value=="number"&&h.sharedStrings&&(f.value=h.sharedStrings.getString(f.value)),f.value.richText&&(f.type=l.ValueType.RichText);break;case l.ValueType.Number:d&&n.isDateFmt(d.numFmt)&&(f.type=l.ValueType.Date,f.value=n.excelToDate(f.value,h.date1904));break;case l.ValueType.Formula:f.result!==void 0&&d&&n.isDateFmt(d.numFmt)&&(f.result=n.excelToDate(f.result,h.date1904)),f.shareType==="shared"&&(f.ref?h.formulae[f.si]=f.address:(f.sharedFormula=h.formulae[f.si],delete f.shareType),delete f.si)}const p=h.hyperlinkMap[f.address];p&&(f.type===l.ValueType.Formula?(f.text=f.result,f.result=void 0):(f.text=f.value,f.value=void 0),f.type=l.ValueType.Hyperlink,f.hyperlink=p);const g=h.commentsMap&&h.commentsMap[f.address];g&&(f.comment=g)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,r,a){const n=t("../../base-xform");r.exports=class extends n{get tag(){return"x14:cfIcon"}render(i,o){i.leafNode(this.tag,{iconSet:o.iconSet,iconId:o.iconId})}parseOpen(i){let{attributes:o}=i;this.model={iconSet:o.iconSet,iconId:n.toIntValue(o.iconId)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],75:[function(t,r,a){const{v4:n}=t("uuid"),i=t("../../base-xform"),o=t("../../composite-xform"),l=t("./databar-ext-xform"),s=t("./icon-set-ext-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class f extends o{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new s}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?l.isExt(d):!(d.type!=="iconSet"||!d.custom&&!c[d.iconSet])}prepare(d){f.isExt(d)&&(d.x14Id=`{${n()}}`.toUpperCase())}render(d,p){if(f.isExt(p))switch(p.type){case"dataBar":this.renderDataBar(d,p);break;case"iconSet":this.renderIconSet(d,p)}}renderDataBar(d,p){d.openNode(this.tag,{type:"dataBar",id:p.x14Id}),this.databarXform.render(d,p),d.closeNode()}renderIconSet(d,p){d.openNode(this.tag,{type:"iconSet",priority:p.priority,id:p.x14Id||`{${n()}}`}),this.iconSetXform.render(d,p),d.closeNode()}createNewModel(d){let{attributes:p}=d;return{type:p.type,x14Id:p.id,priority:i.toIntValue(p.priority)}}onParserClose(d,p){Object.assign(this.model,p.model)}}r.exports=f},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,r,a){const n=t("../../composite-xform"),i=t("./f-ext-xform");r.exports=class extends n{constructor(){super(),this.map={"xm:f":this.fExtXform=new i}}get tag(){return"x14:cfvo"}render(o,l){o.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(o,l.value),o.closeNode()}createNewModel(o){return{type:o.attributes.type}}onParserClose(o,l){switch(o){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,r,a){const n=t("../../composite-xform"),i=t("./sqref-ext-xform"),o=t("./cf-rule-ext-xform");r.exports=class extends n{constructor(){super(),this.map={"xm:sqref":this.sqRef=new i,"x14:cfRule":this.cfRule=new o}}get tag(){return"x14:conditionalFormatting"}prepare(l,s){l.rules.forEach(c=>{this.cfRule.prepare(c,s)})}render(l,s){s.rules.some(o.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),s.rules.filter(o.isExt).forEach(c=>this.cfRule.render(l,c)),this.sqRef.render(l,s.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,s){switch(l){case"xm:sqref":this.model.ref=s.model;break;case"x14:cfRule":this.model.rules.push(s.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,r,a){const n=t("../../composite-xform"),i=t("./cf-rule-ext-xform"),o=t("./conditional-formatting-ext-xform");r.exports=class extends n{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new o}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(s=>s.rules.some(i.isExt))),l.hasExtContent}prepare(l,s){l.forEach(c=>{this.cfXform.prepare(c,s)})}render(l,s){this.hasContent(s)&&(l.openNode(this.tag),s.forEach(c=>this.cfXform.render(l,c)),l.closeNode())}createNewModel(){return[]}onParserClose(l,s){this.model.push(s.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,r,a){const n=t("../../base-xform"),i=t("../../composite-xform"),o=t("../../style/color-xform"),l=t("./cfvo-ext-xform");r.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new o("x14:axisColor")}}static isExt(s){return!s.gradient}get tag(){return"x14:dataBar"}render(s,c){s.openNode(this.tag,{minLength:n.toIntAttribute(c.minLength,0,!0),maxLength:n.toIntAttribute(c.maxLength,100,!0),border:n.toBoolAttribute(c.border,!1),gradient:n.toBoolAttribute(c.gradient,!0),negativeBarColorSameAsPositive:n.toBoolAttribute(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:n.toBoolAttribute(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:n.toAttribute(c.axisPosition,"auto"),direction:n.toAttribute(c.direction,"leftToRight")}),c.cfvo.forEach(f=>{this.cfvoXform.render(s,f)}),this.borderColorXform.render(s,c.borderColor),this.negativeBorderColorXform.render(s,c.negativeBorderColor),this.negativeFillColorXform.render(s,c.negativeFillColor),this.axisColorXform.render(s,c.axisColor),s.closeNode()}createNewModel(s){let{attributes:c}=s;return{cfvo:[],minLength:n.toIntValue(c.minLength,0),maxLength:n.toIntValue(c.maxLength,100),border:n.toBoolValue(c.border,!1),gradient:n.toBoolValue(c.gradient,!0),negativeBarColorSameAsPositive:n.toBoolValue(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:n.toBoolValue(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:n.toStringValue(c.axisPosition,"auto"),direction:n.toStringValue(c.direction,"leftToRight")}}onParserClose(s,c){const[,f]=s.split(":");switch(f){case"cfvo":this.model.cfvo.push(c.model);break;default:this.model[f]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,r,a){const n=t("../../base-xform");r.exports=class extends n{get tag(){return"xm:f"}render(i,o){i.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],81:[function(t,r,a){const n=t("../../base-xform"),i=t("../../composite-xform"),o=t("./cfvo-ext-xform"),l=t("./cf-icon-ext-xform");r.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(s,c){s.openNode(this.tag,{iconSet:n.toStringAttribute(c.iconSet),reverse:n.toBoolAttribute(c.reverse,!1),showValue:n.toBoolAttribute(c.showValue,!0),custom:n.toBoolAttribute(c.icons,!1)}),c.cfvo.forEach(f=>{this.cfvoXform.render(s,f)}),c.icons&&c.icons.forEach((f,h)=>{f.iconId=h,this.cfIconXform.render(s,f)}),s.closeNode()}createNewModel(s){let{attributes:c}=s;return{cfvo:[],iconSet:n.toStringValue(c.iconSet,"3TrafficLights"),reverse:n.toBoolValue(c.reverse,!1),showValue:n.toBoolValue(c.showValue,!0)}}onParserClose(s,c){const[,f]=s.split(":");switch(f){case"cfvo":this.model.cfvo.push(c.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(c.model);break;default:this.model[f]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,r,a){const n=t("../../base-xform");r.exports=class extends n{get tag(){return"xm:sqref"}render(i,o){i.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],83:[function(t,r,a){const n=t("../../base-xform"),i=t("../../composite-xform"),o=t("../../../../doc/range"),l=t("./databar-xform"),s=t("./ext-lst-ref-xform"),c=t("./formula-xform"),f=t("./color-scale-xform"),h=t("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},p=m=>{const{type:b,operator:y}=m;switch(b){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:b};default:return{type:b,operator:y}}};class g extends i{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new s,formula:this.formulaXform=new c,colorScale:this.colorScaleXform=new f,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(b){return b.type!=="iconSet"||!b.custom&&!d[b.iconSet]}render(b,y){switch(y.type){case"expression":this.renderExpression(b,y);break;case"cellIs":this.renderCellIs(b,y);break;case"top10":this.renderTop10(b,y);break;case"aboveAverage":this.renderAboveAverage(b,y);break;case"dataBar":this.renderDataBar(b,y);break;case"colorScale":this.renderColorScale(b,y);break;case"iconSet":this.renderIconSet(b,y);break;case"containsText":this.renderText(b,y);break;case"timePeriod":this.renderTimePeriod(b,y)}}renderExpression(b,y){b.openNode(this.tag,{type:"expression",dxfId:y.dxfId,priority:y.priority}),this.formulaXform.render(b,y.formulae[0]),b.closeNode()}renderCellIs(b,y){b.openNode(this.tag,{type:"cellIs",dxfId:y.dxfId,priority:y.priority,operator:y.operator}),y.formulae.forEach(x=>{this.formulaXform.render(b,x)}),b.closeNode()}renderTop10(b,y){b.leafNode(this.tag,{type:"top10",dxfId:y.dxfId,priority:y.priority,percent:n.toBoolAttribute(y.percent,!1),bottom:n.toBoolAttribute(y.bottom,!1),rank:n.toIntValue(y.rank,10,!0)})}renderAboveAverage(b,y){b.leafNode(this.tag,{type:"aboveAverage",dxfId:y.dxfId,priority:y.priority,aboveAverage:n.toBoolAttribute(y.aboveAverage,!0)})}renderDataBar(b,y){b.openNode(this.tag,{type:"dataBar",priority:y.priority}),this.databarXform.render(b,y),this.extLstRefXform.render(b,y),b.closeNode()}renderColorScale(b,y){b.openNode(this.tag,{type:"colorScale",priority:y.priority}),this.colorScaleXform.render(b,y),b.closeNode()}renderIconSet(b,y){g.isPrimitive(y)&&(b.openNode(this.tag,{type:"iconSet",priority:y.priority}),this.iconSetXform.render(b,y),b.closeNode())}renderText(b,y){b.openNode(this.tag,{type:y.operator,dxfId:y.dxfId,priority:y.priority,operator:n.toStringAttribute(y.operator,"containsText")});const x=(k=>{if(k.formulae&&k.formulae[0])return k.formulae[0];const M=new o(k.ref),{tl:I}=M;switch(k.operator){case"containsText":return`NOT(ISERROR(SEARCH("${k.text}",${I})))`;case"containsBlanks":return`LEN(TRIM(${I}))=0`;case"notContainsBlanks":return`LEN(TRIM(${I}))>0`;case"containsErrors":return`ISERROR(${I})`;case"notContainsErrors":return`NOT(ISERROR(${I}))`;default:return}})(y);x&&this.formulaXform.render(b,x),b.closeNode()}renderTimePeriod(b,y){b.openNode(this.tag,{type:"timePeriod",dxfId:y.dxfId,priority:y.priority,timePeriod:y.timePeriod});const x=(k=>{if(k.formulae&&k.formulae[0])return k.formulae[0];const M=new o(k.ref),{tl:I}=M;switch(k.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${I},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${I},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${I},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${I},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${I},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${I},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${I},1)=TODAY()-1`;case"today":return`FLOOR(${I},1)=TODAY()`;case"tomorrow":return`FLOOR(${I},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${I},1)<=6,FLOOR(${I},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${I})=MONTH(EDATE(TODAY(),0-1)),YEAR(${I})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${I})=MONTH(TODAY()),YEAR(${I})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${I})=MONTH(EDATE(TODAY(),0+1)),YEAR(${I})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(y);x&&this.formulaXform.render(b,x),b.closeNode()}createNewModel(b){let{attributes:y}=b;return{...p(y),dxfId:n.toIntValue(y.dxfId),priority:n.toIntValue(y.priority),timePeriod:y.timePeriod,percent:n.toBoolValue(y.percent),bottom:n.toBoolValue(y.bottom),rank:n.toIntValue(y.rank),aboveAverage:n.toBoolValue(y.aboveAverage)}}onParserClose(b,y){switch(b){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,y.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(y.model)}}}r.exports=g},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,r,a){const n=t("../../base-xform");r.exports=class extends n{get tag(){return"cfvo"}render(i,o){i.leafNode(this.tag,{type:o.type,val:o.value})}parseOpen(i){this.model={type:i.attributes.type,value:n.toFloatValue(i.attributes.val)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],85:[function(t,r,a){const n=t("../../composite-xform"),i=t("../../style/color-xform"),o=t("./cfvo-xform");r.exports=class extends n{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new i}}get tag(){return"colorScale"}render(l,s){l.openNode(this.tag),s.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),s.color.forEach(c=>{this.colorXform.render(l,c)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,s){this.model[l].push(s.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,r,a){const n=t("../../composite-xform"),i=t("./cf-rule-xform");r.exports=class extends n{constructor(){super(),this.map={cfRule:new i}}get tag(){return"conditionalFormatting"}render(o,l){l.rules.some(i.isPrimitive)&&(o.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(s=>{i.isPrimitive(s)&&(s.ref=l.ref,this.map.cfRule.render(o,s))}),o.closeNode())}createNewModel(o){let{attributes:l}=o;return{ref:l.sqref,rules:[]}}onParserClose(o,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,r,a){const n=t("../../base-xform"),i=t("./conditional-formatting-xform");r.exports=class extends n{constructor(){super(),this.cfXform=new i}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(o,l){let s=o.reduce((c,f)=>Math.max(c,...f.rules.map(h=>h.priority||0)),1);o.forEach(c=>{c.rules.forEach(f=>{f.priority||(f.priority=s++),f.style&&(f.dxfId=l.styles.addDxfStyle(f.style))})})}render(o,l){l.forEach(s=>{this.cfXform.render(o,s)})}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(!!this.parser.parseClose(o)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(o,l){o.forEach(s=>{s.rules.forEach(c=>{c.dxfId!==void 0&&(c.style=l.styles.getDxfStyle(c.dxfId),delete c.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,r,a){const n=t("../../composite-xform"),i=t("../../style/color-xform"),o=t("./cfvo-xform");r.exports=class extends n{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new i}}get tag(){return"dataBar"}render(l,s){l.openNode(this.tag),s.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),this.colorXform.render(l,s.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,s){switch(l){case"cfvo":this.model.cfvo.push(s.model);break;case"color":this.model.color=s.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,r,a){const n=t("../../base-xform"),i=t("../../composite-xform");class o extends n{get tag(){return"x14:id"}render(c,f){c.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(c){this.model+=c}parseClose(c){return c!==this.tag}}class l extends i{constructor(){super(),this.map={"x14:id":this.idXform=new o}}get tag(){return"ext"}render(c,f){c.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(c,f.x14Id),c.closeNode()}createNewModel(){return{}}onParserClose(c,f){this.model.x14Id=f.model}}r.exports=class extends i{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(s,c){s.openNode(this.tag),this.map.ext.render(s,c),s.closeNode()}createNewModel(){return{}}onParserClose(s,c){Object.assign(this.model,c.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,r,a){const n=t("../../base-xform");r.exports=class extends n{get tag(){return"formula"}render(i,o){i.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],91:[function(t,r,a){const n=t("../../base-xform"),i=t("../../composite-xform"),o=t("./cfvo-xform");r.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new o}}get tag(){return"iconSet"}render(l,s){l.openNode(this.tag,{iconSet:n.toStringAttribute(s.iconSet,"3TrafficLights"),reverse:n.toBoolAttribute(s.reverse,!1),showValue:n.toBoolAttribute(s.showValue,!0)}),s.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),l.closeNode()}createNewModel(l){let{attributes:s}=l;return{iconSet:n.toStringValue(s.iconSet,"3TrafficLights"),reverse:n.toBoolValue(s.reverse),showValue:n.toBoolValue(s.showValue),cfvo:[]}}onParserClose(l,s){this.model[l].push(s.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,r,a){const n=t("../../../utils/utils"),i=t("../base-xform");r.exports=class extends i{get tag(){return"col"}prepare(o,l){const s=l.styles.addStyleModel(o.style||{});s&&(o.styleId=s)}render(o,l){o.openNode("col"),o.addAttribute("min",l.min),o.addAttribute("max",l.max),l.width&&o.addAttribute("width",l.width),l.styleId&&o.addAttribute("style",l.styleId),l.hidden&&o.addAttribute("hidden","1"),l.bestFit&&o.addAttribute("bestFit","1"),l.outlineLevel&&o.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&o.addAttribute("collapsed","1"),o.addAttribute("customWidth","1"),o.closeNode()}parseOpen(o){if(o.name==="col"){const l=this.model={min:parseInt(o.attributes.min||"0",10),max:parseInt(o.attributes.max||"0",10),width:o.attributes.width===void 0?void 0:parseFloat(o.attributes.width||"0")};return o.attributes.style&&(l.styleId=parseInt(o.attributes.style,10)),n.parseBoolean(o.attributes.hidden)&&(l.hidden=!0),n.parseBoolean(o.attributes.bestFit)&&(l.bestFit=!0),o.attributes.outlineLevel&&(l.outlineLevel=parseInt(o.attributes.outlineLevel,10)),n.parseBoolean(o.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(o,l){o.styleId&&(o.style=l.styles.getStyleModel(o.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,r,a){const n=t("../../../utils/under-dash"),i=t("../../../utils/utils"),o=t("../../../utils/col-cache"),l=t("../base-xform"),s=t("../../../doc/range");function c(h,d,p,g){const m=d[p];m!==void 0?h[p]=m:g!==void 0&&(h[p]=g)}function f(h,d,p,g){const m=d[p];m!==void 0&&(h[p]=i.parseBoolean(m))}r.exports=class extends l{get tag(){return"dataValidations"}render(h,d){const p=function(g){const m=n.map(g,(x,k)=>({address:k,dataValidation:x,marked:!1})).sort((x,k)=>n.strcmp(x.address,k.address)),b=n.keyBy(m,"address"),y=(x,k,M)=>{for(let I=0;I<k;I++){const B=o.encodeAddress(x.row+I,M);if(!g[B]||!n.isEqual(g[x.address],g[B]))return!1}return!0};return m.map(x=>{if(!x.marked){const k=o.decodeEx(x.address);if(k.dimensions)return b[k.dimensions].marked=!0,{...x.dataValidation,sqref:x.address};let M=1,I=o.encodeAddress(k.row+M,k.col);for(;g[I]&&n.isEqual(x.dataValidation,g[I]);)M++,I=o.encodeAddress(k.row+M,k.col);let B=1;for(;y(k,M,k.col+B);)B++;for(let j=0;j<M;j++)for(let F=0;F<B;F++)I=o.encodeAddress(k.row+j,k.col+F),b[I].marked=!0;if(M>1||B>1){const j=k.row+(M-1),F=k.col+(B-1);return{...x.dataValidation,sqref:`${x.address}:${o.encodeAddress(j,F)}`}}return{...x.dataValidation,sqref:x.address}}return null}).filter(Boolean)}(d);p.length&&(h.openNode("dataValidations",{count:p.length}),p.forEach(g=>{h.openNode("dataValidation"),g.type!=="any"&&(h.addAttribute("type",g.type),g.operator&&g.type!=="list"&&g.operator!=="between"&&h.addAttribute("operator",g.operator),g.allowBlank&&h.addAttribute("allowBlank","1")),g.showInputMessage&&h.addAttribute("showInputMessage","1"),g.promptTitle&&h.addAttribute("promptTitle",g.promptTitle),g.prompt&&h.addAttribute("prompt",g.prompt),g.showErrorMessage&&h.addAttribute("showErrorMessage","1"),g.errorStyle&&h.addAttribute("errorStyle",g.errorStyle),g.errorTitle&&h.addAttribute("errorTitle",g.errorTitle),g.error&&h.addAttribute("error",g.error),h.addAttribute("sqref",g.sqref),(g.formulae||[]).forEach((m,b)=>{h.openNode("formula"+(b+1)),g.type==="date"?h.writeText(i.dateToExcel(new Date(m))):h.writeText(m),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const d={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&f(d,h.attributes,"allowBlank"),f(d,h.attributes,"showInputMessage"),f(d,h.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:c(d,h.attributes,"operator","between")}return c(d,h.attributes,"promptTitle"),c(d,h.attributes,"prompt"),c(d,h.attributes,"errorStyle"),c(d,h.attributes,"errorTitle"),c(d,h.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new s(d).forEachAddress(p=>{this.model[p]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=i.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"dimension"}render(i,o){o&&i.leafNode("dimension",{ref:o})}parseOpen(i){return i.name==="dimension"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"drawing"}render(i,o){o&&i.leafNode(this.tag,{"r:id":o.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,r,a){const n=t("../composite-xform"),i=t("./cf-ext/conditional-formattings-ext-xform");class o extends n{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new i}}get tag(){return"ext"}hasContent(s){return this.conditionalFormattings.hasContent(s.conditionalFormattings)}prepare(s,c){this.conditionalFormattings.prepare(s.conditionalFormattings,c)}render(s,c){s.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(s,c.conditionalFormattings),s.closeNode()}createNewModel(){return{}}onParserClose(s,c){this.model[s]=c.model}}r.exports=class extends n{constructor(){super(),this.map={ext:this.ext=new o}}get tag(){return"extLst"}prepare(l,s){this.ext.prepare(l,s)}hasContent(l){return this.ext.hasContent(l)}render(l,s){this.hasContent(s)&&(l.openNode("extLst"),this.ext.render(l,s),l.closeNode())}createNewModel(){return{}}onParserClose(l,s){Object.assign(this.model,s.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"headerFooter"}render(i,o){if(o){i.addRollback();let l=!1;i.openNode("headerFooter"),o.differentFirst&&(i.addAttribute("differentFirst","1"),l=!0),o.differentOddEven&&(i.addAttribute("differentOddEven","1"),l=!0),o.oddHeader&&typeof o.oddHeader=="string"&&(i.leafNode("oddHeader",null,o.oddHeader),l=!0),o.oddFooter&&typeof o.oddFooter=="string"&&(i.leafNode("oddFooter",null,o.oddFooter),l=!0),o.evenHeader&&typeof o.evenHeader=="string"&&(i.leafNode("evenHeader",null,o.evenHeader),l=!0),o.evenFooter&&typeof o.evenFooter=="string"&&(i.leafNode("evenFooter",null,o.evenFooter),l=!0),o.firstHeader&&typeof o.firstHeader=="string"&&(i.leafNode("firstHeader",null,o.firstHeader),l=!0),o.firstFooter&&typeof o.firstFooter=="string"&&(i.leafNode("firstFooter",null,o.firstFooter),l=!0),l?(i.closeNode(),i.commit()):i.rollback()}}parseOpen(i){switch(i.name){case"headerFooter":return this.model={},i.attributes.differentFirst&&(this.model.differentFirst=parseInt(i.attributes.differentFirst,0)===1),i.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(i.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(i){switch(this.currentNode){case"oddHeader":this.model.oddHeader=i;break;case"oddFooter":this.model.oddFooter=i;break;case"evenHeader":this.model.evenHeader=i;break;case"evenFooter":this.model.evenFooter=i;break;case"firstHeader":this.model.firstHeader=i;break;case"firstFooter":this.model.firstFooter=i}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"hyperlink"}render(i,o){this.isInternalLink(o)?i.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip,location:o.target}):i.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip})}parseOpen(i){return i.name==="hyperlink"&&(this.model={address:i.attributes.ref,rId:i.attributes["r:id"],tooltip:i.attributes.tooltip},i.attributes.location&&(this.model.target=i.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(i){return i.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(i.target)}}},{"../base-xform":32}],99:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"mergeCell"}render(i,o){i.leafNode("mergeCell",{ref:o})}parseOpen(i){return i.name==="mergeCell"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,r,a){const n=t("../../../utils/under-dash"),i=t("../../../doc/range"),o=t("../../../utils/col-cache"),l=t("../../../doc/enums");r.exports=class{constructor(){this.merges={}}add(s){if(this.merges[s.master])this.merges[s.master].expandToAddress(s.address);else{const c=`${s.master}:${s.address}`;this.merges[s.master]=new i(c)}}get mergeCells(){return n.map(this.merges,s=>s.range)}reconcile(s,c){n.each(s,f=>{const h=o.decode(f);for(let d=h.top;d<=h.bottom;d++){const p=c[d-1];for(let g=h.left;g<=h.right;g++){const m=p.cells[g-1];m?m.type===l.ValueType.Merge&&(m.master=h.tl):p.cells[g]={type:l.ValueType.Null,address:o.encodeAddress(d,g)}}}})}getMasterAddress(s){const c=this.hash[s];return c&&c.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,r,a){const n=t("../base-xform"),i=o=>o!==void 0;r.exports=class extends n{get tag(){return"outlinePr"}render(o,l){return!(!l||!i(l.summaryBelow)&&!i(l.summaryRight))&&(o.leafNode(this.tag,{summaryBelow:i(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:i(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={summaryBelow:i(o.attributes.summaryBelow)?!!Number(o.attributes.summaryBelow):void 0,summaryRight:i(o.attributes.summaryRight)?!!Number(o.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"brk"}render(i,o){i.leafNode("brk",o)}parseOpen(i){return i.name==="brk"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,r,a){const n=t("../../../utils/under-dash"),i=t("../base-xform");r.exports=class extends i{get tag(){return"pageMargins"}render(o,l){if(l){const s={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};n.some(s,c=>c!==void 0)&&o.leafNode(this.tag,s)}}parseOpen(o){switch(o.name){case this.tag:return this.model={left:parseFloat(o.attributes.left||.7),right:parseFloat(o.attributes.right||.7),top:parseFloat(o.attributes.top||.75),bottom:parseFloat(o.attributes.bottom||.75),header:parseFloat(o.attributes.header||.3),footer:parseFloat(o.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"pageSetUpPr"}render(i,o){return!(!o||!o.fitToPage)&&(i.leafNode(this.tag,{fitToPage:o.fitToPage?"1":void 0}),!0)}parseOpen(i){return i.name===this.tag&&(this.model={fitToPage:i.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,r,a){const n=t("../../../utils/under-dash"),i=t("../base-xform");function o(f){return f?"1":void 0}function l(f){switch(f){case"overThenDown":return f;default:return}}function s(f){switch(f){case"atEnd":case"asDisplyed":return f;default:return}}function c(f){switch(f){case"dash":case"blank":case"NA":return f;default:return}}r.exports=class extends i{get tag(){return"pageSetup"}render(f,h){if(h){const d={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:l(h.pageOrder),blackAndWhite:o(h.blackAndWhite),draft:o(h.draft),cellComments:s(h.cellComments),errors:c(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:o(h.firstPageNumber),usePrinterDefaults:o(h.usePrinterDefaults),copies:h.copies};n.some(d,p=>p!==void 0)&&f.leafNode(this.tag,d)}}parseOpen(f){switch(f.name){case this.tag:return this.model={paperSize:(h=f.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:f.attributes.orientation||"portrait",horizontalDpi:parseInt(f.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(f.attributes.verticalDpi||"4294967295",10),pageOrder:f.attributes.pageOrder||"downThenOver",blackAndWhite:f.attributes.blackAndWhite==="1",draft:f.attributes.draft==="1",cellComments:f.attributes.cellComments||"None",errors:f.attributes.errors||"displayed",scale:parseInt(f.attributes.scale||"100",10),fitToWidth:parseInt(f.attributes.fitToWidth||"1",10),fitToHeight:parseInt(f.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(f.attributes.firstPageNumber||"1",10),useFirstPageNumber:f.attributes.useFirstPageNumber==="1",usePrinterDefaults:f.attributes.usePrinterDefaults==="1",copies:parseInt(f.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"picture"}render(i,o){o&&i.leafNode(this.tag,{"r:id":o.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,r,a){const n=t("../../../utils/under-dash"),i=t("../base-xform");function o(l){return l?"1":void 0}r.exports=class extends i{get tag(){return"printOptions"}render(l,s){if(s){const c={headings:o(s.showRowColHeaders),gridLines:o(s.showGridLines),horizontalCentered:o(s.horizontalCentered),verticalCentered:o(s.verticalCentered)};n.some(c,f=>f!==void 0)&&l.leafNode(this.tag,c)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,r,a){const n=t("./page-breaks-xform"),i=t("../list-xform");r.exports=class extends i{constructor(){super({tag:"rowBreaks",count:!0,childXform:new n})}render(o,l){if(l&&l.length){o.openNode(this.tag,this.$),this.count&&(o.addAttribute(this.$count,l.length),o.addAttribute("manualBreakCount",l.length));const{childXform:s}=this;l.forEach(c=>{s.render(o,c)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,r,a){const n=t("../base-xform"),i=t("../../../utils/utils"),o=t("./cell-xform");r.exports=class extends n{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new o}}get tag(){return"row"}prepare(l,s){const c=s.styles.addStyleModel(l.style);c&&(l.styleId=c);const f=this.map.c;l.cells.forEach(h=>{f.prepare(h,s)})}render(l,s,c){l.openNode("row"),l.addAttribute("r",s.number),s.height&&(l.addAttribute("ht",s.height),l.addAttribute("customHeight","1")),s.hidden&&l.addAttribute("hidden","1"),s.min>0&&s.max>0&&s.min<=s.max&&l.addAttribute("spans",`${s.min}:${s.max}`),s.styleId&&(l.addAttribute("s",s.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),s.outlineLevel&&l.addAttribute("outlineLevel",s.outlineLevel),s.collapsed&&l.addAttribute("collapsed","1");const f=this.map.c;s.cells.forEach(h=>{f.render(l,h,c)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const s=l.attributes.spans?l.attributes.spans.split(":").map(f=>parseInt(f,10)):[void 0,void 0],c=this.model={number:parseInt(l.attributes.r,10),min:s[0],max:s[1],cells:[]};return l.attributes.s&&(c.styleId=parseInt(l.attributes.s,10)),i.parseBoolean(l.attributes.hidden)&&(c.hidden=!0),i.parseBoolean(l.attributes.bestFit)&&(c.bestFit=!0),l.attributes.ht&&(c.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(c.outlineLevel=parseInt(l.attributes.outlineLevel,10)),i.parseBoolean(l.attributes.collapsed)&&(c.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,s){l.style=l.styleId?s.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const c=this.map.c;l.cells.forEach(f=>{c.reconcile(f,s)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,r,a){const n=t("../../../utils/under-dash"),i=t("../base-xform");r.exports=class extends i{get tag(){return"sheetFormatPr"}render(o,l){if(l){const s={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(s.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(s.customHeight="1"),n.some(s,c=>c!==void 0)&&o.leafNode("sheetFormatPr",s)}}parseOpen(o){return o.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(o.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(o.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(o.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(o.attributes.outlineLevelCol||"0",10)},o.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(o.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,r,a){const n=t("../base-xform"),i=t("../style/color-xform"),o=t("./page-setup-properties-xform"),l=t("./outline-properties-xform");r.exports=class extends n{constructor(){super(),this.map={tabColor:new i("tabColor"),pageSetUpPr:new o,outlinePr:new l}}get tag(){return"sheetPr"}render(s,c){if(c){s.addRollback(),s.openNode("sheetPr");let f=!1;f=this.map.tabColor.render(s,c.tabColor)||f,f=this.map.pageSetUpPr.render(s,c.pageSetup)||f,f=this.map.outlinePr.render(s,c.outlineProperties)||f,f?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){return this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag?(this.reset(),!0):!!this.map[s.name]&&(this.parser=this.map[s.name],this.parser.parseOpen(s),!0)}parseText(s){return!!this.parser&&(this.parser.parseText(s),!0)}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,r,a){const n=t("../../../utils/under-dash"),i=t("../base-xform");function o(s,c){return s?c:void 0}function l(s,c){return s===c||void 0}r.exports=class extends i{get tag(){return"sheetProtection"}render(s,c){if(c){const f={sheet:o(c.sheet,"1"),selectLockedCells:c.selectLockedCells===!1?"1":void 0,selectUnlockedCells:c.selectUnlockedCells===!1?"1":void 0,formatCells:o(c.formatCells,"0"),formatColumns:o(c.formatColumns,"0"),formatRows:o(c.formatRows,"0"),insertColumns:o(c.insertColumns,"0"),insertRows:o(c.insertRows,"0"),insertHyperlinks:o(c.insertHyperlinks,"0"),deleteColumns:o(c.deleteColumns,"0"),deleteRows:o(c.deleteRows,"0"),sort:o(c.sort,"0"),autoFilter:o(c.autoFilter,"0"),pivotTables:o(c.pivotTables,"0")};c.sheet&&(f.algorithmName=c.algorithmName,f.hashValue=c.hashValue,f.saltValue=c.saltValue,f.spinCount=c.spinCount,f.objects=o(c.objects===!1,"1"),f.scenarios=o(c.scenarios===!1,"1")),n.some(f,h=>h!==void 0)&&s.leafNode(this.tag,f)}}parseOpen(s){switch(s.name){case this.tag:return this.model={sheet:l(s.attributes.sheet,"1"),objects:s.attributes.objects!=="1"&&void 0,scenarios:s.attributes.scenarios!=="1"&&void 0,selectLockedCells:s.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:s.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(s.attributes.formatCells,"0"),formatColumns:l(s.attributes.formatColumns,"0"),formatRows:l(s.attributes.formatRows,"0"),insertColumns:l(s.attributes.insertColumns,"0"),insertRows:l(s.attributes.insertRows,"0"),insertHyperlinks:l(s.attributes.insertHyperlinks,"0"),deleteColumns:l(s.attributes.deleteColumns,"0"),deleteRows:l(s.attributes.deleteRows,"0"),sort:l(s.attributes.sort,"0"),autoFilter:l(s.attributes.autoFilter,"0"),pivotTables:l(s.attributes.pivotTables,"0")},s.attributes.algorithmName&&(this.model.algorithmName=s.attributes.algorithmName,this.model.hashValue=s.attributes.hashValue,this.model.saltValue=s.attributes.saltValue,this.model.spinCount=parseInt(s.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,r,a){const n=t("../../../utils/col-cache"),i=t("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};r.exports=class extends i{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,s){l.openNode("sheetView",{workbookViewId:s.workbookViewId||0});const c=function(g,m,b){b&&l.addAttribute(g,m)};let f,h,d,p;switch(c("rightToLeft","1",s.rightToLeft===!0),c("tabSelected","1",s.tabSelected),c("showRuler","0",s.showRuler===!1),c("showRowColHeaders","0",s.showRowColHeaders===!1),c("showGridLines","0",s.showGridLines===!1),c("zoomScale",s.zoomScale,s.zoomScale),c("zoomScaleNormal",s.zoomScaleNormal,s.zoomScaleNormal),c("view",s.style,s.style),s.state){case"frozen":h=s.xSplit||0,d=s.ySplit||0,f=s.topLeftCell||n.getAddress(d+1,h+1).address,p=(s.xSplit&&s.ySplit?"bottomRight":s.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:s.xSplit||void 0,ySplit:s.ySplit||void 0,topLeftCell:f,activePane:p,state:"frozen"}),l.leafNode("selection",{pane:p,activeCell:s.activeCell,sqref:s.activeCell});break;case"split":s.activePane==="topLeft"&&(s.activePane=void 0),l.leafNode("pane",{xSplit:s.xSplit||void 0,ySplit:s.ySplit||void 0,topLeftCell:s.topLeftCell,activePane:s.activePane}),l.leafNode("selection",{pane:s.activePane,activeCell:s.activeCell,sqref:s.activeCell});break;case"normal":s.activeCell&&l.leafNode("selection",{activeCell:s.activeCell,sqref:s.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const s=l.attributes.pane||"topLeft";return this.selections[s]={pane:s,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let s,c;switch(l){case"sheetView":return this.sheetView&&this.pane?(s=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(s.activePane=this.pane.activePane),c=this.selections[this.pane.activePane],c&&c.activeCell&&(s.activeCell=c.activeCell),this.sheetView.style&&(s.style=this.sheetView.style)):(s=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},c=this.selections.topLeft,c&&c.activeCell&&(s.activeCell=c.activeCell),this.sheetView.style&&(s.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"tablePart"}render(i,o){o&&i.leafNode(this.tag,{"r:id":o.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,r,a){const n=t("../../../utils/under-dash"),i=t("../../../utils/col-cache"),o=t("../../../utils/xml-stream"),l=t("../../rel-type"),s=t("./merges"),c=t("../base-xform"),f=t("../list-xform"),h=t("./row-xform"),d=t("./col-xform"),p=t("./dimension-xform"),g=t("./hyperlink-xform"),m=t("./merge-cell-xform"),b=t("./data-validations-xform"),y=t("./sheet-properties-xform"),x=t("./sheet-format-properties-xform"),k=t("./sheet-view-xform"),M=t("./sheet-protection-xform"),I=t("./page-margins-xform"),B=t("./page-setup-xform"),j=t("./print-options-xform"),F=t("./auto-filter-xform"),z=t("./picture-xform"),$=t("./drawing-xform"),H=t("./table-part-xform"),C=t("./row-breaks-xform"),O=t("./header-footer-xform"),A=t("./cf/conditional-formattings-xform"),v=t("./ext-lst-xform"),w=(S,T)=>{if(!T||!T.length)return S;if(!S||!S.length)return T;const N={},L={};return S.forEach(V=>{N[V.ref]=V,V.rules.forEach(q=>{const{x14Id:Y}=q;Y&&(L[Y]=q)})}),T.forEach(V=>{V.rules.forEach(q=>{const Y=L[q.x14Id];Y?((D,X)=>{Object.keys(X).forEach(P=>{const R=D[P],U=X[P];R===void 0&&U!==void 0&&(D[P]=U)})})(Y,q):N[V.ref]?N[V.ref].rules.push(q):S.push({ref:V.ref,rules:[q]})})}),S};class _ extends c{constructor(T){super();const{maxRows:N,maxCols:L,ignoreNodes:V}=T||{};this.ignoreNodes=V||[],this.map={sheetPr:new y,dimension:new p,sheetViews:new f({tag:"sheetViews",count:!1,childXform:new k}),sheetFormatPr:new x,cols:new f({tag:"cols",count:!1,childXform:new d}),sheetData:new f({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:L}),maxItems:N}),autoFilter:new F,mergeCells:new f({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new C,hyperlinks:new f({tag:"hyperlinks",count:!1,childXform:new g}),pageMargins:new I,dataValidations:new b,pageSetup:new B,headerFooter:new O,printOptions:new j,picture:new z,drawing:new $,sheetProtection:new M,tableParts:new f({tag:"tableParts",count:!0,childXform:new H}),conditionalFormatting:new A,extLst:new v}}prepare(T,N){N.merges=new s,T.hyperlinks=N.hyperlinks=[],T.comments=N.comments=[],N.formulae={},N.siFormulae=0,this.map.cols.prepare(T.cols,N),this.map.sheetData.prepare(T.rows,N),this.map.conditionalFormatting.prepare(T.conditionalFormattings,N),T.mergeCells=N.merges.mergeCells;const L=T.rels=[];function V(D){return"rId"+(D.length+1)}if(T.hyperlinks.forEach(D=>{const X=V(L);D.rId=X,L.push({Id:X,Type:l.Hyperlink,Target:D.target,TargetMode:"External"})}),T.comments.length>0){const D={Id:V(L),Type:l.Comments,Target:`../comments${T.id}.xml`};L.push(D);const X={Id:V(L),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${T.id}.vml`};L.push(X),T.comments.forEach(P=>{P.refAddress=i.decodeAddress(P.ref)}),N.commentRefs.push({commentName:"comments"+T.id,vmlDrawing:"vmlDrawing"+T.id})}const q=[];let Y;T.media.forEach(D=>{if(D.type==="background"){const X=V(L);Y=N.media[D.imageId],L.push({Id:X,Type:l.Image,Target:`../media/${Y.name}.${Y.extension}`}),T.background={rId:X},T.image=N.media[D.imageId]}else if(D.type==="image"){let{drawing:X}=T;Y=N.media[D.imageId],X||(X=T.drawing={rId:V(L),name:"drawing"+ ++N.drawingsCount,anchors:[],rels:[]},N.drawings.push(X),L.push({Id:X.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${X.name}.xml`}));let P=this.preImageId===D.imageId?q[D.imageId]:q[X.rels.length];P||(P=V(X.rels),q[X.rels.length]=P,X.rels.push({Id:P,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${Y.name}.${Y.extension}`}));const R={picture:{rId:P},range:D.range};if(D.hyperlinks&&D.hyperlinks.hyperlink){const U=V(X.rels);q[X.rels.length]=U,R.picture.hyperlinks={tooltip:D.hyperlinks.tooltip,rId:U},X.rels.push({Id:U,Type:l.Hyperlink,Target:D.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=D.imageId,X.anchors.push(R)}}),T.tables.forEach(D=>{const X=V(L);D.rId=X,L.push({Id:X,Type:l.Table,Target:"../tables/"+D.target}),D.columns.forEach(P=>{const{style:R}=P;R&&(P.dxfId=N.styles.addDxfStyle(R))})}),this.map.extLst.prepare(T,N)}render(T,N){T.openXml(o.StdDocAttributes),T.openNode("worksheet",_.WORKSHEET_ATTRIBUTES);const L=N.properties?{defaultRowHeight:N.properties.defaultRowHeight,dyDescent:N.properties.dyDescent,outlineLevelCol:N.properties.outlineLevelCol,outlineLevelRow:N.properties.outlineLevelRow}:void 0;N.properties&&N.properties.defaultColWidth&&(L.defaultColWidth=N.properties.defaultColWidth);const V={outlineProperties:N.properties&&N.properties.outlineProperties,tabColor:N.properties&&N.properties.tabColor,pageSetup:N.pageSetup&&N.pageSetup.fitToPage?{fitToPage:N.pageSetup.fitToPage}:void 0},q=N.pageSetup&&N.pageSetup.margins,Y={showRowColHeaders:N.pageSetup&&N.pageSetup.showRowColHeaders,showGridLines:N.pageSetup&&N.pageSetup.showGridLines,horizontalCentered:N.pageSetup&&N.pageSetup.horizontalCentered,verticalCentered:N.pageSetup&&N.pageSetup.verticalCentered},D=N.sheetProtection;this.map.sheetPr.render(T,V),this.map.dimension.render(T,N.dimensions),this.map.sheetViews.render(T,N.views),this.map.sheetFormatPr.render(T,L),this.map.cols.render(T,N.cols),this.map.sheetData.render(T,N.rows),this.map.sheetProtection.render(T,D),this.map.autoFilter.render(T,N.autoFilter),this.map.mergeCells.render(T,N.mergeCells),this.map.conditionalFormatting.render(T,N.conditionalFormattings),this.map.dataValidations.render(T,N.dataValidations),this.map.hyperlinks.render(T,N.hyperlinks),this.map.printOptions.render(T,Y),this.map.pageMargins.render(T,q),this.map.pageSetup.render(T,N.pageSetup),this.map.headerFooter.render(T,N.headerFooter),this.map.rowBreaks.render(T,N.rowBreaks),this.map.drawing.render(T,N.drawing),this.map.picture.render(T,N.background),this.map.tableParts.render(T,N.tables),this.map.extLst.render(T,N),N.rels&&N.rels.forEach(X=>{X.Type===l.VmlDrawing&&T.leafNode("legacyDrawing",{"r:id":X.Id})}),T.closeNode()}parseOpen(T){return this.parser?(this.parser.parseOpen(T),!0):T.name==="worksheet"?(n.each(this.map,N=>{N.reset()}),!0):(this.map[T.name]&&!this.ignoreNodes.includes(T.name)&&(this.parser=this.map[T.name],this.parser.parseOpen(T)),!0)}parseText(T){this.parser&&this.parser.parseText(T)}parseClose(T){if(this.parser)return this.parser.parseClose(T)||(this.parser=void 0),!0;switch(T){case"worksheet":{const N=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(N.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(N.outlineProperties=this.map.sheetPr.model.outlineProperties);const L={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},V=Object.assign(L,this.map.pageSetup.model,this.map.printOptions.model),q=w(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:N,views:this.map.sheetViews.model,pageSetup:V,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:q},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(T,N){const L=(T.relationships||[]).reduce((q,Y)=>{if(q[Y.Id]=Y,Y.Type===l.Comments&&(T.comments=N.comments[Y.Target].comments),Y.Type===l.VmlDrawing&&T.comments&&T.comments.length){const D=N.vmlDrawings[Y.Target].comments;T.comments.forEach((X,P)=>{X.note=Object.assign({},X.note,D[P])})}return q},{});if(N.commentsMap=(T.comments||[]).reduce((q,Y)=>(Y.ref&&(q[Y.ref]=Y),q),{}),N.hyperlinkMap=(T.hyperlinks||[]).reduce((q,Y)=>(Y.rId&&(q[Y.address]=L[Y.rId].Target),q),{}),N.formulae={},T.rows=T.rows&&T.rows.filter(Boolean)||[],T.rows.forEach(q=>{q.cells=q.cells&&q.cells.filter(Boolean)||[]}),this.map.cols.reconcile(T.cols,N),this.map.sheetData.reconcile(T.rows,N),this.map.conditionalFormatting.reconcile(T.conditionalFormattings,N),T.media=[],T.drawing){const q=L[T.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(q){const Y=q[1];N.drawings[Y].anchors.forEach(D=>{if(D.medium){const X={type:"image",imageId:D.medium.index,range:D.range,hyperlinks:D.picture.hyperlinks};T.media.push(X)}})}}const V=T.background&&L[T.background.rId];if(V){const q=V.Target.split("/media/")[1],Y=N.mediaIndex&&N.mediaIndex[q];Y!==void 0&&T.media.push({type:"background",imageId:Y})}T.tables=(T.tables||[]).map(q=>{const Y=L[q.rId];return N.tables[Y.Target]}),delete T.relationships,delete T.hyperlinks,delete T.comments}}_.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},r.exports=_},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{constructor(i){super(),this.tag=i.tag,this.attr=i.attr}render(i,o){o&&(i.openNode(this.tag),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this._format=i.format||function(o){try{return Number.isNaN(o.getTime())?"":o.toISOString()}catch{return""}},this._parse=i.parse||function(o){return new Date(o)}}render(i,o){o&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,this._format(o)):i.writeText(this._format(o)),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=this._parse(i.attributes[this.attr]):this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this.zero=i.zero}render(i,o){(o||this.zero)&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,o):i.writeText(o),i.closeNode())}parseOpen(i){return i.name===this.tag&&(this.attr?this.model=parseInt(i.attributes[this.attr],10):this.text=[],!0)}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs}render(i,o){o!==void 0&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,o):i.writeText(o),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=i.attributes[this.attr]:this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,r,a){const n=t("./base-xform"),i=t("../../utils/xml-stream");r.exports=class extends n{constructor(o){super(),this._model=o}render(o){if(!this._xml){const l=new i;(function s(c,f){c.openNode(f.tag,f.$),f.c&&f.c.forEach(h=>{s(c,h)}),f.t&&c.writeText(f.t),c.closeNode()})(l,this._model),this._xml=l.xml}o.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(o){switch(o){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,r,a){const n=t("./text-xform"),i=t("./rich-text-xform"),o=t("../base-xform");r.exports=class extends o{constructor(){super(),this.map={r:new i,t:new n}}get tag(){return"rPh"}render(l,s){if(l.openNode(this.tag,{sb:s.sb||0,eb:s.eb||0}),s&&s.hasOwnProperty("richText")&&s.richText){const{r:c}=this.map;s.richText.forEach(f=>{c.render(l,f)})}else s&&this.map.t.render(l,s.text);l.closeNode()}parseOpen(l){const{name:s}=l;return this.parser?(this.parser.parseOpen(l),!0):s===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[s],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let s=this.model.richText;s||(s=this.model.richText=[]),s.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,r,a){const n=t("./text-xform"),i=t("../style/font-xform"),o=t("../base-xform");class l extends o{constructor(c){super(),this.model=c}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new n)}get fontXform(){return this._fontXform||(this._fontXform=new i(l.FONT_OPTIONS))}render(c,f){f=f||this.model,c.openNode("r"),f.font&&this.fontXform.render(c,f.font),this.textXform.render(c,f.text),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(c),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){switch(c){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},r.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,r,a){const n=t("./text-xform"),i=t("./rich-text-xform"),o=t("./phonetic-text-xform"),l=t("../base-xform");r.exports=class extends l{constructor(s){super(),this.model=s,this.map={r:new i,t:new n,rPh:new o}}get tag(){return"si"}render(s,c){s.openNode(this.tag),c&&c.hasOwnProperty("richText")&&c.richText?c.richText.length?c.richText.forEach(f=>{this.map.r.render(s,f)}):this.map.t.render(s,""):c!=null&&this.map.t.render(s,c),s.closeNode()}parseOpen(s){const{name:c}=s;return this.parser?(this.parser.parseOpen(s),!0):c===this.tag?(this.model={},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(s),!0))}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){switch(s){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,r,a){const n=t("../../../utils/xml-stream"),i=t("../base-xform"),o=t("./shared-string-xform");r.exports=class extends i{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new o)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let s=this.hash[l];return s===void 0&&(s=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,s}addRichText(l){const s=this.sharedStringXform.toXml(l);let c=this.rich[s];return c===void 0&&(c=this.rich[s]=this.model.values.length,this.model.values.push(l)),this.model.count++,c}render(l,s){s=s||this._values,l.openXml(n.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:s.count,uniqueCount:s.values.length});const c=this.sharedStringXform;s.values.forEach(f=>{c.render(l,f)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"t"}render(i,o){i.openNode("t"),/^\s|\n|\s$/.test(o)&&i.addAttribute("xml:space","preserve"),i.writeText(o),i.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(i,o)=>String.fromCharCode(parseInt(o,16)))}parseOpen(i){switch(i.name){case"t":return this._text=[],!0;default:return!1}}parseText(i){this._text.push(i)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,r,a){const n=t("../../../doc/enums"),i=t("../../../utils/utils"),o=t("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((c,f)=>(c[f]=!0,c),{}),horizontal(c){return this.horizontalValues[c]?c:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((c,f)=>(c[f]=!0,c),{}),vertical(c){return c==="middle"?"center":this.verticalValues[c]?c:void 0},wrapText:c=>!!c||void 0,shrinkToFit:c=>!!c||void 0,textRotation(c){switch(c){case"vertical":return c;default:return(c=i.validInt(c))>=-90&&c<=90?c:void 0}},indent:c=>(c=i.validInt(c),Math.max(0,c)),readingOrder(c){switch(c){case"ltr":return n.ReadingOrder.LeftToRight;case"rtl":return n.ReadingOrder.RightToLeft;default:return}}},s={toXml(c){if(c=l.textRotation(c)){if(c==="vertical")return 255;const f=Math.round(c);if(f>=0&&f<=90)return f;if(f<0&&f>=-90)return 90-f}},toModel(c){const f=i.validInt(c);if(f!==void 0){if(f===255)return"vertical";if(f>=0&&f<=90)return f;if(f>90&&f<=180)return 90-f}}};r.exports=class extends o{get tag(){return"alignment"}render(c,f){c.addRollback(),c.openNode("alignment");let h=!1;function d(p,g){g&&(c.addAttribute(p,g),h=!0)}d("horizontal",l.horizontal(f.horizontal)),d("vertical",l.vertical(f.vertical)),d("wrapText",!!l.wrapText(f.wrapText)&&"1"),d("shrinkToFit",!!l.shrinkToFit(f.shrinkToFit)&&"1"),d("indent",l.indent(f.indent)),d("textRotation",s.toXml(f.textRotation)),d("readingOrder",l.readingOrder(f.readingOrder)),c.closeNode(),h?c.commit():c.rollback()}parseOpen(c){const f={};let h=!1;function d(p,g,m){p&&(f[g]=m,h=!0)}d(c.attributes.horizontal,"horizontal",c.attributes.horizontal),d(c.attributes.vertical,"vertical",c.attributes.vertical==="center"?"middle":c.attributes.vertical),d(c.attributes.wrapText,"wrapText",i.parseBoolean(c.attributes.wrapText)),d(c.attributes.shrinkToFit,"shrinkToFit",i.parseBoolean(c.attributes.shrinkToFit)),d(c.attributes.indent,"indent",parseInt(c.attributes.indent,10)),d(c.attributes.textRotation,"textRotation",s.toModel(c.attributes.textRotation)),d(c.attributes.readingOrder,"readingOrder",c.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?f:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,r,a){const n=t("../base-xform"),i=t("../../../utils/utils"),o=t("./color-xform");class l extends n{constructor(c){super(),this.name=c,this.map={color:new o}}get tag(){return this.name}render(c,f,h){const d=f&&f.color||h||this.defaultColor;c.openNode(this.name),f&&f.style&&(c.addAttribute("style",f.style),d&&this.map.color.render(c,d)),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.name:{const{style:f}=c.attributes;return this.model=f?{style:f}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(c===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(c){return l.validStyleValues[c]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((s,c)=>(s[c]=!0,s),{}),r.exports=class extends n{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(s,c){const{color:f}=c;function h(d,p){d&&!d.color&&c.color&&(d={...d,color:c.color}),p.render(s,d,f)}s.openNode("border"),c.diagonal&&c.diagonal.style&&(c.diagonal.up&&s.addAttribute("diagonalUp","1"),c.diagonal.down&&s.addAttribute("diagonalDown","1")),h(c.left,this.map.left),h(c.right,this.map.right),h(c.top,this.map.top),h(c.bottom,this.map.bottom),h(c.diagonal,this.map.diagonal),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"border":return this.reset(),this.diagonalUp=i.parseBoolean(s.attributes.diagonalUp),this.diagonalDown=i.parseBoolean(s.attributes.diagonalDown),!0;default:return this.parser=this.map[s.name],!!this.parser&&(this.parser.parseOpen(s),!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;if(s==="border"){const c=this.model={},f=function(h,d,p){d&&(p&&Object.assign(d,p),c[h]=d)};f("left",this.map.left.model),f("right",this.map.right.model),f("top",this.map.top.model),f("bottom",this.map.bottom.model),f("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{constructor(i){super(),this.name=i||"color"}get tag(){return this.name}render(i,o){return!!o&&(i.openNode(this.name),o.argb?i.addAttribute("rgb",o.argb):o.theme!==void 0?(i.addAttribute("theme",o.theme),o.tint!==void 0&&i.addAttribute("tint",o.tint)):o.indexed!==void 0?i.addAttribute("indexed",o.indexed):i.addAttribute("auto","1"),i.closeNode(),!0)}parseOpen(i){return i.name===this.name&&(i.attributes.rgb?this.model={argb:i.attributes.rgb}:i.attributes.theme?(this.model={theme:parseInt(i.attributes.theme,10)},i.attributes.tint&&(this.model.tint=parseFloat(i.attributes.tint))):i.attributes.indexed?this.model={indexed:parseInt(i.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,r,a){const n=t("../base-xform"),i=t("./alignment-xform"),o=t("./border-xform"),l=t("./fill-xform"),s=t("./font-xform"),c=t("./numfmt-xform"),f=t("./protection-xform");r.exports=class extends n{constructor(){super(),this.map={alignment:new i,border:new o,fill:new l,font:new s,numFmt:new c,protection:new f}}get tag(){return"dxf"}render(h,d){if(h.openNode(this.tag),d.font&&this.map.font.render(h,d.font),d.numFmt&&d.numFmtId){const p={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(h,p)}d.fill&&this.map.fill.render(h,d.fill),d.alignment&&this.map.alignment.render(h,d.alignment),d.border&&this.map.border.render(h,d.border),d.protection&&this.map.protection.render(h,d.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,r,a){const n=t("../base-xform"),i=t("./color-xform");class o extends n{constructor(){super(),this.map={color:new i}}get tag(){return"stop"}render(h,d){h.openNode("stop"),h.addAttribute("position",d.position),this.map.color.render(h,d.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends n{constructor(){super(),this.map={fgColor:new i("fgColor"),bgColor:new i("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,d){h.openNode("patternFill"),h.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(h,d.fgColor),d.bgColor&&this.map.bgColor.render(h,d.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class s extends n{constructor(){super(),this.map={stop:new o}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,d){switch(h.openNode("gradientFill"),d.gradient){case"angle":h.addAttribute("degree",d.degree);break;case"path":h.addAttribute("type","path"),d.center.left&&(h.addAttribute("left",d.center.left),d.center.right===void 0&&h.addAttribute("right",d.center.left)),d.center.right&&h.addAttribute("right",d.center.right),d.center.top&&(h.addAttribute("top",d.center.top),d.center.bottom===void 0&&h.addAttribute("bottom",d.center.top)),d.center.bottom&&h.addAttribute("bottom",d.center.bottom)}const p=this.map.stop;d.stops.forEach(g=>{p.render(h,g)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const d=this.model={stops:[]};return h.attributes.degree?(d.gradient="angle",d.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(d.gradient="path",d.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(d.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(d.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class c extends n{constructor(){super(),this.map={patternFill:new l,gradientFill:new s}}get tag(){return"fill"}render(h,d){switch(h.addRollback(),h.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(h,d);break;case"gradient":this.map.gradientFill.render(h,d);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return c.validPatternValues[h]}}c.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((f,h)=>(f[h]=!0,f),{}),c.StopXform=o,c.PatternFillXform=l,c.GradientFillXform=s,r.exports=c},{"../base-xform":32,"./color-xform":128}],131:[function(t,r,a){const n=t("./color-xform"),i=t("../simple/boolean-xform"),o=t("../simple/integer-xform"),l=t("../simple/string-xform"),s=t("./underline-xform"),c=t("../../../utils/under-dash"),f=t("../base-xform");class h extends f{constructor(p){super(),this.options=p||h.OPTIONS,this.map={b:{prop:"bold",xform:new i({tag:"b",attr:"val"})},i:{prop:"italic",xform:new i({tag:"i",attr:"val"})},u:{prop:"underline",xform:new s},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new n},condense:{prop:"condense",xform:new i({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new i({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new i({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new i({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new i({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(p,g){const{map:m}=this;p.openNode(this.options.tagName),c.each(this.map,(b,y)=>{m[y].xform.render(p,g[b.prop])}),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;if(this.map[p.name])return this.parser=this.map[p.name].xform,this.parser.parseOpen(p);switch(p.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser&&!this.parser.parseClose(p)){const g=this.map[p];return this.parser.model&&(this.model[g.prop]=this.parser.model),this.parser=void 0,!0}switch(p){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},r.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,r,a){const n=t("../../../utils/under-dash"),i=t("../../defaultnumformats"),o=t("../base-xform"),l=function(){const c={};return n.each(i,(f,h)=>{f.f&&(c[f.f]=parseInt(h,10))}),c}();class s extends o{constructor(f,h){super(),this.id=f,this.formatCode=h}get tag(){return"numFmt"}render(f,h){f.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(f){switch(f.name){case"numFmt":return this.model={id:parseInt(f.attributes.numFmtId,10),formatCode:f.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}s.getDefaultFmtId=function(c){return l[c]},s.getDefaultFmtCode=function(c){return i[c]&&i[c].f},r.exports=s},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,r,a){const n=t("../base-xform"),i={boolean:(o,l)=>o===void 0?l:o};r.exports=class extends n{get tag(){return"protection"}render(o,l){o.addRollback(),o.openNode("protection");let s=!1;function c(f,h){h!==void 0&&(o.addAttribute(f,h),s=!0)}c("locked",i.boolean(l.locked,!0)?void 0:"0"),c("hidden",i.boolean(l.hidden,!1)?"1":void 0),o.closeNode(),s?o.commit():o.rollback()}parseOpen(o){const l={locked:o.attributes.locked!=="0",hidden:o.attributes.hidden==="1"},s=!l.locked||l.hidden;this.model=s?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,r,a){const n=t("../base-xform"),i=t("./alignment-xform"),o=t("./protection-xform");r.exports=class extends n{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new i,protection:new o}}get tag(){return"xf"}render(l,s){l.openNode("xf",{numFmtId:s.numFmtId||0,fontId:s.fontId||0,fillId:s.fillId||0,borderId:s.borderId||0}),this.xfId&&l.addAttribute("xfId",s.xfId||0),s.numFmtId&&l.addAttribute("applyNumberFormat","1"),s.fontId&&l.addAttribute("applyFont","1"),s.fillId&&l.addAttribute("applyFill","1"),s.borderId&&l.addAttribute("applyBorder","1"),s.alignment&&l.addAttribute("applyAlignment","1"),s.protection&&l.addAttribute("applyProtection","1"),s.alignment&&this.map.alignment.render(l,s.alignment),s.protection&&this.map.protection.render(l,s.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,r,a){const n=t("../../../doc/enums"),i=t("../../../utils/xml-stream"),o=t("../base-xform"),l=t("../static-xform"),s=t("../list-xform"),c=t("./font-xform"),f=t("./fill-xform"),h=t("./border-xform"),d=t("./numfmt-xform"),p=t("./style-xform"),g=t("./dxf-xform");class m extends o{constructor(y){super(),this.map={numFmts:new s({tag:"numFmts",count:!0,childXform:new d}),fonts:new s({tag:"fonts",count:!0,childXform:new c,$:{"x14ac:knownFonts":1}}),fills:new s({tag:"fills",count:!0,childXform:new f}),borders:new s({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new s({tag:"cellStyleXfs",count:!0,childXform:new p}),cellXfs:new s({tag:"cellXfs",count:!0,childXform:new p({xfId:!0})}),dxfs:new s({tag:"dxfs",always:!0,count:!0,childXform:new g}),numFmt:new d,font:new c,fill:new f,border:new h,style:new p({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},y&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(y,x){x=x||this.model,y.openXml(i.StdDocAttributes),y.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(x.numFmts&&x.numFmts.length&&(y.openNode("numFmts",{count:x.numFmts.length}),x.numFmts.forEach(k=>{y.writeXml(k)}),y.closeNode()),x.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),y.openNode("fonts",{count:x.fonts.length,"x14ac:knownFonts":1}),x.fonts.forEach(k=>{y.writeXml(k)}),y.closeNode(),y.openNode("fills",{count:x.fills.length}),x.fills.forEach(k=>{y.writeXml(k)}),y.closeNode(),y.openNode("borders",{count:x.borders.length}),x.borders.forEach(k=>{y.writeXml(k)}),y.closeNode(),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),y.openNode("cellXfs",{count:x.styles.length}),x.styles.forEach(k=>{y.writeXml(k)}),y.closeNode()):(this.map.numFmts.render(y,x.numFmts),this.map.fonts.render(y,x.fonts),this.map.fills.render(y,x.fills),this.map.borders.render(y,x.borders),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(y,x.styles)),m.STATIC_XFORMS.cellStyles.render(y),this.map.dxfs.render(y,x.dxfs),m.STATIC_XFORMS.tableStyles.render(y),m.STATIC_XFORMS.extLst.render(y),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"styleSheet":{this.model={};const x=(k,M)=>{M.model&&M.model.length&&(this.model[k]=M.model)};if(x("numFmts",this.map.numFmts),x("fonts",this.map.fonts),x("fills",this.map.fills),x("borders",this.map.borders),x("styles",this.map.cellXfs),x("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const k=this.index.numFmt;this.model.numFmts.forEach(M=>{k[M.id]=M.formatCode})}return!1}default:return!0}}addStyleModel(y,x){if(!y)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(y))return this.weakMap.get(y);const k={};if(x=x||n.ValueType.Number,y.numFmt)k.numFmtId=this._addNumFmtStr(y.numFmt);else switch(x){case n.ValueType.Number:k.numFmtId=this._addNumFmtStr("General");break;case n.ValueType.Date:k.numFmtId=this._addNumFmtStr("mm-dd-yy")}y.font&&(k.fontId=this._addFont(y.font)),y.border&&(k.borderId=this._addBorder(y.border)),y.fill&&(k.fillId=this._addFill(y.fill)),y.alignment&&(k.alignment=y.alignment),y.protection&&(k.protection=y.protection);const M=this._addStyle(k);return this.weakMap&&this.weakMap.set(y,M),M}getStyleModel(y){const x=this.model.styles[y];if(!x)return null;let k=this.index.model[y];if(k)return k;if(k=this.index.model[y]={},x.numFmtId){const I=this.index.numFmt[x.numFmtId]||d.getDefaultFmtCode(x.numFmtId);I&&(k.numFmt=I)}function M(I,B,j){if(j||j===0){const F=B[j];F&&(k[I]=F)}}return M("font",this.model.fonts,x.fontId),M("border",this.model.borders,x.borderId),M("fill",this.model.fills,x.fillId),x.alignment&&(k.alignment=x.alignment),x.protection&&(k.protection=x.protection),k}addDxfStyle(y){return y.numFmt&&(y.numFmtId=this._addNumFmtStr(y.numFmt)),this.model.dxfs.push(y),this.model.dxfs.length-1}getDxfStyle(y){return this.model.dxfs[y]}_addStyle(y){const x=this.map.style.toXml(y);let k=this.index.style[x];return k===void 0&&(k=this.index.style[x]=this.model.styles.length,this.model.styles.push(x)),k}_addNumFmtStr(y){let x=d.getDefaultFmtId(y);if(x!==void 0||(x=this.index.numFmt[y],x!==void 0))return x;x=this.index.numFmt[y]=164+this.model.numFmts.length;const k=this.map.numFmt.toXml({id:x,formatCode:y});return this.model.numFmts.push(k),x}_addFont(y){const x=this.map.font.toXml(y);let k=this.index.font[x];return k===void 0&&(k=this.index.font[x]=this.model.fonts.length,this.model.fonts.push(x)),k}_addBorder(y){const x=this.map.border.toXml(y);let k=this.index.border[x];return k===void 0&&(k=this.index.border[x]=this.model.borders.length,this.model.borders.push(x)),k}_addFill(y){const x=this.map.fill.toXml(y);let k=this.index.fill[x];return k===void 0&&(k=this.index.fill[x]=this.model.fills.length,this.model.fills.push(x)),k}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(b){return b.autodrain(),Promise.resolve()}addStyleModel(b,y){switch(y){case n.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const b={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(b)}return this._dateStyleId}getStyleModel(){return{}}},r.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,r,a){const n=t("../base-xform");class i extends n{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,s){if((s=s||this.model)===!0)l.leafNode("u");else{const c=i.Attributes[s];c&&l.leafNode("u",c)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}i.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},r.exports=i},{"../base-xform":32}],137:[function(t,r,a){const n=t("../base-xform"),i=t("./filter-column-xform");r.exports=class extends n{constructor(){super(),this.map={filterColumn:new i}}get tag(){return"autoFilter"}prepare(o){o.columns.forEach((l,s)=>{this.map.filterColumn.prepare(l,{index:s})})}render(o,l){return o.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(s=>{this.map.filterColumn.render(o,s)}),o.closeNode(),!0}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model={autoFilterRef:o.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"customFilter"}render(i,o){i.leafNode(this.tag,{val:o.val,operator:o.operator})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val,operator:i.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,r,a){const n=t("../base-xform"),i=t("../list-xform"),o=t("./custom-filter-xform"),l=t("./filter-xform");r.exports=class extends n{constructor(){super(),this.map={customFilters:new i({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new i({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(s,c){s.colId=c.index.toString()}render(s,c){return c.customFilters?(s.openNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),this.map.customFilters.render(s,c.customFilters),s.closeNode(),!0):(s.leafNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),!0)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;const{attributes:c}=s;switch(s.name){case this.tag:return this.model={filterButton:c.hiddenButton==="0"},!0;default:if(this.parser=this.map[s.name],this.parser)return this.parseOpen(s),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(s))}}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"filter"}render(i,o){i.leafNode(this.tag,{val:o.val})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"tableColumn"}prepare(i,o){i.id=o.index+1}render(i,o){return i.leafNode(this.tag,{id:o.id.toString(),name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId}),!0}parseOpen(i){if(i.name===this.tag){const{attributes:o}=i;return this.model={name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,r,a){const n=t("../base-xform");r.exports=class extends n{get tag(){return"tableStyleInfo"}render(i,o){return i.leafNode(this.tag,{name:o.theme?o.theme:void 0,showFirstColumn:o.showFirstColumn?"1":"0",showLastColumn:o.showLastColumn?"1":"0",showRowStripes:o.showRowStripes?"1":"0",showColumnStripes:o.showColumnStripes?"1":"0"}),!0}parseOpen(i){if(i.name===this.tag){const{attributes:o}=i;return this.model={theme:o.name?o.name:null,showFirstColumn:o.showFirstColumn==="1",showLastColumn:o.showLastColumn==="1",showRowStripes:o.showRowStripes==="1",showColumnStripes:o.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,r,a){const n=t("../../../utils/xml-stream"),i=t("../base-xform"),o=t("../list-xform"),l=t("./auto-filter-xform"),s=t("./table-column-xform"),c=t("./table-style-info-xform");class f extends i{constructor(){super(),this.map={autoFilter:new l,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new s}),tableStyleInfo:new c}}prepare(d,p){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,p)}get tag(){return"table"}render(d,p){d.openXml(n.StdDocAttributes),d.openNode(this.tag,{...f.TABLE_ATTRIBUTES,id:p.id,name:p.name,displayName:p.displayName||p.name,ref:p.tableRef,totalsRowCount:p.totalsRow?"1":void 0,totalsRowShown:p.totalsRow?void 0:"1",headerRowCount:p.headerRow?"1":"0"}),this.map.autoFilter.render(d,p),this.map.tableColumns.render(d,p.columns),this.map.tableStyleInfo.render(d,p.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;const{name:p,attributes:g}=d;switch(p){case this.tag:this.reset(),this.model={name:g.name,displayName:g.displayName||g.name,tableRef:g.ref,totalsRow:g.totalsRowCount==="1",headerRow:g.headerRowCount==="1"};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((p,g)=>{this.model.columns[g].filterButton=p.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(d,p){d.columns.forEach(g=>{g.dxfId!==void 0&&(g.style=p.styles.getDxfStyle(g.dxfId))})}}f.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},r.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,r,a){(function(n,i){(function(){const o=t("fs"),l=t("jszip"),{PassThrough:s}=t("readable-stream"),c=t("../utils/zip-stream"),f=t("../utils/stream-buf"),h=t("../utils/utils"),d=t("../utils/xml-stream"),{bufferToString:p}=t("../utils/browser-buffer-decode"),g=t("./xform/style/styles-xform"),m=t("./xform/core/core-xform"),b=t("./xform/strings/shared-strings-xform"),y=t("./xform/core/relationships-xform"),x=t("./xform/core/content-types-xform"),k=t("./xform/core/app-xform"),M=t("./xform/book/workbook-xform"),I=t("./xform/sheet/worksheet-xform"),B=t("./xform/drawing/drawing-xform"),j=t("./xform/table/table-xform"),F=t("./xform/comment/comments-xform"),z=t("./xform/comment/vml-notes-xform"),$=t("./xml/theme1");class H{constructor(O){this.workbook=O}async readFile(O,A){if(!await h.fs.exists(O))throw new Error("File not found: "+O);const v=o.createReadStream(O);try{const w=await this.read(v,A);return v.close(),w}catch(w){throw v.close(),w}}parseRels(O){return new y().parseStream(O)}parseWorkbook(O){return new M().parseStream(O)}parseSharedStrings(O){return new b().parseStream(O)}reconcile(O,A){const v=new M,w=new I(A),_=new B,S=new j;v.reconcile(O);const T={media:O.media,mediaIndex:O.mediaIndex};Object.keys(O.drawings).forEach(V=>{const q=O.drawings[V],Y=O.drawingRels[V];Y&&(T.rels=Y.reduce((D,X)=>(D[X.Id]=X,D),{}),(q.anchors||[]).forEach(D=>{const X=D.picture&&D.picture.hyperlinks;X&&T.rels[X.rId]&&(X.hyperlink=T.rels[X.rId].Target,delete X.rId)}),_.reconcile(q,T))});const N={styles:O.styles};Object.values(O.tables).forEach(V=>{S.reconcile(V,N)});const L={styles:O.styles,sharedStrings:O.sharedStrings,media:O.media,mediaIndex:O.mediaIndex,date1904:O.properties&&O.properties.date1904,drawings:O.drawings,comments:O.comments,tables:O.tables,vmlDrawings:O.vmlDrawings};O.worksheets.forEach(V=>{V.relationships=O.worksheetRels[V.sheetNo],w.reconcile(V,L)}),delete O.worksheetHash,delete O.worksheetRels,delete O.globalRels,delete O.sharedStrings,delete O.workbookRels,delete O.sheetDefs,delete O.styles,delete O.mediaIndex,delete O.drawings,delete O.drawingRels,delete O.vmlDrawings}async _processWorksheetEntry(O,A,v,w,_){const S=new I(w),T=await S.parseStream(O);T.sheetNo=v,A.worksheetHash[_]=T,A.worksheets.push(T)}async _processCommentEntry(O,A,v){const w=new F,_=await w.parseStream(O);A.comments[`../${v}.xml`]=_}async _processTableEntry(O,A,v){const w=new j,_=await w.parseStream(O);A.tables[`../tables/${v}.xml`]=_}async _processWorksheetRelsEntry(O,A,v){const w=new y,_=await w.parseStream(O);A.worksheetRels[v]=_}async _processMediaEntry(O,A,v){const w=v.lastIndexOf(".");if(w>=1){const _=v.substr(w+1),S=v.substr(0,w);await new Promise((T,N)=>{const L=new f;L.on("finish",()=>{A.mediaIndex[v]=A.media.length,A.mediaIndex[S]=A.media.length;const V={type:"image",name:S,extension:_,buffer:L.toBuffer()};A.media.push(V),T()}),O.on("error",V=>{N(V)}),O.pipe(L)})}}async _processDrawingEntry(O,A,v){const w=new B,_=await w.parseStream(O);A.drawings[v]=_}async _processDrawingRelsEntry(O,A,v){const w=new y,_=await w.parseStream(O);A.drawingRels[v]=_}async _processVmlDrawingEntry(O,A,v){const w=new z,_=await w.parseStream(O);A.vmlDrawings[`../drawings/${v}.vml`]=_}async _processThemeEntry(O,A,v){await new Promise((w,_)=>{const S=new f;O.on("error",_),S.on("error",_),S.on("finish",()=>{A.themes[v]=S.read().toString(),w()}),O.pipe(S)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(O,A){!O[Symbol.asyncIterator]&&O.pipe&&(O=O.pipe(new s));const v=[];for await(const w of O)v.push(w);return this.load(i.concat(v),A)}async load(O,A){let v;v=A&&A.base64?i.from(O.toString(),"base64"):O;const w={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},_=await l.loadAsync(v);for(const S of Object.values(_.files))if(!S.dir){let T,N=S.name;if(N[0]==="/"&&(N=N.substr(1)),N.match(/xl\/media\//)||N.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))T=new s,T.write(await S.async("nodebuffer"));else{let L;T=new s({writableObjectMode:!0,readableObjectMode:!0}),L=n.browser?p(await S.async("nodebuffer")):await S.async("string");const V=16384;for(let q=0;q<L.length;q+=V)T.write(L.substring(q,q+V))}switch(T.end(),N){case"_rels/.rels":w.globalRels=await this.parseRels(T);break;case"xl/workbook.xml":{const L=await this.parseWorkbook(T);w.sheets=L.sheets,w.definedNames=L.definedNames,w.views=L.views,w.properties=L.properties,w.calcProperties=L.calcProperties;break}case"xl/_rels/workbook.xml.rels":w.workbookRels=await this.parseRels(T);break;case"xl/sharedStrings.xml":w.sharedStrings=new b,await w.sharedStrings.parseStream(T);break;case"xl/styles.xml":w.styles=new g,await w.styles.parseStream(T);break;case"docProps/app.xml":{const L=new k,V=await L.parseStream(T);w.company=V.company,w.manager=V.manager;break}case"docProps/core.xml":{const L=new m,V=await L.parseStream(T);Object.assign(w,V);break}default:{let L=N.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(L){await this._processWorksheetEntry(T,w,L[1],A,N);break}if(L=N.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),L){await this._processWorksheetRelsEntry(T,w,L[1]);break}if(L=N.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),L){await this._processThemeEntry(T,w,L[1]);break}if(L=N.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),L){await this._processMediaEntry(T,w,L[1]);break}if(L=N.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),L){await this._processDrawingEntry(T,w,L[1]);break}if(L=N.match(/xl\/(comments\d+)[.]xml/),L){await this._processCommentEntry(T,w,L[1]);break}if(L=N.match(/xl\/tables\/(table\d+)[.]xml/),L){await this._processTableEntry(T,w,L[1]);break}if(L=N.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),L){await this._processDrawingRelsEntry(T,w,L[1]);break}if(L=N.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),L){await this._processVmlDrawingEntry(T,w,L[1]);break}}}}return this.reconcile(w,A),this.workbook.model=w,this.workbook}async addMedia(O,A){await Promise.all(A.media.map(async v=>{if(v.type==="image"){const w=`xl/media/${v.name}.${v.extension}`;if(v.filename){const _=await function(S,T){return new Promise((N,L)=>{o.readFile(S,T,(V,q)=>{V?L(V):N(q)})})}(v.filename);return O.append(_,{name:w})}if(v.buffer)return O.append(v.buffer,{name:w});if(v.base64){const _=v.base64,S=_.substring(_.indexOf(",")+1);return O.append(S,{name:w,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(O,A){const v=new B,w=new y;A.worksheets.forEach(_=>{const{drawing:S}=_;if(S){v.prepare(S,{});let T=v.toXml(S);O.append(T,{name:`xl/drawings/${S.name}.xml`}),T=w.toXml(S.rels),O.append(T,{name:`xl/drawings/_rels/${S.name}.xml.rels`})}})}addTables(O,A){const v=new j;A.worksheets.forEach(w=>{const{tables:_}=w;_.forEach(S=>{v.prepare(S,{});const T=v.toXml(S);O.append(T,{name:"xl/tables/"+S.target})})})}async addContentTypes(O,A){const v=new x().toXml(A);O.append(v,{name:"[Content_Types].xml"})}async addApp(O,A){const v=new k().toXml(A);O.append(v,{name:"docProps/app.xml"})}async addCore(O,A){const v=new m;O.append(v.toXml(A),{name:"docProps/core.xml"})}async addThemes(O,A){const v=A.themes||{theme1:$};Object.keys(v).forEach(w=>{const _=v[w],S=`xl/theme/${w}.xml`;O.append(_,{name:S})})}async addOfficeRels(O){const A=new y().toXml([{Id:"rId1",Type:H.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:H.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:H.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);O.append(A,{name:"_rels/.rels"})}async addWorkbookRels(O,A){let v=1;const w=[{Id:"rId"+v++,Type:H.RelType.Styles,Target:"styles.xml"},{Id:"rId"+v++,Type:H.RelType.Theme,Target:"theme/theme1.xml"}];A.sharedStrings.count&&w.push({Id:"rId"+v++,Type:H.RelType.SharedStrings,Target:"sharedStrings.xml"}),A.worksheets.forEach(S=>{S.rId="rId"+v++,w.push({Id:S.rId,Type:H.RelType.Worksheet,Target:`worksheets/sheet${S.id}.xml`})});const _=new y().toXml(w);O.append(_,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(O,A){A.sharedStrings&&A.sharedStrings.count&&O.append(A.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(O,A){const{xml:v}=A.styles;v&&O.append(v,{name:"xl/styles.xml"})}async addWorkbook(O,A){const v=new M;O.append(v.toXml(A),{name:"xl/workbook.xml"})}async addWorksheets(O,A){const v=new I,w=new y,_=new F,S=new z;A.worksheets.forEach(T=>{let N=new d;v.render(N,T),O.append(N.xml,{name:`xl/worksheets/sheet${T.id}.xml`}),T.rels&&T.rels.length&&(N=new d,w.render(N,T.rels),O.append(N.xml,{name:`xl/worksheets/_rels/sheet${T.id}.xml.rels`})),T.comments.length>0&&(N=new d,_.render(N,T),O.append(N.xml,{name:`xl/comments${T.id}.xml`}),N=new d,S.render(N,T),O.append(N.xml,{name:`xl/drawings/vmlDrawing${T.id}.vml`}))})}_finalize(O){return new Promise((A,v)=>{O.on("finish",()=>{A(this)}),O.on("error",v),O.finalize()})}prepareModel(O,A){O.creator=O.creator||"ExcelJS",O.lastModifiedBy=O.lastModifiedBy||"ExcelJS",O.created=O.created||new Date,O.modified=O.modified||new Date,O.useSharedStrings=A.useSharedStrings===void 0||A.useSharedStrings,O.useStyles=A.useStyles===void 0||A.useStyles,O.sharedStrings=new b,O.styles=O.useStyles?new g(!0):new g.Mock;const v=new M,w=new I;v.prepare(O);const _={sharedStrings:O.sharedStrings,styles:O.styles,date1904:O.properties.date1904,drawingsCount:0,media:O.media};_.drawings=O.drawings=[],_.commentRefs=O.commentRefs=[];let S=0;O.tables=[],O.worksheets.forEach(T=>{T.tables.forEach(N=>{S++,N.target=`table${S}.xml`,N.id=S,O.tables.push(N)}),w.prepare(T,_)})}async write(O,A){A=A||{};const{model:v}=this.workbook,w=new c.ZipWriter(A.zip);return w.pipe(O),this.prepareModel(v,A),await this.addContentTypes(w,v),await this.addOfficeRels(w,v),await this.addWorkbookRels(w,v),await this.addWorksheets(w,v),await this.addSharedStrings(w,v),await this.addDrawings(w,v),await this.addTables(w,v),await Promise.all([this.addThemes(w,v),this.addStyles(w,v)]),await this.addMedia(w,v),await Promise.all([this.addApp(w,v),this.addCore(w,v)]),await this.addWorkbook(w,v),this._finalize(w)}writeFile(O,A){const v=o.createWriteStream(O);return new Promise((w,_)=>{v.on("finish",()=>{w()}),v.on("error",S=>{_(S)}),this.write(v,A).then(()=>{v.end()}).catch(S=>{_(S)})})}async writeBuffer(O){const A=new f;return await this.write(A,O),A.read()}}H.RelType=t("./rel-type"),r.exports=H}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,r,a){r.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,r,a){(function(n){(function(){Object.defineProperty(a,"__esModule",{value:!0}),a.CsvFormatterStream=void 0;const i=t("stream"),o=t("./formatter");class l extends i.Transform{constructor(c){super({writableObjectMode:c.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=c,this.rowFormatter=new o.RowFormatter(c),this.hasWrittenBOM=!c.writeBOM}transform(c){return this.rowFormatter.rowTransform=c,this}_transform(c,f,h){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(c,(p,g)=>p?(d=!0,h(p)):(g&&g.forEach(m=>{this.push(n.from(m,"utf8"))}),d=!0,h()))}catch(p){if(d)throw p;h(p)}}_flush(c){this.rowFormatter.finish((f,h)=>f?c(f):(h&&h.forEach(d=>{this.push(n.from(d,"utf8"))}),c()))}}a.CsvFormatterStream=l}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.FormatterOptions=void 0,a.FormatterOptions=class{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var i;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,n||{}),(n==null?void 0:n.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(n==null?void 0:n.quote)===!0?this.quote='"':(n==null?void 0:n.quote)===!1&&(this.quote=""),typeof(n==null?void 0:n.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((i=n.writeHeaders)===null||i===void 0||i),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,r,a){var n=function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(a,"__esModule",{value:!0}),a.FieldFormatter=void 0;const i=n(t("lodash.isboolean")),o=n(t("lodash.isnil")),l=n(t("lodash.escaperegexp"));a.FieldFormatter=class{constructor(s){this._headers=null,this.formatterOptions=s,s.headers!==null&&(this.headers=s.headers),this.REPLACE_REGEXP=new RegExp(s.quote,"g");const c=`[${s.delimiter}${l.default(s.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(c)}set headers(s){this._headers=s}shouldQuote(s,c){const f=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return i.default(f)?f:Array.isArray(f)?f[s]:this._headers!==null&&f[this._headers[s]]}format(s,c,f){const h=(""+(o.default(s)?"":s)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&h.indexOf(d.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,d.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(c,f)?this.quoteField(h):h}quoteField(s){const{quote:c}=this.formatterOptions;return`${c}${s}${c}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,r,a){var n=function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(a,"__esModule",{value:!0}),a.RowFormatter=void 0;const i=n(t("lodash.isfunction")),o=n(t("lodash.isequal")),l=t("./FieldFormatter"),s=t("../types");class c{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new l.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return c.isRowHashArray(h)?h.map(d=>d[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return s.isSyncTransform(h)?(d,p)=>{let g=null;try{g=h(d)}catch(m){return p(m)}return p(null,g)}:(d,p)=>{h(d,p)}}set rowTransform(h){if(!i.default(h))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(h)}format(h,d){this.callTransformer(h,(p,g)=>{if(p)return d(p);if(!h)return d(null);const m=[];if(g){const{shouldFormatColumns:b,headers:y}=this.checkHeaders(g);if(this.shouldWriteHeaders&&y&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(y,!0)),this.hasWrittenHeaders=!0),b){const x=this.gatherColumns(g);m.push(this.formatColumns(x,!1))}}return d(null,m)})}finish(h){const d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),h(null,d)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const d=c.gatherHeaders(h);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(d,h),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?c.isRowHashArray(h)?this.headers.map((d,p)=>{const g=h[p];return g?g[1]:""}):c.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((d,p)=>h[p]):this.headers.map(d=>h[d])}callTransformer(h,d){return this._rowTransform?this._rowTransform(h,d):d(null,h)}formatColumns(h,d){const p=h.map((m,b)=>this.fieldFormatter.format(m,b,d)).join(this.formatterOptions.delimiter),{rowCount:g}=this;return this.rowCount+=1,g?[this.formatterOptions.rowDelimiter,p].join(""):p}}a.RowFormatter=c},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.FieldFormatter=a.RowFormatter=void 0;var n=t("./RowFormatter");Object.defineProperty(a,"RowFormatter",{enumerable:!0,get:function(){return n.RowFormatter}});var i=t("./FieldFormatter");Object.defineProperty(a,"FieldFormatter",{enumerable:!0,get:function(){return i.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,r,a){(function(n){(function(){var i=Object.create?function(b,y,x,k){k===void 0&&(k=x),Object.defineProperty(b,k,{enumerable:!0,get:function(){return y[x]}})}:function(b,y,x,k){k===void 0&&(k=x),b[k]=y[x]},o=Object.create?function(b,y){Object.defineProperty(b,"default",{enumerable:!0,value:y})}:function(b,y){b.default=y},l=function(b){if(b&&b.__esModule)return b;var y={};if(b!=null)for(var x in b)x!=="default"&&Object.prototype.hasOwnProperty.call(b,x)&&i(y,b,x);return o(y,b),y},s=function(b,y){for(var x in b)x==="default"||Object.prototype.hasOwnProperty.call(y,x)||i(y,b,x)};Object.defineProperty(a,"__esModule",{value:!0}),a.writeToPath=a.writeToString=a.writeToBuffer=a.writeToStream=a.write=a.format=a.FormatterOptions=a.CsvFormatterStream=void 0;const c=t("util"),f=t("stream"),h=l(t("fs")),d=t("./FormatterOptions"),p=t("./CsvFormatterStream");s(t("./types"),a);var g=t("./CsvFormatterStream");Object.defineProperty(a,"CsvFormatterStream",{enumerable:!0,get:function(){return g.CsvFormatterStream}});var m=t("./FormatterOptions");Object.defineProperty(a,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),a.format=b=>new p.CsvFormatterStream(new d.FormatterOptions(b)),a.write=(b,y)=>{const x=a.format(y),k=c.promisify((M,I)=>{x.write(M,void 0,I)});return b.reduce((M,I)=>M.then(()=>k(I)),Promise.resolve()).then(()=>x.end()).catch(M=>{x.emit("error",M)}),x},a.writeToStream=(b,y,x)=>a.write(y,x).pipe(b),a.writeToBuffer=function(b){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const x=[],k=new f.Writable({write(M,I,B){x.push(M),B()}});return new Promise((M,I)=>{k.on("error",I).on("finish",()=>M(n.concat(x))),a.write(b,y).pipe(k)})},a.writeToString=(b,y)=>a.writeToBuffer(b,y).then(x=>x.toString()),a.writeToPath=(b,y,x)=>{const k=h.createWriteStream(b,{encoding:"utf8"});return a.write(y,x).pipe(k)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isSyncTransform=void 0,a.isSyncTransform=n=>n.length===1},{}],153:[function(t,r,a){(function(n){(function(){Object.defineProperty(a,"__esModule",{value:!0}),a.CsvParserStream=void 0;const i=t("string_decoder"),o=t("stream"),l=t("./transforms"),s=t("./parser");class c extends o.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new s.Parser(h),this.headerTransformer=new l.HeaderTransformer(h),this.decoder=new i.StringDecoder(h.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,p=new Array(d>1?d-1:0),g=1;g<d;g++)p[g-1]=arguments[g];return super.emit(h,...p)}_transform(h,d,p){if(this.hasHitRowLimit)return p();const g=c.wrapDoneCallback(p);try{const{lines:m}=this,b=m+this.decoder.write(h),y=this.parse(b,!0);return this.processRows(y,g)}catch(m){return g(m)}}_flush(h){const d=c.wrapDoneCallback(h);if(this.hasHitRowLimit)return d();try{const p=this.lines+this.decoder.end(),g=this.parse(p,!1);return this.processRows(g,d)}catch(p){return d(p)}}parse(h,d){if(!h)return[];const{line:p,rows:g}=this.parser.parse(h,d);return this.lines=p,g}processRows(h,d){const p=h.length,g=m=>{const b=k=>k?d(k):m%100!=0?g(m+1):void n(()=>g(m+1));if(this.checkAndEmitHeaders(),m>=p||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return b();const y=h[m];this.rowCount+=1,this.parsedRowCount+=1;const x=this.rowCount;return this.transformRow(y,(k,M)=>{if(k)return this.rowCount-=1,b(k);if(!M)return b(new Error("expected transform result"));if(M.isValid){if(M.row)return this.pushRow(M.row,b)}else this.emit("data-invalid",M.row,x,M.reason);return b()})};g(0)}transformRow(h,d){try{this.headerTransformer.transform(h,(p,g)=>p?d(p):g?g.isValid?g.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(g.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:h}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(p){d(p)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,d){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),d()}catch(p){d(p)}}static wrapDoneCallback(h){let d=!1;return function(p){if(p){if(d)throw p;return d=!0,void h(p)}for(var g=arguments.length,m=new Array(g>1?g-1:0),b=1;b<g;b++)m[b-1]=arguments[b];h(...m)}}}a.CsvParserStream=c}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,r,a){var n=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(a,"__esModule",{value:!0}),a.ParserOptions=void 0;const i=n(t("lodash.escaperegexp")),o=n(t("lodash.isnil"));a.ParserOptions=class{constructor(l){var s;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=i.default(this.delimiter),this.escapeChar=(s=this.escape)!==null&&s!==void 0?s:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,r,a){var n=Object.create?function(g,m,b,y){y===void 0&&(y=b),Object.defineProperty(g,y,{enumerable:!0,get:function(){return m[b]}})}:function(g,m,b,y){y===void 0&&(y=b),g[y]=m[b]},i=Object.create?function(g,m){Object.defineProperty(g,"default",{enumerable:!0,value:m})}:function(g,m){g.default=m},o=function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var b in g)b!=="default"&&Object.prototype.hasOwnProperty.call(g,b)&&n(m,g,b);return i(m,g),m},l=function(g,m){for(var b in g)b==="default"||Object.prototype.hasOwnProperty.call(m,b)||n(m,g,b)};Object.defineProperty(a,"__esModule",{value:!0}),a.parseString=a.parseFile=a.parseStream=a.parse=a.ParserOptions=a.CsvParserStream=void 0;const s=o(t("fs")),c=t("stream"),f=t("./ParserOptions"),h=t("./CsvParserStream");l(t("./types"),a);var d=t("./CsvParserStream");Object.defineProperty(a,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var p=t("./ParserOptions");Object.defineProperty(a,"ParserOptions",{enumerable:!0,get:function(){return p.ParserOptions}}),a.parse=g=>new h.CsvParserStream(new f.ParserOptions(g)),a.parseStream=(g,m)=>g.pipe(new h.CsvParserStream(new f.ParserOptions(m))),a.parseFile=function(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s.createReadStream(g).pipe(new h.CsvParserStream(new f.ParserOptions(m)))},a.parseString=(g,m)=>{const b=new c.Readable;return b.push(g),b.push(null),b.pipe(new h.CsvParserStream(new f.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.Parser=void 0;const n=t("./Scanner"),i=t("./RowParser"),o=t("./Token");class l{constructor(c){this.parserOptions=c,this.rowParser=new i.RowParser(this.parserOptions)}static removeBOM(c){return c&&c.charCodeAt(0)===65279?c.slice(1):c}parse(c,f){const h=new n.Scanner({line:l.removeBOM(c),parserOptions:this.parserOptions,hasMoreData:f});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(c){const f=[];let h=!0;for(;h;)h=this.parseRow(c,f);return{line:c.line,rows:f}}parseWithComments(c){const{parserOptions:f}=this,h=[];for(let d=c.nextCharacterToken;d!==null;d=c.nextCharacterToken)if(o.Token.isTokenComment(d,f)){if(c.advancePastLine()===null)return{line:c.lineFromCursor,rows:h};if(!c.hasMoreCharacters)return{line:c.lineFromCursor,rows:h};c.truncateToCursor()}else if(!this.parseRow(c,h))break;return{line:c.line,rows:h}}parseRow(c,f){if(!c.nextNonSpaceToken)return!1;const h=this.rowParser.parse(c);return h!==null&&(this.parserOptions.ignoreEmpty&&i.RowParser.isEmptyRow(h)||f.push(h),!0)}}a.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.RowParser=void 0;const n=t("./column"),i=t("./Token");a.RowParser=class{constructor(o){this.parserOptions=o,this.columnParser=new n.ColumnParser(o)}static isEmptyRow(o){return o.join("").replace(/\s+/g,"")===""}parse(o){const{parserOptions:l}=this,{hasMoreData:s}=o,c=o,f=[];let h=this.getStartToken(c,f);for(;h;){if(i.Token.isTokenRowDelimiter(h))return c.advancePastToken(h),!c.hasMoreCharacters&&i.Token.isTokenCarriageReturn(h,l)&&s?null:(c.truncateToCursor(),f);if(!this.shouldSkipColumnParse(c,h,f)){const d=this.columnParser.parse(c);if(d===null)return null;f.push(d)}h=c.nextNonSpaceToken}return s?null:(c.truncateToCursor(),f)}getStartToken(o,l){const s=o.nextNonSpaceToken;return s!==null&&i.Token.isTokenDelimiter(s,this.parserOptions)?(l.push(""),o.nextNonSpaceToken):s}shouldSkipColumnParse(o,l,s){const{parserOptions:c}=this;if(i.Token.isTokenDelimiter(l,c)){o.advancePastToken(l);const f=o.nextCharacterToken;if(!o.hasMoreCharacters||f!==null&&i.Token.isTokenRowDelimiter(f)||f!==null&&i.Token.isTokenDelimiter(f,c))return s.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.Scanner=void 0;const n=t("./Token"),i=/((?:\r\n)|\n|\r)/;a.Scanner=class{constructor(o){this.cursor=0,this.line=o.line,this.lineLength=this.line.length,this.parserOptions=o.parserOptions,this.hasMoreData=o.hasMoreData,this.cursor=o.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:o}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(o.search(l)===-1)return null;const s=l.exec(o);if(s==null)return null;const c=s[1],f=this.cursor+(s.index||0);return new n.Token({token:c,startCursor:f,endCursor:f+c.length-1})}get nextCharacterToken(){const{cursor:o,lineLength:l}=this;return l<=o?null:new n.Token({token:this.line[o],startCursor:o,endCursor:o})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const o=i.exec(this.lineFromCursor);return o?(this.cursor+=(o.index||0)+o[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(o){return this.cursor=o,this}advanceToToken(o){return this.cursor=o.startCursor,this}advancePastToken(o){return this.cursor=o.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.Token=void 0,a.Token=class{constructor(n){this.token=n.token,this.startCursor=n.startCursor,this.endCursor=n.endCursor}static isTokenRowDelimiter(n){const i=n.token;return i==="\r"||i===`
`||i===`\r
`}static isTokenCarriageReturn(n,i){return n.token===i.carriageReturn}static isTokenComment(n,i){return i.supportsComments&&!!n&&n.token===i.comment}static isTokenEscapeCharacter(n,i){return n.token===i.escapeChar}static isTokenQuote(n,i){return n.token===i.quote}static isTokenDelimiter(n,i){return n.token===i.delimiter}}},{}],160:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ColumnFormatter=void 0,a.ColumnFormatter=class{constructor(n){n.trim?this.format=i=>i.trim():n.ltrim?this.format=i=>i.trimLeft():n.rtrim?this.format=i=>i.trimRight():this.format=i=>i}}},{}],161:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ColumnParser=void 0;const n=t("./NonQuotedColumnParser"),i=t("./QuotedColumnParser"),o=t("../Token");a.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new i.QuotedColumnParser(l),this.nonQuotedColumnParser=new n.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:s}=l;return s!==null&&o.Token.isTokenQuote(s,this.parserOptions)?(l.advanceToToken(s),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.NonQuotedColumnParser=void 0;const n=t("./ColumnFormatter"),i=t("../Token");a.NonQuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new n.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const{parserOptions:l}=this,s=[];let c=o.nextCharacterToken;for(;c&&!i.Token.isTokenDelimiter(c,l)&&!i.Token.isTokenRowDelimiter(c);c=o.nextCharacterToken)s.push(c.token),o.advancePastToken(c);return this.columnFormatter.format(s.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.QuotedColumnParser=void 0;const n=t("./ColumnFormatter"),i=t("../Token");a.QuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new n.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const l=o.cursor,{foundClosingQuote:s,col:c}=this.gatherDataBetweenQuotes(o);if(!s){if(o.advanceTo(l),!o.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${o.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(o),c}gatherDataBetweenQuotes(o){const{parserOptions:l}=this;let s=!1,c=!1;const f=[];let h=o.nextCharacterToken;for(;!c&&h!==null;h=o.nextCharacterToken){const d=i.Token.isTokenQuote(h,l);if(!s&&d)s=!0;else if(s)if(i.Token.isTokenEscapeCharacter(h,l)){o.advancePastToken(h);const p=o.nextCharacterToken;p!==null&&(i.Token.isTokenQuote(p,l)||i.Token.isTokenEscapeCharacter(p,l))?(f.push(p.token),h=p):d?c=!0:f.push(h.token)}else d?c=!0:f.push(h.token);o.advancePastToken(h)}return{col:this.columnFormatter.format(f.join("")),foundClosingQuote:c}}checkForMalformedColumn(o){const{parserOptions:l}=this,{nextNonSpaceToken:s}=o;if(s){const c=i.Token.isTokenDelimiter(s,l),f=i.Token.isTokenRowDelimiter(s);if(!c&&!f){const h=o.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${s.token}'. at '${h}`)}o.advanceToToken(s)}else o.hasMoreData||o.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ColumnFormatter=a.QuotedColumnParser=a.NonQuotedColumnParser=a.ColumnParser=void 0;var n=t("./ColumnParser");Object.defineProperty(a,"ColumnParser",{enumerable:!0,get:function(){return n.ColumnParser}});var i=t("./NonQuotedColumnParser");Object.defineProperty(a,"NonQuotedColumnParser",{enumerable:!0,get:function(){return i.NonQuotedColumnParser}});var o=t("./QuotedColumnParser");Object.defineProperty(a,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var l=t("./ColumnFormatter");Object.defineProperty(a,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.QuotedColumnParser=a.NonQuotedColumnParser=a.ColumnParser=a.Token=a.Scanner=a.RowParser=a.Parser=void 0;var n=t("./Parser");Object.defineProperty(a,"Parser",{enumerable:!0,get:function(){return n.Parser}});var i=t("./RowParser");Object.defineProperty(a,"RowParser",{enumerable:!0,get:function(){return i.RowParser}});var o=t("./Scanner");Object.defineProperty(a,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var l=t("./Token");Object.defineProperty(a,"Token",{enumerable:!0,get:function(){return l.Token}});var s=t("./column");Object.defineProperty(a,"ColumnParser",{enumerable:!0,get:function(){return s.ColumnParser}}),Object.defineProperty(a,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}}),Object.defineProperty(a,"QuotedColumnParser",{enumerable:!0,get:function(){return s.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,r,a){var n=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(a,"__esModule",{value:!0}),a.HeaderTransformer=void 0;const i=n(t("lodash.isundefined")),o=n(t("lodash.isfunction")),l=n(t("lodash.uniq")),s=n(t("lodash.groupby"));a.HeaderTransformer=class{constructor(c){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,c.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):o.default(c.headers)&&(this.headersTransform=c.headers)}transform(c,f){return this.shouldMapRow(c)?f(null,this.processRow(c)):f(null,{row:null,isValid:!0})}shouldMapRow(c){const{parserOptions:f}=this;if(!this.headersTransform&&f.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}processRow(c){if(!this.headers)return{row:c,isValid:!0};const{parserOptions:f}=this;if(!f.discardUnmappedColumns&&c.length>this.headersLength){if(!f.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${c.length}`);return{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}}return f.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}:{row:this.mapHeaders(c),isValid:!0}}mapHeaders(c){const f={},{headers:h,headersLength:d}=this;for(let p=0;p<d;p+=1){const g=h[p];if(!i.default(g)){const m=c[p];i.default(m)?f[g]="":f[g]=m}}return f}setHeaders(c){var f;const h=c.filter(d=>!!d);if(l.default(h).length!==h.length){const d=s.default(h),p=Object.keys(d).filter(g=>d[g].length>1);throw new Error("Duplicate headers found "+JSON.stringify(p))}this.headers=c,this.receivedHeaders=!0,this.headersLength=((f=this.headers)===null||f===void 0?void 0:f.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,r,a){var n=function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(a,"__esModule",{value:!0}),a.RowTransformerValidator=void 0;const i=n(t("lodash.isfunction")),o=t("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(c){return o.isSyncTransform(c)?(f,h)=>{let d=null;try{d=c(f)}catch(p){return h(p)}return h(null,d)}:c}static createValidator(c){return o.isSyncValidate(c)?(f,h)=>{h(null,{row:f,isValid:c(f)})}:(f,h)=>{c(f,(d,p,g)=>d?h(d):h(null,p?{row:f,isValid:p,reason:g}:{row:f,isValid:!1,reason:g}))}}set rowTransform(c){if(!i.default(c))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(c)}set rowValidator(c){if(!i.default(c))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(c)}transformAndValidate(c,f){return this.callTransformer(c,(h,d)=>h?f(h):d?this.callValidator(d,(p,g)=>p?f(p):g&&!g.isValid?f(null,{row:d,isValid:!1,reason:g.reason}):f(null,{row:d,isValid:!0})):f(null,{row:null,isValid:!0}))}callTransformer(c,f){return this._rowTransform?this._rowTransform(c,f):f(null,c)}callValidator(c,f){return this._rowValidator?this._rowValidator(c,f):f(null,{row:c,isValid:!0})}}a.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.HeaderTransformer=a.RowTransformerValidator=void 0;var n=t("./RowTransformerValidator");Object.defineProperty(a,"RowTransformerValidator",{enumerable:!0,get:function(){return n.RowTransformerValidator}});var i=t("./HeaderTransformer");Object.defineProperty(a,"HeaderTransformer",{enumerable:!0,get:function(){return i.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isSyncValidate=a.isSyncTransform=void 0,a.isSyncTransform=n=>n.length===1,a.isSyncValidate=n=>n.length===1},{}],170:[function(t,r,a){const n=a;n.bignum=t("bn.js"),n.define=t("./asn1/api").define,n.base=t("./asn1/base"),n.constants=t("./asn1/constants"),n.decoders=t("./asn1/decoders"),n.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,r,a){const n=t("./encoders"),i=t("./decoders"),o=t("inherits");function l(s,c){this.name=s,this.body=c,this.decoders={},this.encoders={}}a.define=function(s,c){return new l(s,c)},l.prototype._createNamed=function(s){const c=this.name;function f(h){this._initNamed(h,c)}return o(f,s),f.prototype._initNamed=function(h,d){s.call(this,h,d)},new f(this)},l.prototype._getDecoder=function(s){return s=s||"der",this.decoders.hasOwnProperty(s)||(this.decoders[s]=this._createNamed(i[s])),this.decoders[s]},l.prototype.decode=function(s,c,f){return this._getDecoder(c).decode(s,f)},l.prototype._getEncoder=function(s){return s=s||"der",this.encoders.hasOwnProperty(s)||(this.encoders[s]=this._createNamed(n[s])),this.encoders[s]},l.prototype.encode=function(s,c,f){return this._getEncoder(c).encode(s,f)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,r,a){const n=t("inherits"),i=t("../base/reporter").Reporter,o=t("safer-buffer").Buffer;function l(c,f){i.call(this,f),o.isBuffer(c)?(this.base=c,this.offset=0,this.length=c.length):this.error("Input not Buffer")}function s(c,f){if(Array.isArray(c))this.length=0,this.value=c.map(function(h){return s.isEncoderBuffer(h)||(h=new s(h,f)),this.length+=h.length,h},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return f.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=o.byteLength(c);else{if(!o.isBuffer(c))return f.error("Unsupported type: "+typeof c);this.value=c,this.length=c.length}}n(l,i),a.DecoderBuffer=l,l.isDecoderBuffer=function(c){return c instanceof l?!0:typeof c=="object"&&o.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},l.prototype.restore=function(c){const f=new l(this.base);return f.offset=c.offset,f.length=this.offset,this.offset=c.offset,i.prototype.restore.call(this,c.reporter),f},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},l.prototype.skip=function(c,f){if(!(this.offset+c<=this.length))return this.error(f||"DecoderBuffer overrun");const h=new l(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+c,this.offset+=c,h},l.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)},a.EncoderBuffer=s,s.isEncoderBuffer=function(c){return c instanceof s?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},s.prototype.join=function(c,f){return c||(c=o.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(c,f),f+=h.length}):(typeof this.value=="number"?c[f]=this.value:typeof this.value=="string"?c.write(this.value,f):o.isBuffer(this.value)&&this.value.copy(c,f),f+=this.length)),c}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,r,a){const n=a;n.Reporter=t("./reporter").Reporter,n.DecoderBuffer=t("./buffer").DecoderBuffer,n.EncoderBuffer=t("./buffer").EncoderBuffer,n.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,r,a){const n=t("../base/reporter").Reporter,i=t("../base/buffer").EncoderBuffer,o=t("../base/buffer").DecoderBuffer,l=t("minimalistic-assert"),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function f(d,p,g){const m={};this._baseState=m,m.name=g,m.enc=d,m.parent=p||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}r.exports=f;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const d=this._baseState,p={};h.forEach(function(m){p[m]=d[m]});const g=new this.constructor(p.parent);return g._baseState=p,g},f.prototype._wrap=function(){const d=this._baseState;c.forEach(function(p){this[p]=function(){const g=new this.constructor(this);return d.children.push(g),g[p].apply(g,arguments)}},this)},f.prototype._init=function(d){const p=this._baseState;l(p.parent===null),d.call(this),p.children=p.children.filter(function(g){return g._baseState.parent===this},this),l.equal(p.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(d){const p=this._baseState,g=d.filter(function(m){return m instanceof this.constructor},this);d=d.filter(function(m){return!(m instanceof this.constructor)},this),g.length!==0&&(l(p.children===null),p.children=g,g.forEach(function(m){m._baseState.parent=this},this)),d.length!==0&&(l(p.args===null),p.args=d,p.reverseArgs=d.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;const b={};return Object.keys(m).forEach(function(y){y==(0|y)&&(y|=0);const x=m[y];b[x]=y}),b}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(d){f.prototype[d]=function(){const p=this._baseState;throw new Error(d+" not implemented for encoding: "+p.enc)}}),s.forEach(function(d){f.prototype[d]=function(){const p=this._baseState,g=Array.prototype.slice.call(arguments);return l(p.tag===null),p.tag=d,this._useArgs(g),this}}),f.prototype.use=function(d){l(d);const p=this._baseState;return l(p.use===null),p.use=d,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(d){const p=this._baseState;return l(p.default===null),p.default=d,p.optional=!0,this},f.prototype.explicit=function(d){const p=this._baseState;return l(p.explicit===null&&p.implicit===null),p.explicit=d,this},f.prototype.implicit=function(d){const p=this._baseState;return l(p.explicit===null&&p.implicit===null),p.implicit=d,this},f.prototype.obj=function(){const d=this._baseState,p=Array.prototype.slice.call(arguments);return d.obj=!0,p.length!==0&&this._useArgs(p),this},f.prototype.key=function(d){const p=this._baseState;return l(p.key===null),p.key=d,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(d){const p=this._baseState;return l(p.choice===null),p.choice=d,this._useArgs(Object.keys(d).map(function(g){return d[g]})),this},f.prototype.contains=function(d){const p=this._baseState;return l(p.use===null),p.contains=d,this},f.prototype._decode=function(d,p){const g=this._baseState;if(g.parent===null)return d.wrapResult(g.children[0]._decode(d,p));let m,b=g.default,y=!0,x=null;if(g.key!==null&&(x=d.enterKey(g.key)),g.optional){let k=null;if(g.explicit!==null?k=g.explicit:g.implicit!==null?k=g.implicit:g.tag!==null&&(k=g.tag),k!==null||g.any){if(y=this._peekTag(d,k,g.any),d.isError(y))return y}else{const M=d.save();try{g.choice===null?this._decodeGeneric(g.tag,d,p):this._decodeChoice(d,p),y=!0}catch{y=!1}d.restore(M)}}if(g.obj&&y&&(m=d.enterObject()),y){if(g.explicit!==null){const M=this._decodeTag(d,g.explicit);if(d.isError(M))return M;d=M}const k=d.offset;if(g.use===null&&g.choice===null){let M;g.any&&(M=d.save());const I=this._decodeTag(d,g.implicit!==null?g.implicit:g.tag,g.any);if(d.isError(I))return I;g.any?b=d.raw(M):d=I}if(p&&p.track&&g.tag!==null&&p.track(d.path(),k,d.length,"tagged"),p&&p.track&&g.tag!==null&&p.track(d.path(),d.offset,d.length,"content"),g.any||(b=g.choice===null?this._decodeGeneric(g.tag,d,p):this._decodeChoice(d,p)),d.isError(b))return b;if(g.any||g.choice!==null||g.children===null||g.children.forEach(function(M){M._decode(d,p)}),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){const M=new o(b);b=this._getUse(g.contains,d._reporterState.obj)._decode(M,p)}}return g.obj&&y&&(b=d.leaveObject(m)),g.key===null||b===null&&y!==!0?x!==null&&d.exitKey(x):d.leaveKey(x,g.key,b),b},f.prototype._decodeGeneric=function(d,p,g){const m=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(p,d,m.args[0],g):/str$/.test(d)?this._decodeStr(p,d,g):d==="objid"&&m.args?this._decodeObjid(p,m.args[0],m.args[1],g):d==="objid"?this._decodeObjid(p,null,null,g):d==="gentime"||d==="utctime"?this._decodeTime(p,d,g):d==="null_"?this._decodeNull(p,g):d==="bool"?this._decodeBool(p,g):d==="objDesc"?this._decodeStr(p,d,g):d==="int"||d==="enum"?this._decodeInt(p,m.args&&m.args[0],g):m.use!==null?this._getUse(m.use,p._reporterState.obj)._decode(p,g):p.error("unknown tag: "+d)},f.prototype._getUse=function(d,p){const g=this._baseState;return g.useDecoder=this._use(d,p),l(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},f.prototype._decodeChoice=function(d,p){const g=this._baseState;let m=null,b=!1;return Object.keys(g.choice).some(function(y){const x=d.save(),k=g.choice[y];try{const M=k._decode(d,p);if(d.isError(M))return!1;m={type:y,value:M},b=!0}catch{return d.restore(x),!1}return!0},this),b?m:d.error("Choice not matched")},f.prototype._createEncoderBuffer=function(d){return new i(d,this.reporter)},f.prototype._encode=function(d,p,g){const m=this._baseState;if(m.default!==null&&m.default===d)return;const b=this._encodeValue(d,p,g);return b===void 0||this._skipDefault(b,p,g)?void 0:b},f.prototype._encodeValue=function(d,p,g){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(d,p||new n);let b=null;if(this.reporter=p,m.optional&&d===void 0){if(m.default===null)return;d=m.default}let y=null,x=!1;if(m.any)b=this._createEncoderBuffer(d);else if(m.choice)b=this._encodeChoice(d,p);else if(m.contains)y=this._getUse(m.contains,g)._encode(d,p),x=!0;else if(m.children)y=m.children.map(function(k){if(k._baseState.tag==="null_")return k._encode(null,p,d);if(k._baseState.key===null)return p.error("Child should have a key");const M=p.enterKey(k._baseState.key);if(typeof d!="object")return p.error("Child expected, but input is not object");const I=k._encode(d[k._baseState.key],p,d);return p.leaveKey(M),I},this).filter(function(k){return k}),y=this._createEncoderBuffer(y);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return p.error("Too many args for : "+m.tag);if(!Array.isArray(d))return p.error("seqof/setof, but data is not Array");const k=this.clone();k._baseState.implicit=null,y=this._createEncoderBuffer(d.map(function(M){const I=this._baseState;return this._getUse(I.args[0],d)._encode(M,p)},k))}else m.use!==null?b=this._getUse(m.use,g)._encode(d,p):(y=this._encodePrimitive(m.tag,d),x=!0);if(!m.any&&m.choice===null){const k=m.implicit!==null?m.implicit:m.tag,M=m.implicit===null?"universal":"context";k===null?m.use===null&&p.error("Tag could be omitted only for .use()"):m.use===null&&(b=this._encodeComposite(k,x,M,y))}return m.explicit!==null&&(b=this._encodeComposite(m.explicit,!1,"context",b)),b},f.prototype._encodeChoice=function(d,p){const g=this._baseState,m=g.choice[d.type];return m||l(!1,d.type+" not found in "+JSON.stringify(Object.keys(g.choice))),m._encode(d.value,p)},f.prototype._encodePrimitive=function(d,p){const g=this._baseState;if(/str$/.test(d))return this._encodeStr(p,d);if(d==="objid"&&g.args)return this._encodeObjid(p,g.reverseArgs[0],g.args[1]);if(d==="objid")return this._encodeObjid(p,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(p,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(p,g.args&&g.reverseArgs[0]);if(d==="bool")return this._encodeBool(p);if(d==="objDesc")return this._encodeStr(p,d);throw new Error("Unsupported tag: "+d)},f.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},f.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,r,a){const n=t("inherits");function i(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function o(l,s){this.path=l,this.rethrow(s)}a.Reporter=i,i.prototype.isError=function(l){return l instanceof o},i.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},i.prototype.restore=function(l){const s=this._reporterState;s.obj=l.obj,s.path=s.path.slice(0,l.pathLen)},i.prototype.enterKey=function(l){return this._reporterState.path.push(l)},i.prototype.exitKey=function(l){const s=this._reporterState;s.path=s.path.slice(0,l-1)},i.prototype.leaveKey=function(l,s,c){const f=this._reporterState;this.exitKey(l),f.obj!==null&&(f.obj[s]=c)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const l=this._reporterState,s=l.obj;return l.obj={},s},i.prototype.leaveObject=function(l){const s=this._reporterState,c=s.obj;return s.obj=l,c},i.prototype.error=function(l){let s;const c=this._reporterState,f=l instanceof o;if(s=f?l:new o(c.path.map(function(h){return"["+JSON.stringify(h)+"]"}).join(""),l.message||l,l.stack),!c.options.partial)throw s;return f||c.errors.push(s),s},i.prototype.wrapResult=function(l){const s=this._reporterState;return s.options.partial?{result:this.isError(l)?null:l,errors:s.errors}:l},n(o,Error),o.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(s){this.stack=s.stack}return this}},{inherits:440}],176:[function(t,r,a){function n(i){const o={};return Object.keys(i).forEach(function(l){(0|l)==l&&(l|=0);const s=i[l];o[s]=l}),o}a.tagClass={0:"universal",1:"application",2:"context",3:"private"},a.tagClassByName=n(a.tagClass),a.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},a.tagByName=n(a.tag)},{}],177:[function(t,r,a){const n=a;n._reverse=function(i){const o={};return Object.keys(i).forEach(function(l){(0|l)==l&&(l|=0);const s=i[l];o[s]=l}),o},n.der=t("./der")},{"./der":176}],178:[function(t,r,a){const n=t("inherits"),i=t("bn.js"),o=t("../base/buffer").DecoderBuffer,l=t("../base/node"),s=t("../constants/der");function c(p){this.enc="der",this.name=p.name,this.entity=p,this.tree=new f,this.tree._init(p.body)}function f(p){l.call(this,"der",p)}function h(p,g){let m=p.readUInt8(g);if(p.isError(m))return m;const b=s.tagClass[m>>6],y=(32&m)==0;if((31&m)==31){let x=m;for(m=0;(128&x)==128;){if(x=p.readUInt8(g),p.isError(x))return x;m<<=7,m|=127&x}}else m&=31;return{cls:b,primitive:y,tag:m,tagStr:s.tag[m]}}function d(p,g,m){let b=p.readUInt8(m);if(p.isError(b))return b;if(!g&&b===128)return null;if(!(128&b))return b;const y=127&b;if(y>4)return p.error("length octect is too long");b=0;for(let x=0;x<y;x++){b<<=8;const k=p.readUInt8(m);if(p.isError(k))return k;b|=k}return b}r.exports=c,c.prototype.decode=function(p,g){return o.isDecoderBuffer(p)||(p=new o(p,g)),this.tree._decode(p,g)},n(f,l),f.prototype._peekTag=function(p,g,m){if(p.isEmpty())return!1;const b=p.save(),y=h(p,'Failed to peek tag: "'+g+'"');return p.isError(y)?y:(p.restore(b),y.tag===g||y.tagStr===g||y.tagStr+"of"===g||m)},f.prototype._decodeTag=function(p,g,m){const b=h(p,'Failed to decode tag of "'+g+'"');if(p.isError(b))return b;let y=d(p,b.primitive,'Failed to get length of "'+g+'"');if(p.isError(y))return y;if(!m&&b.tag!==g&&b.tagStr!==g&&b.tagStr+"of"!==g)return p.error('Failed to match tag: "'+g+'"');if(b.primitive||y!==null)return p.skip(y,'Failed to match body of: "'+g+'"');const x=p.save(),k=this._skipUntilEnd(p,'Failed to skip indefinite length body: "'+this.tag+'"');return p.isError(k)?k:(y=p.offset-x.offset,p.restore(x),p.skip(y,'Failed to match body of: "'+g+'"'))},f.prototype._skipUntilEnd=function(p,g){for(;;){const m=h(p,g);if(p.isError(m))return m;const b=d(p,m.primitive,g);if(p.isError(b))return b;let y;if(y=m.primitive||b!==null?p.skip(b):this._skipUntilEnd(p,g),p.isError(y))return y;if(m.tagStr==="end")break}},f.prototype._decodeList=function(p,g,m,b){const y=[];for(;!p.isEmpty();){const x=this._peekTag(p,"end");if(p.isError(x))return x;const k=m.decode(p,"der",b);if(p.isError(k)&&x)break;y.push(k)}return y},f.prototype._decodeStr=function(p,g){if(g==="bitstr"){const m=p.readUInt8();return p.isError(m)?m:{unused:m,data:p.raw()}}if(g==="bmpstr"){const m=p.raw();if(m.length%2==1)return p.error("Decoding of string type: bmpstr length mismatch");let b="";for(let y=0;y<m.length/2;y++)b+=String.fromCharCode(m.readUInt16BE(2*y));return b}if(g==="numstr"){const m=p.raw().toString("ascii");return this._isNumstr(m)?m:p.error("Decoding of string type: numstr unsupported characters")}if(g==="octstr"||g==="objDesc")return p.raw();if(g==="printstr"){const m=p.raw().toString("ascii");return this._isPrintstr(m)?m:p.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(g)?p.raw().toString():p.error("Decoding of string type: "+g+" unsupported")},f.prototype._decodeObjid=function(p,g,m){let b;const y=[];let x=0,k=0;for(;!p.isEmpty();)k=p.readUInt8(),x<<=7,x|=127&k,!(128&k)&&(y.push(x),x=0);128&k&&y.push(x);const M=y[0]/40|0,I=y[0]%40;if(b=m?y:[M,I].concat(y.slice(1)),g){let B=g[b.join(" ")];B===void 0&&(B=g[b.join(".")]),B!==void 0&&(b=B)}return b},f.prototype._decodeTime=function(p,g){const m=p.raw().toString();let b,y,x,k,M,I;if(g==="gentime")b=0|m.slice(0,4),y=0|m.slice(4,6),x=0|m.slice(6,8),k=0|m.slice(8,10),M=0|m.slice(10,12),I=0|m.slice(12,14);else{if(g!=="utctime")return p.error("Decoding "+g+" time is not supported yet");b=0|m.slice(0,2),y=0|m.slice(2,4),x=0|m.slice(4,6),k=0|m.slice(6,8),M=0|m.slice(8,10),I=0|m.slice(10,12),b=b<70?2e3+b:1900+b}return Date.UTC(b,y-1,x,k,M,I,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(p){const g=p.readUInt8();return p.isError(g)?g:g!==0},f.prototype._decodeInt=function(p,g){const m=p.raw();let b=new i(m);return g&&(b=g[b.toString(10)]||b),b},f.prototype._use=function(p,g){return typeof p=="function"&&(p=p(g)),p._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,r,a){const n=a;n.der=t("./der"),n.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,r,a){const n=t("inherits"),i=t("safer-buffer").Buffer,o=t("./der");function l(s){o.call(this,s),this.enc="pem"}n(l,o),r.exports=l,l.prototype.decode=function(s,c){const f=s.toString().split(/[\r\n]+/g),h=c.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/;let p=-1,g=-1;for(let y=0;y<f.length;y++){const x=f[y].match(d);if(x!==null&&x[2]===h){if(p!==-1){if(x[1]!=="END")break;g=y;break}if(x[1]!=="BEGIN")break;p=y}}if(p===-1||g===-1)throw new Error("PEM section not found for: "+h);const m=f.slice(p+1,g).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const b=i.from(m,"base64");return o.prototype.decode.call(this,b,c)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,r,a){const n=t("inherits"),i=t("safer-buffer").Buffer,o=t("../base/node"),l=t("../constants/der");function s(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new c,this.tree._init(h.body)}function c(h){o.call(this,"der",h)}function f(h){return h<10?"0"+h:h}r.exports=s,s.prototype.encode=function(h,d){return this.tree._encode(h,d).join()},n(c,o),c.prototype._encodeComposite=function(h,d,p,g){const m=function(x,k,M,I){let B;if(x==="seqof"?x="seq":x==="setof"&&(x="set"),l.tagByName.hasOwnProperty(x))B=l.tagByName[x];else{if(typeof x!="number"||(0|x)!==x)return I.error("Unknown tag: "+x);B=x}return B>=31?I.error("Multi-octet tag encoding unsupported"):(k||(B|=32),B|=l.tagClassByName[M||"universal"]<<6,B)}(h,d,p,this.reporter);if(g.length<128){const x=i.alloc(2);return x[0]=m,x[1]=g.length,this._createEncoderBuffer([x,g])}let b=1;for(let x=g.length;x>=256;x>>=8)b++;const y=i.alloc(2+b);y[0]=m,y[1]=128|b;for(let x=1+b,k=g.length;k>0;x--,k>>=8)y[x]=255&k;return this._createEncoderBuffer([y,g])},c.prototype._encodeStr=function(h,d){if(d==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(d==="bmpstr"){const p=i.alloc(2*h.length);for(let g=0;g<h.length;g++)p.writeUInt16BE(h.charCodeAt(g),2*g);return this._createEncoderBuffer(p)}return d==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+d+" unsupported")},c.prototype._encodeObjid=function(h,d,p){if(typeof h=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=d[h].split(/[\s.]+/g);for(let y=0;y<h.length;y++)h[y]|=0}else if(Array.isArray(h)){h=h.slice();for(let y=0;y<h.length;y++)h[y]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!p){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let g=0;for(let y=0;y<h.length;y++){let x=h[y];for(g++;x>=128;x>>=7)g++}const m=i.alloc(g);let b=m.length-1;for(let y=h.length-1;y>=0;y--){let x=h[y];for(m[b--]=127&x;(x>>=7)>0;)m[b--]=128|127&x}return this._createEncoderBuffer(m)},c.prototype._encodeTime=function(h,d){let p;const g=new Date(h);return d==="gentime"?p=[f(g.getUTCFullYear()),f(g.getUTCMonth()+1),f(g.getUTCDate()),f(g.getUTCHours()),f(g.getUTCMinutes()),f(g.getUTCSeconds()),"Z"].join(""):d==="utctime"?p=[f(g.getUTCFullYear()%100),f(g.getUTCMonth()+1),f(g.getUTCDate()),f(g.getUTCHours()),f(g.getUTCMinutes()),f(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(p,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(h,d){if(typeof h=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=d[h]}if(typeof h!="number"&&!i.isBuffer(h)){const m=h.toArray();!h.sign&&128&m[0]&&m.unshift(0),h=i.from(m)}if(i.isBuffer(h)){let m=h.length;h.length===0&&m++;const b=i.alloc(m);return h.copy(b),h.length===0&&(b[0]=0),this._createEncoderBuffer(b)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let p=1;for(let m=h;m>=256;m>>=8)p++;const g=new Array(p);for(let m=g.length-1;m>=0;m--)g[m]=255&h,h>>=8;return 128&g[0]&&g.unshift(0),this._createEncoderBuffer(i.from(g))},c.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},c.prototype._use=function(h,d){return typeof h=="function"&&(h=h(d)),h._getEncoder("der").tree},c.prototype._skipDefault=function(h,d,p){const g=this._baseState;let m;if(g.default===null)return!1;const b=h.join();if(g.defaultBuffer===void 0&&(g.defaultBuffer=this._encodeValue(g.default,d,p).join()),b.length!==g.defaultBuffer.length)return!1;for(m=0;m<b.length;m++)if(b[m]!==g.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,r,a){const n=a;n.der=t("./der"),n.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,r,a){const n=t("inherits"),i=t("./der");function o(l){i.call(this,l),this.enc="pem"}n(o,i),r.exports=o,o.prototype.encode=function(l,s){const c=i.prototype.encode.call(this,l).toString("base64"),f=["-----BEGIN "+s.label+"-----"];for(let h=0;h<c.length;h+=64)f.push(c.slice(h,h+64));return f.push("-----END "+s.label+"-----"),f.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,r,a){(function(n,i){function o(C,O){if(!C)throw new Error(O||"Assertion failed")}function l(C,O){C.super_=O;var A=function(){};A.prototype=O.prototype,C.prototype=new A,C.prototype.constructor=C}function s(C,O,A){if(s.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&(O!=="le"&&O!=="be"||(A=O,O=10),this._init(C||0,O||10,A||"be"))}var c;typeof n=="object"?n.exports=s:(void 0).BN=s,s.BN=s,s.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function f(C,O){var A=C.charCodeAt(O);return A>=65&&A<=70?A-55:A>=97&&A<=102?A-87:A-48&15}function h(C,O,A){var v=f(C,A);return A-1>=O&&(v|=f(C,A-1)<<4),v}function d(C,O,A,v){for(var w=0,_=Math.min(C.length,A),S=O;S<_;S++){var T=C.charCodeAt(S)-48;w*=v,w+=T>=49?T-49+10:T>=17?T-17+10:T}return w}s.isBN=function(C){return C instanceof s||C!==null&&typeof C=="object"&&C.constructor.wordSize===s.wordSize&&Array.isArray(C.words)},s.max=function(C,O){return C.cmp(O)>0?C:O},s.min=function(C,O){return C.cmp(O)<0?C:O},s.prototype._init=function(C,O,A){if(typeof C=="number")return this._initNumber(C,O,A);if(typeof C=="object")return this._initArray(C,O,A);O==="hex"&&(O=16),o(O===(0|O)&&O>=2&&O<=36);var v=0;(C=C.toString().replace(/\s+/g,""))[0]==="-"&&(v++,this.negative=1),v<C.length&&(O===16?this._parseHex(C,v,A):(this._parseBase(C,O,v),A==="le"&&this._initArray(this.toArray(),O,A)))},s.prototype._initNumber=function(C,O,A){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(o(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),O,A)},s.prototype._initArray=function(C,O,A){if(o(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w,_,S=0;if(A==="be")for(v=C.length-1,w=0;v>=0;v-=3)_=C[v]|C[v-1]<<8|C[v-2]<<16,this.words[w]|=_<<S&67108863,this.words[w+1]=_>>>26-S&67108863,(S+=24)>=26&&(S-=26,w++);else if(A==="le")for(v=0,w=0;v<C.length;v+=3)_=C[v]|C[v+1]<<8|C[v+2]<<16,this.words[w]|=_<<S&67108863,this.words[w+1]=_>>>26-S&67108863,(S+=24)>=26&&(S-=26,w++);return this.strip()},s.prototype._parseHex=function(C,O,A){this.length=Math.ceil((C.length-O)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w,_=0,S=0;if(A==="be")for(v=C.length-1;v>=O;v-=2)w=h(C,O,v)<<_,this.words[S]|=67108863&w,_>=18?(_-=18,S+=1,this.words[S]|=w>>>26):_+=8;else for(v=(C.length-O)%2==0?O+1:O;v<C.length;v+=2)w=h(C,O,v)<<_,this.words[S]|=67108863&w,_>=18?(_-=18,S+=1,this.words[S]|=w>>>26):_+=8;this.strip()},s.prototype._parseBase=function(C,O,A){this.words=[0],this.length=1;for(var v=0,w=1;w<=67108863;w*=O)v++;v--,w=w/O|0;for(var _=C.length-A,S=_%v,T=Math.min(_,_-S)+A,N=0,L=A;L<T;L+=v)N=d(C,L,L+v,O),this.imuln(w),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N);if(S!==0){var V=1;for(N=d(C,L,C.length,O),L=0;L<S;L++)V*=O;this.imuln(V),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N)}this.strip()},s.prototype.copy=function(C){C.words=new Array(this.length);for(var O=0;O<this.length;O++)C.words[O]=this.words[O];C.length=this.length,C.negative=this.negative,C.red=this.red},s.prototype.clone=function(){var C=new s(null);return this.copy(C),C},s.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function b(C,O,A){A.negative=O.negative^C.negative;var v=C.length+O.length|0;A.length=v,v=v-1|0;var w=0|C.words[0],_=0|O.words[0],S=w*_,T=67108863&S,N=S/67108864|0;A.words[0]=T;for(var L=1;L<v;L++){for(var V=N>>>26,q=67108863&N,Y=Math.min(L,O.length-1),D=Math.max(0,L-C.length+1);D<=Y;D++){var X=L-D|0;V+=(S=(w=0|C.words[X])*(_=0|O.words[D])+q)/67108864|0,q=67108863&S}A.words[L]=0|q,N=0|V}return N!==0?A.words[L]=0|N:A.length--,A.strip()}s.prototype.toString=function(C,O){var A;if(O=0|O||1,(C=C||10)===16||C==="hex"){A="";for(var v=0,w=0,_=0;_<this.length;_++){var S=this.words[_],T=(16777215&(S<<v|w)).toString(16);A=(w=S>>>24-v&16777215)!==0||_!==this.length-1?p[6-T.length]+T+A:T+A,(v+=2)>=26&&(v-=26,_--)}for(w!==0&&(A=w.toString(16)+A);A.length%O!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(C===(0|C)&&C>=2&&C<=36){var N=g[C],L=m[C];A="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(L).toString(C);A=(V=V.idivn(L)).isZero()?q+A:p[N-q.length]+q+A}for(this.isZero()&&(A="0"+A);A.length%O!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}o(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=67108864*this.words[1]:this.length===3&&this.words[2]===1?C+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(C,O){return o(c!==void 0),this.toArrayLike(c,C,O)},s.prototype.toArray=function(C,O){return this.toArrayLike(Array,C,O)},s.prototype.toArrayLike=function(C,O,A){var v=this.byteLength(),w=A||Math.max(1,v);o(v<=w,"byte array longer than desired length"),o(w>0,"Requested array length <= 0"),this.strip();var _,S,T=O==="le",N=new C(w),L=this.clone();if(T){for(S=0;!L.isZero();S++)_=L.andln(255),L.iushrn(8),N[S]=_;for(;S<w;S++)N[S]=0}else{for(S=0;S<w-v;S++)N[S]=0;for(S=0;!L.isZero();S++)_=L.andln(255),L.iushrn(8),N[w-S-1]=_}return N},Math.clz32?s.prototype._countBits=function(C){return 32-Math.clz32(C)}:s.prototype._countBits=function(C){var O=C,A=0;return O>=4096&&(A+=13,O>>>=13),O>=64&&(A+=7,O>>>=7),O>=8&&(A+=4,O>>>=4),O>=2&&(A+=2,O>>>=2),A+O},s.prototype._zeroBits=function(C){if(C===0)return 26;var O=C,A=0;return!(8191&O)&&(A+=13,O>>>=13),!(127&O)&&(A+=7,O>>>=7),!(15&O)&&(A+=4,O>>>=4),!(3&O)&&(A+=2,O>>>=2),!(1&O)&&A++,A},s.prototype.bitLength=function(){var C=this.words[this.length-1],O=this._countBits(C);return 26*(this.length-1)+O},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,O=0;O<this.length;O++){var A=this._zeroBits(this.words[O]);if(C+=A,A!==26)break}return C},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},s.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var O=0;O<C.length;O++)this.words[O]=this.words[O]|C.words[O];return this.strip()},s.prototype.ior=function(C){return o((this.negative|C.negative)==0),this.iuor(C)},s.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},s.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},s.prototype.iuand=function(C){var O;O=this.length>C.length?C:this;for(var A=0;A<O.length;A++)this.words[A]=this.words[A]&C.words[A];return this.length=O.length,this.strip()},s.prototype.iand=function(C){return o((this.negative|C.negative)==0),this.iuand(C)},s.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},s.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},s.prototype.iuxor=function(C){var O,A;this.length>C.length?(O=this,A=C):(O=C,A=this);for(var v=0;v<A.length;v++)this.words[v]=O.words[v]^A.words[v];if(this!==O)for(;v<O.length;v++)this.words[v]=O.words[v];return this.length=O.length,this.strip()},s.prototype.ixor=function(C){return o((this.negative|C.negative)==0),this.iuxor(C)},s.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},s.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},s.prototype.inotn=function(C){o(typeof C=="number"&&C>=0);var O=0|Math.ceil(C/26),A=C%26;this._expand(O),A>0&&O--;for(var v=0;v<O;v++)this.words[v]=67108863&~this.words[v];return A>0&&(this.words[v]=~this.words[v]&67108863>>26-A),this.strip()},s.prototype.notn=function(C){return this.clone().inotn(C)},s.prototype.setn=function(C,O){o(typeof C=="number"&&C>=0);var A=C/26|0,v=C%26;return this._expand(A+1),this.words[A]=O?this.words[A]|1<<v:this.words[A]&~(1<<v),this.strip()},s.prototype.iadd=function(C){var O,A,v;if(this.negative!==0&&C.negative===0)return this.negative=0,O=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,O=this.isub(C),C.negative=1,O._normSign();this.length>C.length?(A=this,v=C):(A=C,v=this);for(var w=0,_=0;_<v.length;_++)O=(0|A.words[_])+(0|v.words[_])+w,this.words[_]=67108863&O,w=O>>>26;for(;w!==0&&_<A.length;_++)O=(0|A.words[_])+w,this.words[_]=67108863&O,w=O>>>26;if(this.length=A.length,w!==0)this.words[this.length]=w,this.length++;else if(A!==this)for(;_<A.length;_++)this.words[_]=A.words[_];return this},s.prototype.add=function(C){var O;return C.negative!==0&&this.negative===0?(C.negative=0,O=this.sub(C),C.negative^=1,O):C.negative===0&&this.negative!==0?(this.negative=0,O=C.sub(this),this.negative=1,O):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},s.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var O=this.iadd(C);return C.negative=1,O._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var A,v,w=this.cmp(C);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;w>0?(A=this,v=C):(A=C,v=this);for(var _=0,S=0;S<v.length;S++)_=(O=(0|A.words[S])-(0|v.words[S])+_)>>26,this.words[S]=67108863&O;for(;_!==0&&S<A.length;S++)_=(O=(0|A.words[S])+_)>>26,this.words[S]=67108863&O;if(_===0&&S<A.length&&A!==this)for(;S<A.length;S++)this.words[S]=A.words[S];return this.length=Math.max(this.length,S),A!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(C){return this.clone().isub(C)};var y=function(C,O,A){var v,w,_,S=C.words,T=O.words,N=A.words,L=0,V=0|S[0],q=8191&V,Y=V>>>13,D=0|S[1],X=8191&D,P=D>>>13,R=0|S[2],U=8191&R,Z=R>>>13,st=0|S[3],W=8191&st,G=st>>>13,et=0|S[4],it=8191&et,K=et>>>13,rt=0|S[5],nt=8191&rt,ct=rt>>>13,ot=0|S[6],lt=8191&ot,ut=ot>>>13,dt=0|S[7],mt=8191&dt,yt=dt>>>13,vt=0|S[8],_t=8191&vt,Et=vt>>>13,Pt=0|S[9],Bt=8191&Pt,Ht=Pt>>>13,Ot=0|T[0],St=8191&Ot,Nt=Ot>>>13,Lt=0|T[1],It=8191&Lt,pe=Lt>>>13,je=0|T[2],Xt=8191&je,Re=je>>>13,ve=0|T[3],ne=8191&ve,Ke=ve>>>13,Oe=0|T[4],Jt=8191&Oe,ke=Oe>>>13,$e=0|T[5],Qt=8191&$e,Ne=$e>>>13,Ve=0|T[6],ae=8191&Ve,ht=Ve>>>13,ft=0|T[7],bt=8191&ft,Tt=ft>>>13,Kt=0|T[8],Rt=8191&Kt,te=Kt>>>13,Zt=0|T[9],Wt=8191&Zt,se=Zt>>>13;A.negative=C.negative^O.negative,A.length=19;var ee=(L+(v=Math.imul(q,St))|0)+((8191&(w=(w=Math.imul(q,Nt))+Math.imul(Y,St)|0))<<13)|0;L=((_=Math.imul(Y,Nt))+(w>>>13)|0)+(ee>>>26)|0,ee&=67108863,v=Math.imul(X,St),w=(w=Math.imul(X,Nt))+Math.imul(P,St)|0,_=Math.imul(P,Nt);var me=(L+(v=v+Math.imul(q,It)|0)|0)+((8191&(w=(w=w+Math.imul(q,pe)|0)+Math.imul(Y,It)|0))<<13)|0;L=((_=_+Math.imul(Y,pe)|0)+(w>>>13)|0)+(me>>>26)|0,me&=67108863,v=Math.imul(U,St),w=(w=Math.imul(U,Nt))+Math.imul(Z,St)|0,_=Math.imul(Z,Nt),v=v+Math.imul(X,It)|0,w=(w=w+Math.imul(X,pe)|0)+Math.imul(P,It)|0,_=_+Math.imul(P,pe)|0;var cr=(L+(v=v+Math.imul(q,Xt)|0)|0)+((8191&(w=(w=w+Math.imul(q,Re)|0)+Math.imul(Y,Xt)|0))<<13)|0;L=((_=_+Math.imul(Y,Re)|0)+(w>>>13)|0)+(cr>>>26)|0,cr&=67108863,v=Math.imul(W,St),w=(w=Math.imul(W,Nt))+Math.imul(G,St)|0,_=Math.imul(G,Nt),v=v+Math.imul(U,It)|0,w=(w=w+Math.imul(U,pe)|0)+Math.imul(Z,It)|0,_=_+Math.imul(Z,pe)|0,v=v+Math.imul(X,Xt)|0,w=(w=w+Math.imul(X,Re)|0)+Math.imul(P,Xt)|0,_=_+Math.imul(P,Re)|0;var Qe=(L+(v=v+Math.imul(q,ne)|0)|0)+((8191&(w=(w=w+Math.imul(q,Ke)|0)+Math.imul(Y,ne)|0))<<13)|0;L=((_=_+Math.imul(Y,Ke)|0)+(w>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,v=Math.imul(it,St),w=(w=Math.imul(it,Nt))+Math.imul(K,St)|0,_=Math.imul(K,Nt),v=v+Math.imul(W,It)|0,w=(w=w+Math.imul(W,pe)|0)+Math.imul(G,It)|0,_=_+Math.imul(G,pe)|0,v=v+Math.imul(U,Xt)|0,w=(w=w+Math.imul(U,Re)|0)+Math.imul(Z,Xt)|0,_=_+Math.imul(Z,Re)|0,v=v+Math.imul(X,ne)|0,w=(w=w+Math.imul(X,Ke)|0)+Math.imul(P,ne)|0,_=_+Math.imul(P,Ke)|0;var gr=(L+(v=v+Math.imul(q,Jt)|0)|0)+((8191&(w=(w=w+Math.imul(q,ke)|0)+Math.imul(Y,Jt)|0))<<13)|0;L=((_=_+Math.imul(Y,ke)|0)+(w>>>13)|0)+(gr>>>26)|0,gr&=67108863,v=Math.imul(nt,St),w=(w=Math.imul(nt,Nt))+Math.imul(ct,St)|0,_=Math.imul(ct,Nt),v=v+Math.imul(it,It)|0,w=(w=w+Math.imul(it,pe)|0)+Math.imul(K,It)|0,_=_+Math.imul(K,pe)|0,v=v+Math.imul(W,Xt)|0,w=(w=w+Math.imul(W,Re)|0)+Math.imul(G,Xt)|0,_=_+Math.imul(G,Re)|0,v=v+Math.imul(U,ne)|0,w=(w=w+Math.imul(U,Ke)|0)+Math.imul(Z,ne)|0,_=_+Math.imul(Z,Ke)|0,v=v+Math.imul(X,Jt)|0,w=(w=w+Math.imul(X,ke)|0)+Math.imul(P,Jt)|0,_=_+Math.imul(P,ke)|0;var br=(L+(v=v+Math.imul(q,Qt)|0)|0)+((8191&(w=(w=w+Math.imul(q,Ne)|0)+Math.imul(Y,Qt)|0))<<13)|0;L=((_=_+Math.imul(Y,Ne)|0)+(w>>>13)|0)+(br>>>26)|0,br&=67108863,v=Math.imul(lt,St),w=(w=Math.imul(lt,Nt))+Math.imul(ut,St)|0,_=Math.imul(ut,Nt),v=v+Math.imul(nt,It)|0,w=(w=w+Math.imul(nt,pe)|0)+Math.imul(ct,It)|0,_=_+Math.imul(ct,pe)|0,v=v+Math.imul(it,Xt)|0,w=(w=w+Math.imul(it,Re)|0)+Math.imul(K,Xt)|0,_=_+Math.imul(K,Re)|0,v=v+Math.imul(W,ne)|0,w=(w=w+Math.imul(W,Ke)|0)+Math.imul(G,ne)|0,_=_+Math.imul(G,Ke)|0,v=v+Math.imul(U,Jt)|0,w=(w=w+Math.imul(U,ke)|0)+Math.imul(Z,Jt)|0,_=_+Math.imul(Z,ke)|0,v=v+Math.imul(X,Qt)|0,w=(w=w+Math.imul(X,Ne)|0)+Math.imul(P,Qt)|0,_=_+Math.imul(P,Ne)|0;var en=(L+(v=v+Math.imul(q,ae)|0)|0)+((8191&(w=(w=w+Math.imul(q,ht)|0)+Math.imul(Y,ae)|0))<<13)|0;L=((_=_+Math.imul(Y,ht)|0)+(w>>>13)|0)+(en>>>26)|0,en&=67108863,v=Math.imul(mt,St),w=(w=Math.imul(mt,Nt))+Math.imul(yt,St)|0,_=Math.imul(yt,Nt),v=v+Math.imul(lt,It)|0,w=(w=w+Math.imul(lt,pe)|0)+Math.imul(ut,It)|0,_=_+Math.imul(ut,pe)|0,v=v+Math.imul(nt,Xt)|0,w=(w=w+Math.imul(nt,Re)|0)+Math.imul(ct,Xt)|0,_=_+Math.imul(ct,Re)|0,v=v+Math.imul(it,ne)|0,w=(w=w+Math.imul(it,Ke)|0)+Math.imul(K,ne)|0,_=_+Math.imul(K,Ke)|0,v=v+Math.imul(W,Jt)|0,w=(w=w+Math.imul(W,ke)|0)+Math.imul(G,Jt)|0,_=_+Math.imul(G,ke)|0,v=v+Math.imul(U,Qt)|0,w=(w=w+Math.imul(U,Ne)|0)+Math.imul(Z,Qt)|0,_=_+Math.imul(Z,Ne)|0,v=v+Math.imul(X,ae)|0,w=(w=w+Math.imul(X,ht)|0)+Math.imul(P,ae)|0,_=_+Math.imul(P,ht)|0;var at=(L+(v=v+Math.imul(q,bt)|0)|0)+((8191&(w=(w=w+Math.imul(q,Tt)|0)+Math.imul(Y,bt)|0))<<13)|0;L=((_=_+Math.imul(Y,Tt)|0)+(w>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(_t,St),w=(w=Math.imul(_t,Nt))+Math.imul(Et,St)|0,_=Math.imul(Et,Nt),v=v+Math.imul(mt,It)|0,w=(w=w+Math.imul(mt,pe)|0)+Math.imul(yt,It)|0,_=_+Math.imul(yt,pe)|0,v=v+Math.imul(lt,Xt)|0,w=(w=w+Math.imul(lt,Re)|0)+Math.imul(ut,Xt)|0,_=_+Math.imul(ut,Re)|0,v=v+Math.imul(nt,ne)|0,w=(w=w+Math.imul(nt,Ke)|0)+Math.imul(ct,ne)|0,_=_+Math.imul(ct,Ke)|0,v=v+Math.imul(it,Jt)|0,w=(w=w+Math.imul(it,ke)|0)+Math.imul(K,Jt)|0,_=_+Math.imul(K,ke)|0,v=v+Math.imul(W,Qt)|0,w=(w=w+Math.imul(W,Ne)|0)+Math.imul(G,Qt)|0,_=_+Math.imul(G,Ne)|0,v=v+Math.imul(U,ae)|0,w=(w=w+Math.imul(U,ht)|0)+Math.imul(Z,ae)|0,_=_+Math.imul(Z,ht)|0,v=v+Math.imul(X,bt)|0,w=(w=w+Math.imul(X,Tt)|0)+Math.imul(P,bt)|0,_=_+Math.imul(P,Tt)|0;var pt=(L+(v=v+Math.imul(q,Rt)|0)|0)+((8191&(w=(w=w+Math.imul(q,te)|0)+Math.imul(Y,Rt)|0))<<13)|0;L=((_=_+Math.imul(Y,te)|0)+(w>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(Bt,St),w=(w=Math.imul(Bt,Nt))+Math.imul(Ht,St)|0,_=Math.imul(Ht,Nt),v=v+Math.imul(_t,It)|0,w=(w=w+Math.imul(_t,pe)|0)+Math.imul(Et,It)|0,_=_+Math.imul(Et,pe)|0,v=v+Math.imul(mt,Xt)|0,w=(w=w+Math.imul(mt,Re)|0)+Math.imul(yt,Xt)|0,_=_+Math.imul(yt,Re)|0,v=v+Math.imul(lt,ne)|0,w=(w=w+Math.imul(lt,Ke)|0)+Math.imul(ut,ne)|0,_=_+Math.imul(ut,Ke)|0,v=v+Math.imul(nt,Jt)|0,w=(w=w+Math.imul(nt,ke)|0)+Math.imul(ct,Jt)|0,_=_+Math.imul(ct,ke)|0,v=v+Math.imul(it,Qt)|0,w=(w=w+Math.imul(it,Ne)|0)+Math.imul(K,Qt)|0,_=_+Math.imul(K,Ne)|0,v=v+Math.imul(W,ae)|0,w=(w=w+Math.imul(W,ht)|0)+Math.imul(G,ae)|0,_=_+Math.imul(G,ht)|0,v=v+Math.imul(U,bt)|0,w=(w=w+Math.imul(U,Tt)|0)+Math.imul(Z,bt)|0,_=_+Math.imul(Z,Tt)|0,v=v+Math.imul(X,Rt)|0,w=(w=w+Math.imul(X,te)|0)+Math.imul(P,Rt)|0,_=_+Math.imul(P,te)|0;var wt=(L+(v=v+Math.imul(q,Wt)|0)|0)+((8191&(w=(w=w+Math.imul(q,se)|0)+Math.imul(Y,Wt)|0))<<13)|0;L=((_=_+Math.imul(Y,se)|0)+(w>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(Bt,It),w=(w=Math.imul(Bt,pe))+Math.imul(Ht,It)|0,_=Math.imul(Ht,pe),v=v+Math.imul(_t,Xt)|0,w=(w=w+Math.imul(_t,Re)|0)+Math.imul(Et,Xt)|0,_=_+Math.imul(Et,Re)|0,v=v+Math.imul(mt,ne)|0,w=(w=w+Math.imul(mt,Ke)|0)+Math.imul(yt,ne)|0,_=_+Math.imul(yt,Ke)|0,v=v+Math.imul(lt,Jt)|0,w=(w=w+Math.imul(lt,ke)|0)+Math.imul(ut,Jt)|0,_=_+Math.imul(ut,ke)|0,v=v+Math.imul(nt,Qt)|0,w=(w=w+Math.imul(nt,Ne)|0)+Math.imul(ct,Qt)|0,_=_+Math.imul(ct,Ne)|0,v=v+Math.imul(it,ae)|0,w=(w=w+Math.imul(it,ht)|0)+Math.imul(K,ae)|0,_=_+Math.imul(K,ht)|0,v=v+Math.imul(W,bt)|0,w=(w=w+Math.imul(W,Tt)|0)+Math.imul(G,bt)|0,_=_+Math.imul(G,Tt)|0,v=v+Math.imul(U,Rt)|0,w=(w=w+Math.imul(U,te)|0)+Math.imul(Z,Rt)|0,_=_+Math.imul(Z,te)|0;var xt=(L+(v=v+Math.imul(X,Wt)|0)|0)+((8191&(w=(w=w+Math.imul(X,se)|0)+Math.imul(P,Wt)|0))<<13)|0;L=((_=_+Math.imul(P,se)|0)+(w>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(Bt,Xt),w=(w=Math.imul(Bt,Re))+Math.imul(Ht,Xt)|0,_=Math.imul(Ht,Re),v=v+Math.imul(_t,ne)|0,w=(w=w+Math.imul(_t,Ke)|0)+Math.imul(Et,ne)|0,_=_+Math.imul(Et,Ke)|0,v=v+Math.imul(mt,Jt)|0,w=(w=w+Math.imul(mt,ke)|0)+Math.imul(yt,Jt)|0,_=_+Math.imul(yt,ke)|0,v=v+Math.imul(lt,Qt)|0,w=(w=w+Math.imul(lt,Ne)|0)+Math.imul(ut,Qt)|0,_=_+Math.imul(ut,Ne)|0,v=v+Math.imul(nt,ae)|0,w=(w=w+Math.imul(nt,ht)|0)+Math.imul(ct,ae)|0,_=_+Math.imul(ct,ht)|0,v=v+Math.imul(it,bt)|0,w=(w=w+Math.imul(it,Tt)|0)+Math.imul(K,bt)|0,_=_+Math.imul(K,Tt)|0,v=v+Math.imul(W,Rt)|0,w=(w=w+Math.imul(W,te)|0)+Math.imul(G,Rt)|0,_=_+Math.imul(G,te)|0;var $t=(L+(v=v+Math.imul(U,Wt)|0)|0)+((8191&(w=(w=w+Math.imul(U,se)|0)+Math.imul(Z,Wt)|0))<<13)|0;L=((_=_+Math.imul(Z,se)|0)+(w>>>13)|0)+($t>>>26)|0,$t&=67108863,v=Math.imul(Bt,ne),w=(w=Math.imul(Bt,Ke))+Math.imul(Ht,ne)|0,_=Math.imul(Ht,Ke),v=v+Math.imul(_t,Jt)|0,w=(w=w+Math.imul(_t,ke)|0)+Math.imul(Et,Jt)|0,_=_+Math.imul(Et,ke)|0,v=v+Math.imul(mt,Qt)|0,w=(w=w+Math.imul(mt,Ne)|0)+Math.imul(yt,Qt)|0,_=_+Math.imul(yt,Ne)|0,v=v+Math.imul(lt,ae)|0,w=(w=w+Math.imul(lt,ht)|0)+Math.imul(ut,ae)|0,_=_+Math.imul(ut,ht)|0,v=v+Math.imul(nt,bt)|0,w=(w=w+Math.imul(nt,Tt)|0)+Math.imul(ct,bt)|0,_=_+Math.imul(ct,Tt)|0,v=v+Math.imul(it,Rt)|0,w=(w=w+Math.imul(it,te)|0)+Math.imul(K,Rt)|0,_=_+Math.imul(K,te)|0;var Ct=(L+(v=v+Math.imul(W,Wt)|0)|0)+((8191&(w=(w=w+Math.imul(W,se)|0)+Math.imul(G,Wt)|0))<<13)|0;L=((_=_+Math.imul(G,se)|0)+(w>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,v=Math.imul(Bt,Jt),w=(w=Math.imul(Bt,ke))+Math.imul(Ht,Jt)|0,_=Math.imul(Ht,ke),v=v+Math.imul(_t,Qt)|0,w=(w=w+Math.imul(_t,Ne)|0)+Math.imul(Et,Qt)|0,_=_+Math.imul(Et,Ne)|0,v=v+Math.imul(mt,ae)|0,w=(w=w+Math.imul(mt,ht)|0)+Math.imul(yt,ae)|0,_=_+Math.imul(yt,ht)|0,v=v+Math.imul(lt,bt)|0,w=(w=w+Math.imul(lt,Tt)|0)+Math.imul(ut,bt)|0,_=_+Math.imul(ut,Tt)|0,v=v+Math.imul(nt,Rt)|0,w=(w=w+Math.imul(nt,te)|0)+Math.imul(ct,Rt)|0,_=_+Math.imul(ct,te)|0;var Mt=(L+(v=v+Math.imul(it,Wt)|0)|0)+((8191&(w=(w=w+Math.imul(it,se)|0)+Math.imul(K,Wt)|0))<<13)|0;L=((_=_+Math.imul(K,se)|0)+(w>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,v=Math.imul(Bt,Qt),w=(w=Math.imul(Bt,Ne))+Math.imul(Ht,Qt)|0,_=Math.imul(Ht,Ne),v=v+Math.imul(_t,ae)|0,w=(w=w+Math.imul(_t,ht)|0)+Math.imul(Et,ae)|0,_=_+Math.imul(Et,ht)|0,v=v+Math.imul(mt,bt)|0,w=(w=w+Math.imul(mt,Tt)|0)+Math.imul(yt,bt)|0,_=_+Math.imul(yt,Tt)|0,v=v+Math.imul(lt,Rt)|0,w=(w=w+Math.imul(lt,te)|0)+Math.imul(ut,Rt)|0,_=_+Math.imul(ut,te)|0;var Se=(L+(v=v+Math.imul(nt,Wt)|0)|0)+((8191&(w=(w=w+Math.imul(nt,se)|0)+Math.imul(ct,Wt)|0))<<13)|0;L=((_=_+Math.imul(ct,se)|0)+(w>>>13)|0)+(Se>>>26)|0,Se&=67108863,v=Math.imul(Bt,ae),w=(w=Math.imul(Bt,ht))+Math.imul(Ht,ae)|0,_=Math.imul(Ht,ht),v=v+Math.imul(_t,bt)|0,w=(w=w+Math.imul(_t,Tt)|0)+Math.imul(Et,bt)|0,_=_+Math.imul(Et,Tt)|0,v=v+Math.imul(mt,Rt)|0,w=(w=w+Math.imul(mt,te)|0)+Math.imul(yt,Rt)|0,_=_+Math.imul(yt,te)|0;var he=(L+(v=v+Math.imul(lt,Wt)|0)|0)+((8191&(w=(w=w+Math.imul(lt,se)|0)+Math.imul(ut,Wt)|0))<<13)|0;L=((_=_+Math.imul(ut,se)|0)+(w>>>13)|0)+(he>>>26)|0,he&=67108863,v=Math.imul(Bt,bt),w=(w=Math.imul(Bt,Tt))+Math.imul(Ht,bt)|0,_=Math.imul(Ht,Tt),v=v+Math.imul(_t,Rt)|0,w=(w=w+Math.imul(_t,te)|0)+Math.imul(Et,Rt)|0,_=_+Math.imul(Et,te)|0;var ge=(L+(v=v+Math.imul(mt,Wt)|0)|0)+((8191&(w=(w=w+Math.imul(mt,se)|0)+Math.imul(yt,Wt)|0))<<13)|0;L=((_=_+Math.imul(yt,se)|0)+(w>>>13)|0)+(ge>>>26)|0,ge&=67108863,v=Math.imul(Bt,Rt),w=(w=Math.imul(Bt,te))+Math.imul(Ht,Rt)|0,_=Math.imul(Ht,te);var Yt=(L+(v=v+Math.imul(_t,Wt)|0)|0)+((8191&(w=(w=w+Math.imul(_t,se)|0)+Math.imul(Et,Wt)|0))<<13)|0;L=((_=_+Math.imul(Et,se)|0)+(w>>>13)|0)+(Yt>>>26)|0,Yt&=67108863;var Be=(L+(v=Math.imul(Bt,Wt))|0)+((8191&(w=(w=Math.imul(Bt,se))+Math.imul(Ht,Wt)|0))<<13)|0;return L=((_=Math.imul(Ht,se))+(w>>>13)|0)+(Be>>>26)|0,Be&=67108863,N[0]=ee,N[1]=me,N[2]=cr,N[3]=Qe,N[4]=gr,N[5]=br,N[6]=en,N[7]=at,N[8]=pt,N[9]=wt,N[10]=xt,N[11]=$t,N[12]=Ct,N[13]=Mt,N[14]=Se,N[15]=he,N[16]=ge,N[17]=Yt,N[18]=Be,L!==0&&(N[19]=L,A.length++),A};function x(C,O,A){return new k().mulp(C,O,A)}function k(C,O){this.x=C,this.y=O}Math.imul||(y=b),s.prototype.mulTo=function(C,O){var A=this.length+C.length;return this.length===10&&C.length===10?y(this,C,O):A<63?b(this,C,O):A<1024?function(v,w,_){_.negative=w.negative^v.negative,_.length=v.length+w.length;for(var S=0,T=0,N=0;N<_.length-1;N++){var L=T;T=0;for(var V=67108863&S,q=Math.min(N,w.length-1),Y=Math.max(0,N-v.length+1);Y<=q;Y++){var D=N-Y,X=(0|v.words[D])*(0|w.words[Y]),P=67108863&X;V=67108863&(P=P+V|0),T+=(L=(L=L+(X/67108864|0)|0)+(P>>>26)|0)>>>26,L&=67108863}_.words[N]=V,S=L,L=T}return S!==0?_.words[N]=S:_.length--,_.strip()}(this,C,O):x(this,C,O)},k.prototype.makeRBT=function(C){for(var O=new Array(C),A=s.prototype._countBits(C)-1,v=0;v<C;v++)O[v]=this.revBin(v,A,C);return O},k.prototype.revBin=function(C,O,A){if(C===0||C===A-1)return C;for(var v=0,w=0;w<O;w++)v|=(1&C)<<O-w-1,C>>=1;return v},k.prototype.permute=function(C,O,A,v,w,_){for(var S=0;S<_;S++)v[S]=O[C[S]],w[S]=A[C[S]]},k.prototype.transform=function(C,O,A,v,w,_){this.permute(_,C,O,A,v,w);for(var S=1;S<w;S<<=1)for(var T=S<<1,N=Math.cos(2*Math.PI/T),L=Math.sin(2*Math.PI/T),V=0;V<w;V+=T)for(var q=N,Y=L,D=0;D<S;D++){var X=A[V+D],P=v[V+D],R=A[V+D+S],U=v[V+D+S],Z=q*R-Y*U;U=q*U+Y*R,R=Z,A[V+D]=X+R,v[V+D]=P+U,A[V+D+S]=X-R,v[V+D+S]=P-U,D!==T&&(Z=N*q-L*Y,Y=N*Y+L*q,q=Z)}},k.prototype.guessLen13b=function(C,O){var A=1|Math.max(O,C),v=1&A,w=0;for(A=A/2|0;A;A>>>=1)w++;return 1<<w+1+v},k.prototype.conjugate=function(C,O,A){if(!(A<=1))for(var v=0;v<A/2;v++){var w=C[v];C[v]=C[A-v-1],C[A-v-1]=w,w=O[v],O[v]=-O[A-v-1],O[A-v-1]=-w}},k.prototype.normalize13b=function(C,O){for(var A=0,v=0;v<O/2;v++){var w=8192*Math.round(C[2*v+1]/O)+Math.round(C[2*v]/O)+A;C[v]=67108863&w,A=w<67108864?0:w/67108864|0}return C},k.prototype.convert13b=function(C,O,A,v){for(var w=0,_=0;_<O;_++)w+=0|C[_],A[2*_]=8191&w,w>>>=13,A[2*_+1]=8191&w,w>>>=13;for(_=2*O;_<v;++_)A[_]=0;o(w===0),o((-8192&w)==0)},k.prototype.stub=function(C){for(var O=new Array(C),A=0;A<C;A++)O[A]=0;return O},k.prototype.mulp=function(C,O,A){var v=2*this.guessLen13b(C.length,O.length),w=this.makeRBT(v),_=this.stub(v),S=new Array(v),T=new Array(v),N=new Array(v),L=new Array(v),V=new Array(v),q=new Array(v),Y=A.words;Y.length=v,this.convert13b(C.words,C.length,S,v),this.convert13b(O.words,O.length,L,v),this.transform(S,_,T,N,v,w),this.transform(L,_,V,q,v,w);for(var D=0;D<v;D++){var X=T[D]*V[D]-N[D]*q[D];N[D]=T[D]*q[D]+N[D]*V[D],T[D]=X}return this.conjugate(T,N,v),this.transform(T,N,Y,_,v,w),this.conjugate(Y,_,v),this.normalize13b(Y,v),A.negative=C.negative^O.negative,A.length=C.length+O.length,A.strip()},s.prototype.mul=function(C){var O=new s(null);return O.words=new Array(this.length+C.length),this.mulTo(C,O)},s.prototype.mulf=function(C){var O=new s(null);return O.words=new Array(this.length+C.length),x(this,C,O)},s.prototype.imul=function(C){return this.clone().mulTo(C,this)},s.prototype.imuln=function(C){o(typeof C=="number"),o(C<67108864);for(var O=0,A=0;A<this.length;A++){var v=(0|this.words[A])*C,w=(67108863&v)+(67108863&O);O>>=26,O+=v/67108864|0,O+=w>>>26,this.words[A]=67108863&w}return O!==0&&(this.words[A]=O,this.length++),this},s.prototype.muln=function(C){return this.clone().imuln(C)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(C){var O=function(_){for(var S=new Array(_.bitLength()),T=0;T<S.length;T++){var N=T/26|0,L=T%26;S[T]=(_.words[N]&1<<L)>>>L}return S}(C);if(O.length===0)return new s(1);for(var A=this,v=0;v<O.length&&O[v]===0;v++,A=A.sqr());if(++v<O.length)for(var w=A.sqr();v<O.length;v++,w=w.sqr())O[v]!==0&&(A=A.mul(w));return A},s.prototype.iushln=function(C){o(typeof C=="number"&&C>=0);var O,A=C%26,v=(C-A)/26,w=67108863>>>26-A<<26-A;if(A!==0){var _=0;for(O=0;O<this.length;O++){var S=this.words[O]&w,T=(0|this.words[O])-S<<A;this.words[O]=T|_,_=S>>>26-A}_&&(this.words[O]=_,this.length++)}if(v!==0){for(O=this.length-1;O>=0;O--)this.words[O+v]=this.words[O];for(O=0;O<v;O++)this.words[O]=0;this.length+=v}return this.strip()},s.prototype.ishln=function(C){return o(this.negative===0),this.iushln(C)},s.prototype.iushrn=function(C,O,A){var v;o(typeof C=="number"&&C>=0),v=O?(O-O%26)/26:0;var w=C%26,_=Math.min((C-w)/26,this.length),S=67108863^67108863>>>w<<w,T=A;if(v-=_,v=Math.max(0,v),T){for(var N=0;N<_;N++)T.words[N]=this.words[N];T.length=_}if(_!==0)if(this.length>_)for(this.length-=_,N=0;N<this.length;N++)this.words[N]=this.words[N+_];else this.words[0]=0,this.length=1;var L=0;for(N=this.length-1;N>=0&&(L!==0||N>=v);N--){var V=0|this.words[N];this.words[N]=L<<26-w|V>>>w,L=V&S}return T&&L!==0&&(T.words[T.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(C,O,A){return o(this.negative===0),this.iushrn(C,O,A)},s.prototype.shln=function(C){return this.clone().ishln(C)},s.prototype.ushln=function(C){return this.clone().iushln(C)},s.prototype.shrn=function(C){return this.clone().ishrn(C)},s.prototype.ushrn=function(C){return this.clone().iushrn(C)},s.prototype.testn=function(C){o(typeof C=="number"&&C>=0);var O=C%26,A=(C-O)/26,v=1<<O;return!(this.length<=A)&&!!(this.words[A]&v)},s.prototype.imaskn=function(C){o(typeof C=="number"&&C>=0);var O=C%26,A=(C-O)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(O!==0&&A++,this.length=Math.min(A,this.length),O!==0){var v=67108863^67108863>>>O<<O;this.words[this.length-1]&=v}return this.strip()},s.prototype.maskn=function(C){return this.clone().imaskn(C)},s.prototype.iaddn=function(C){return o(typeof C=="number"),o(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(0|this.words[0])<C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},s.prototype._iaddn=function(C){this.words[0]+=C;for(var O=0;O<this.length&&this.words[O]>=67108864;O++)this.words[O]-=67108864,O===this.length-1?this.words[O+1]=1:this.words[O+1]++;return this.length=Math.max(this.length,O+1),this},s.prototype.isubn=function(C){if(o(typeof C=="number"),o(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var O=0;O<this.length&&this.words[O]<0;O++)this.words[O]+=67108864,this.words[O+1]-=1;return this.strip()},s.prototype.addn=function(C){return this.clone().iaddn(C)},s.prototype.subn=function(C){return this.clone().isubn(C)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(C,O,A){var v,w,_=C.length+A;this._expand(_);var S=0;for(v=0;v<C.length;v++){w=(0|this.words[v+A])+S;var T=(0|C.words[v])*O;S=((w-=67108863&T)>>26)-(T/67108864|0),this.words[v+A]=67108863&w}for(;v<this.length-A;v++)S=(w=(0|this.words[v+A])+S)>>26,this.words[v+A]=67108863&w;if(S===0)return this.strip();for(o(S===-1),S=0,v=0;v<this.length;v++)S=(w=-(0|this.words[v])+S)>>26,this.words[v]=67108863&w;return this.negative=1,this.strip()},s.prototype._wordDiv=function(C,O){var A=(this.length,C.length),v=this.clone(),w=C,_=0|w.words[w.length-1];(A=26-this._countBits(_))!==0&&(w=w.ushln(A),v.iushln(A),_=0|w.words[w.length-1]);var S,T=v.length-w.length;if(O!=="mod"){(S=new s(null)).length=T+1,S.words=new Array(S.length);for(var N=0;N<S.length;N++)S.words[N]=0}var L=v.clone()._ishlnsubmul(w,1,T);L.negative===0&&(v=L,S&&(S.words[T]=1));for(var V=T-1;V>=0;V--){var q=67108864*(0|v.words[w.length+V])+(0|v.words[w.length+V-1]);for(q=Math.min(q/_|0,67108863),v._ishlnsubmul(w,q,V);v.negative!==0;)q--,v.negative=0,v._ishlnsubmul(w,1,V),v.isZero()||(v.negative^=1);S&&(S.words[V]=q)}return S&&S.strip(),v.strip(),O!=="div"&&A!==0&&v.iushrn(A),{div:S||null,mod:v}},s.prototype.divmod=function(C,O,A){return o(!C.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:this.negative!==0&&C.negative===0?(_=this.neg().divmod(C,O),O!=="mod"&&(v=_.div.neg()),O!=="div"&&(w=_.mod.neg(),A&&w.negative!==0&&w.iadd(C)),{div:v,mod:w}):this.negative===0&&C.negative!==0?(_=this.divmod(C.neg(),O),O!=="mod"&&(v=_.div.neg()),{div:v,mod:_.mod}):this.negative&C.negative?(_=this.neg().divmod(C.neg(),O),O!=="div"&&(w=_.mod.neg(),A&&w.negative!==0&&w.isub(C)),{div:_.div,mod:w}):C.length>this.length||this.cmp(C)<0?{div:new s(0),mod:this}:C.length===1?O==="div"?{div:this.divn(C.words[0]),mod:null}:O==="mod"?{div:null,mod:new s(this.modn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new s(this.modn(C.words[0]))}:this._wordDiv(C,O);var v,w,_},s.prototype.div=function(C){return this.divmod(C,"div",!1).div},s.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},s.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},s.prototype.divRound=function(C){var O=this.divmod(C);if(O.mod.isZero())return O.div;var A=O.div.negative!==0?O.mod.isub(C):O.mod,v=C.ushrn(1),w=C.andln(1),_=A.cmp(v);return _<0||w===1&&_===0?O.div:O.div.negative!==0?O.div.isubn(1):O.div.iaddn(1)},s.prototype.modn=function(C){o(C<=67108863);for(var O=(1<<26)%C,A=0,v=this.length-1;v>=0;v--)A=(O*A+(0|this.words[v]))%C;return A},s.prototype.idivn=function(C){o(C<=67108863);for(var O=0,A=this.length-1;A>=0;A--){var v=(0|this.words[A])+67108864*O;this.words[A]=v/C|0,O=v%C}return this.strip()},s.prototype.divn=function(C){return this.clone().idivn(C)},s.prototype.egcd=function(C){o(C.negative===0),o(!C.isZero());var O=this,A=C.clone();O=O.negative!==0?O.umod(C):O.clone();for(var v=new s(1),w=new s(0),_=new s(0),S=new s(1),T=0;O.isEven()&&A.isEven();)O.iushrn(1),A.iushrn(1),++T;for(var N=A.clone(),L=O.clone();!O.isZero();){for(var V=0,q=1;!(O.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(O.iushrn(V);V-- >0;)(v.isOdd()||w.isOdd())&&(v.iadd(N),w.isub(L)),v.iushrn(1),w.iushrn(1);for(var Y=0,D=1;!(A.words[0]&D)&&Y<26;++Y,D<<=1);if(Y>0)for(A.iushrn(Y);Y-- >0;)(_.isOdd()||S.isOdd())&&(_.iadd(N),S.isub(L)),_.iushrn(1),S.iushrn(1);O.cmp(A)>=0?(O.isub(A),v.isub(_),w.isub(S)):(A.isub(O),_.isub(v),S.isub(w))}return{a:_,b:S,gcd:A.iushln(T)}},s.prototype._invmp=function(C){o(C.negative===0),o(!C.isZero());var O=this,A=C.clone();O=O.negative!==0?O.umod(C):O.clone();for(var v,w=new s(1),_=new s(0),S=A.clone();O.cmpn(1)>0&&A.cmpn(1)>0;){for(var T=0,N=1;!(O.words[0]&N)&&T<26;++T,N<<=1);if(T>0)for(O.iushrn(T);T-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);for(var L=0,V=1;!(A.words[0]&V)&&L<26;++L,V<<=1);if(L>0)for(A.iushrn(L);L-- >0;)_.isOdd()&&_.iadd(S),_.iushrn(1);O.cmp(A)>=0?(O.isub(A),w.isub(_)):(A.isub(O),_.isub(w))}return(v=O.cmpn(1)===0?w:_).cmpn(0)<0&&v.iadd(C),v},s.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var O=this.clone(),A=C.clone();O.negative=0,A.negative=0;for(var v=0;O.isEven()&&A.isEven();v++)O.iushrn(1),A.iushrn(1);for(;;){for(;O.isEven();)O.iushrn(1);for(;A.isEven();)A.iushrn(1);var w=O.cmp(A);if(w<0){var _=O;O=A,A=_}else if(w===0||A.cmpn(1)===0)break;O.isub(A)}return A.iushln(v)},s.prototype.invm=function(C){return this.egcd(C).a.umod(C)},s.prototype.isEven=function(){return(1&this.words[0])==0},s.prototype.isOdd=function(){return(1&this.words[0])==1},s.prototype.andln=function(C){return this.words[0]&C},s.prototype.bincn=function(C){o(typeof C=="number");var O=C%26,A=(C-O)/26,v=1<<O;if(this.length<=A)return this._expand(A+1),this.words[A]|=v,this;for(var w=v,_=A;w!==0&&_<this.length;_++){var S=0|this.words[_];w=(S+=w)>>>26,S&=67108863,this.words[_]=S}return w!==0&&(this.words[_]=w,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(C){var O,A=C<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;if(this.strip(),this.length>1)O=1;else{A&&(C=-C),o(C<=67108863,"Number is too big");var v=0|this.words[0];O=v===C?0:v<C?-1:1}return this.negative!==0?0|-O:O},s.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var O=this.ucmp(C);return this.negative!==0?0|-O:O},s.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var O=0,A=this.length-1;A>=0;A--){var v=0|this.words[A],w=0|C.words[A];if(v!==w){v<w?O=-1:v>w&&(O=1);break}}return O},s.prototype.gtn=function(C){return this.cmpn(C)===1},s.prototype.gt=function(C){return this.cmp(C)===1},s.prototype.gten=function(C){return this.cmpn(C)>=0},s.prototype.gte=function(C){return this.cmp(C)>=0},s.prototype.ltn=function(C){return this.cmpn(C)===-1},s.prototype.lt=function(C){return this.cmp(C)===-1},s.prototype.lten=function(C){return this.cmpn(C)<=0},s.prototype.lte=function(C){return this.cmp(C)<=0},s.prototype.eqn=function(C){return this.cmpn(C)===0},s.prototype.eq=function(C){return this.cmp(C)===0},s.red=function(C){return new $(C)},s.prototype.toRed=function(C){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},s.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(C){return this.red=C,this},s.prototype.forceRed=function(C){return o(!this.red,"Already a number in reduction context"),this._forceRed(C)},s.prototype.redAdd=function(C){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},s.prototype.redIAdd=function(C){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},s.prototype.redSub=function(C){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},s.prototype.redISub=function(C){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},s.prototype.redShl=function(C){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},s.prototype.redMul=function(C){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},s.prototype.redIMul=function(C){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},s.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(C){return o(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var M={k256:null,p224:null,p192:null,p25519:null};function I(C,O){this.name=C,this.p=new s(O,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function B(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function j(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function F(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function z(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function $(C){if(typeof C=="string"){var O=s._prime(C);this.m=O.p,this.prime=O}else o(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function H(C){$.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}I.prototype._tmp=function(){var C=new s(null);return C.words=new Array(Math.ceil(this.n/13)),C},I.prototype.ireduce=function(C){var O,A=C;do this.split(A,this.tmp),O=(A=(A=this.imulK(A)).iadd(this.tmp)).bitLength();while(O>this.n);var v=O<this.n?-1:A.ucmp(this.p);return v===0?(A.words[0]=0,A.length=1):v>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},I.prototype.split=function(C,O){C.iushrn(this.n,0,O)},I.prototype.imulK=function(C){return C.imul(this.k)},l(B,I),B.prototype.split=function(C,O){for(var A=Math.min(C.length,9),v=0;v<A;v++)O.words[v]=C.words[v];if(O.length=A,C.length<=9)return C.words[0]=0,void(C.length=1);var w=C.words[9];for(O.words[O.length++]=4194303&w,v=10;v<C.length;v++){var _=0|C.words[v];C.words[v-10]=(4194303&_)<<4|w>>>22,w=_}w>>>=22,C.words[v-10]=w,w===0&&C.length>10?C.length-=10:C.length-=9},B.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var O=0,A=0;A<C.length;A++){var v=0|C.words[A];O+=977*v,C.words[A]=67108863&O,O=64*v+(O/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C},l(j,I),l(F,I),l(z,I),z.prototype.imulK=function(C){for(var O=0,A=0;A<C.length;A++){var v=19*(0|C.words[A])+O,w=67108863&v;v>>>=26,C.words[A]=w,O=v}return O!==0&&(C.words[C.length++]=O),C},s._prime=function(C){if(M[C])return M[C];var O;if(C==="k256")O=new B;else if(C==="p224")O=new j;else if(C==="p192")O=new F;else{if(C!=="p25519")throw new Error("Unknown prime "+C);O=new z}return M[C]=O,O},$.prototype._verify1=function(C){o(C.negative===0,"red works only with positives"),o(C.red,"red works only with red numbers")},$.prototype._verify2=function(C,O){o((C.negative|O.negative)==0,"red works only with positives"),o(C.red&&C.red===O.red,"red works only with red numbers")},$.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):C.umod(this.m)._forceRed(this)},$.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},$.prototype.add=function(C,O){this._verify2(C,O);var A=C.add(O);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},$.prototype.iadd=function(C,O){this._verify2(C,O);var A=C.iadd(O);return A.cmp(this.m)>=0&&A.isub(this.m),A},$.prototype.sub=function(C,O){this._verify2(C,O);var A=C.sub(O);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},$.prototype.isub=function(C,O){this._verify2(C,O);var A=C.isub(O);return A.cmpn(0)<0&&A.iadd(this.m),A},$.prototype.shl=function(C,O){return this._verify1(C),this.imod(C.ushln(O))},$.prototype.imul=function(C,O){return this._verify2(C,O),this.imod(C.imul(O))},$.prototype.mul=function(C,O){return this._verify2(C,O),this.imod(C.mul(O))},$.prototype.isqr=function(C){return this.imul(C,C.clone())},$.prototype.sqr=function(C){return this.mul(C,C)},$.prototype.sqrt=function(C){if(C.isZero())return C.clone();var O=this.m.andln(3);if(o(O%2==1),O===3){var A=this.m.add(new s(1)).iushrn(2);return this.pow(C,A)}for(var v=this.m.subn(1),w=0;!v.isZero()&&v.andln(1)===0;)w++,v.iushrn(1);o(!v.isZero());var _=new s(1).toRed(this),S=_.redNeg(),T=this.m.subn(1).iushrn(1),N=this.m.bitLength();for(N=new s(2*N*N).toRed(this);this.pow(N,T).cmp(S)!==0;)N.redIAdd(S);for(var L=this.pow(N,v),V=this.pow(C,v.addn(1).iushrn(1)),q=this.pow(C,v),Y=w;q.cmp(_)!==0;){for(var D=q,X=0;D.cmp(_)!==0;X++)D=D.redSqr();o(X<Y);var P=this.pow(L,new s(1).iushln(Y-X-1));V=V.redMul(P),L=P.redSqr(),q=q.redMul(L),Y=X}return V},$.prototype.invm=function(C){var O=C._invmp(this.m);return O.negative!==0?(O.negative=0,this.imod(O).redNeg()):this.imod(O)},$.prototype.pow=function(C,O){if(O.isZero())return new s(1).toRed(this);if(O.cmpn(1)===0)return C.clone();var A=new Array(16);A[0]=new s(1).toRed(this),A[1]=C;for(var v=2;v<A.length;v++)A[v]=this.mul(A[v-1],C);var w=A[0],_=0,S=0,T=O.bitLength()%26;for(T===0&&(T=26),v=O.length-1;v>=0;v--){for(var N=O.words[v],L=T-1;L>=0;L--){var V=N>>L&1;w!==A[0]&&(w=this.sqr(w)),V!==0||_!==0?(_<<=1,_|=V,(++S===4||v===0&&L===0)&&(w=this.mul(w,A[_]),S=0,_=0)):S=0}T=26}return w},$.prototype.convertTo=function(C){var O=C.umod(this.m);return O===C?O.clone():O},$.prototype.convertFrom=function(C){var O=C.clone();return O.red=null,O},s.mont=function(C){return new H(C)},l(H,$),H.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},H.prototype.convertFrom=function(C){var O=this.imod(C.mul(this.rinv));return O.red=null,O},H.prototype.imul=function(C,O){if(C.isZero()||O.isZero())return C.words[0]=0,C.length=1,C;var A=C.imul(O),v=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=A.isub(v).iushrn(this.shift),_=w;return w.cmp(this.m)>=0?_=w.isub(this.m):w.cmpn(0)<0&&(_=w.iadd(this.m)),_._forceRed(this)},H.prototype.mul=function(C,O){if(C.isZero()||O.isZero())return new s(0)._forceRed(this);var A=C.mul(O),v=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=A.isub(v).iushrn(this.shift),_=w;return w.cmp(this.m)>=0?_=w.isub(this.m):w.cmpn(0)<0&&(_=w.iadd(this.m)),_._forceRed(this)},H.prototype.invm=function(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}})(r===void 0||r)},{buffer:188}],185:[function(t,r,a){a.byteLength=function(d){var p=f(d),g=p[0],m=p[1];return 3*(g+m)/4-m},a.toByteArray=function(d){var p,g,m=f(d),b=m[0],y=m[1],x=new o(function(I,B,j){return 3*(B+j)/4-j}(0,b,y)),k=0,M=y>0?b-4:b;for(g=0;g<M;g+=4)p=i[d.charCodeAt(g)]<<18|i[d.charCodeAt(g+1)]<<12|i[d.charCodeAt(g+2)]<<6|i[d.charCodeAt(g+3)],x[k++]=p>>16&255,x[k++]=p>>8&255,x[k++]=255&p;return y===2&&(p=i[d.charCodeAt(g)]<<2|i[d.charCodeAt(g+1)]>>4,x[k++]=255&p),y===1&&(p=i[d.charCodeAt(g)]<<10|i[d.charCodeAt(g+1)]<<4|i[d.charCodeAt(g+2)]>>2,x[k++]=p>>8&255,x[k++]=255&p),x},a.fromByteArray=function(d){for(var p,g=d.length,m=g%3,b=[],y=0,x=g-m;y<x;y+=16383)b.push(h(d,y,y+16383>x?x:y+16383));return m===1?(p=d[g-1],b.push(n[p>>2]+n[p<<4&63]+"==")):m===2&&(p=(d[g-2]<<8)+d[g-1],b.push(n[p>>10]+n[p>>4&63]+n[p<<2&63]+"=")),b.join("")};for(var n=[],i=[],o=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=l.length;s<c;++s)n[s]=l[s],i[l.charCodeAt(s)]=s;function f(d){var p=d.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=d.indexOf("=");return g===-1&&(g=p),[g,g===p?0:4-g%4]}function h(d,p,g){for(var m,b,y=[],x=p;x<g;x+=3)m=(d[x]<<16&16711680)+(d[x+1]<<8&65280)+(255&d[x+2]),y.push(n[(b=m)>>18&63]+n[b>>12&63]+n[b>>6&63]+n[63&b]);return y.join("")}i[45]=62,i[95]=63},{}],186:[function(t,r,a){(function(n,i){function o(A,v){if(!A)throw new Error(v||"Assertion failed")}function l(A,v){A.super_=v;var w=function(){};w.prototype=v.prototype,A.prototype=new w,A.prototype.constructor=A}function s(A,v,w){if(s.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(v!=="le"&&v!=="be"||(w=v,v=10),this._init(A||0,v||10,w||"be"))}var c;typeof n=="object"?n.exports=s:(void 0).BN=s,s.BN=s,s.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function f(A,v){var w=A.charCodeAt(v);return w>=48&&w<=57?w-48:w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:void o(!1,"Invalid character in "+A)}function h(A,v,w){var _=f(A,w);return w-1>=v&&(_|=f(A,w-1)<<4),_}function d(A,v,w,_){for(var S=0,T=0,N=Math.min(A.length,w),L=v;L<N;L++){var V=A.charCodeAt(L)-48;S*=_,T=V>=49?V-49+10:V>=17?V-17+10:V,o(V>=0&&T<_,"Invalid character"),S+=T}return S}function p(A,v){A.words=v.words,A.length=v.length,A.negative=v.negative,A.red=v.red}if(s.isBN=function(A){return A instanceof s||A!==null&&typeof A=="object"&&A.constructor.wordSize===s.wordSize&&Array.isArray(A.words)},s.max=function(A,v){return A.cmp(v)>0?A:v},s.min=function(A,v){return A.cmp(v)<0?A:v},s.prototype._init=function(A,v,w){if(typeof A=="number")return this._initNumber(A,v,w);if(typeof A=="object")return this._initArray(A,v,w);v==="hex"&&(v=16),o(v===(0|v)&&v>=2&&v<=36);var _=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<A.length&&(v===16?this._parseHex(A,_,w):(this._parseBase(A,v,_),w==="le"&&this._initArray(this.toArray(),v,w)))},s.prototype._initNumber=function(A,v,w){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(o(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),v,w)},s.prototype._initArray=function(A,v,w){if(o(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,T,N=0;if(w==="be")for(_=A.length-1,S=0;_>=0;_-=3)T=A[_]|A[_-1]<<8|A[_-2]<<16,this.words[S]|=T<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);else if(w==="le")for(_=0,S=0;_<A.length;_+=3)T=A[_]|A[_+1]<<8|A[_+2]<<16,this.words[S]|=T<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);return this._strip()},s.prototype._parseHex=function(A,v,w){this.length=Math.ceil((A.length-v)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,T=0,N=0;if(w==="be")for(_=A.length-1;_>=v;_-=2)S=h(A,v,_)<<T,this.words[N]|=67108863&S,T>=18?(T-=18,N+=1,this.words[N]|=S>>>26):T+=8;else for(_=(A.length-v)%2==0?v+1:v;_<A.length;_+=2)S=h(A,v,_)<<T,this.words[N]|=67108863&S,T>=18?(T-=18,N+=1,this.words[N]|=S>>>26):T+=8;this._strip()},s.prototype._parseBase=function(A,v,w){this.words=[0],this.length=1;for(var _=0,S=1;S<=67108863;S*=v)_++;_--,S=S/v|0;for(var T=A.length-w,N=T%_,L=Math.min(T,T-N)+w,V=0,q=w;q<L;q+=_)V=d(A,q,q+_,v),this.imuln(S),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V);if(N!==0){var Y=1;for(V=d(A,q,A.length,v),q=0;q<N;q++)Y*=v;this.imuln(Y),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V)}this._strip()},s.prototype.copy=function(A){A.words=new Array(this.length);for(var v=0;v<this.length;v++)A.words[v]=this.words[v];A.length=this.length,A.negative=this.negative,A.red=this.red},s.prototype._move=function(A){p(A,this)},s.prototype.clone=function(){var A=new s(null);return this.copy(A),A},s.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{s.prototype.inspect=g}else s.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(A,v){var w;if(v=0|v||1,(A=A||10)===16||A==="hex"){w="";for(var _=0,S=0,T=0;T<this.length;T++){var N=this.words[T],L=(16777215&(N<<_|S)).toString(16);S=N>>>24-_&16777215,(_+=2)>=26&&(_-=26,T--),w=S!==0||T!==this.length-1?m[6-L.length]+L+w:L+w}for(S!==0&&(w=S.toString(16)+w);w.length%v!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(A===(0|A)&&A>=2&&A<=36){var V=b[A],q=y[A];w="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var D=Y.modrn(q).toString(A);w=(Y=Y.idivn(q)).isZero()?D+w:m[V-D.length]+D+w}for(this.isZero()&&(w="0"+w);w.length%v!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}o(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},s.prototype.toJSON=function(){return this.toString(16,2)},c&&(s.prototype.toBuffer=function(A,v){return this.toArrayLike(c,A,v)}),s.prototype.toArray=function(A,v){return this.toArrayLike(Array,A,v)};function x(A,v,w){w.negative=v.negative^A.negative;var _=A.length+v.length|0;w.length=_,_=_-1|0;var S=0|A.words[0],T=0|v.words[0],N=S*T,L=67108863&N,V=N/67108864|0;w.words[0]=L;for(var q=1;q<_;q++){for(var Y=V>>>26,D=67108863&V,X=Math.min(q,v.length-1),P=Math.max(0,q-A.length+1);P<=X;P++){var R=q-P|0;Y+=(N=(S=0|A.words[R])*(T=0|v.words[P])+D)/67108864|0,D=67108863&N}w.words[q]=0|D,V=0|Y}return V!==0?w.words[q]=0|V:w.length--,w._strip()}s.prototype.toArrayLike=function(A,v,w){this._strip();var _=this.byteLength(),S=w||Math.max(1,_);o(_<=S,"byte array longer than desired length"),o(S>0,"Requested array length <= 0");var T=function(N,L){return N.allocUnsafe?N.allocUnsafe(L):new N(L)}(A,S);return this["_toArrayLike"+(v==="le"?"LE":"BE")](T,_),T},s.prototype._toArrayLikeLE=function(A,v){for(var w=0,_=0,S=0,T=0;S<this.length;S++){var N=this.words[S]<<T|_;A[w++]=255&N,w<A.length&&(A[w++]=N>>8&255),w<A.length&&(A[w++]=N>>16&255),T===6?(w<A.length&&(A[w++]=N>>24&255),_=0,T=0):(_=N>>>24,T+=2)}if(w<A.length)for(A[w++]=_;w<A.length;)A[w++]=0},s.prototype._toArrayLikeBE=function(A,v){for(var w=A.length-1,_=0,S=0,T=0;S<this.length;S++){var N=this.words[S]<<T|_;A[w--]=255&N,w>=0&&(A[w--]=N>>8&255),w>=0&&(A[w--]=N>>16&255),T===6?(w>=0&&(A[w--]=N>>24&255),_=0,T=0):(_=N>>>24,T+=2)}if(w>=0)for(A[w--]=_;w>=0;)A[w--]=0},Math.clz32?s.prototype._countBits=function(A){return 32-Math.clz32(A)}:s.prototype._countBits=function(A){var v=A,w=0;return v>=4096&&(w+=13,v>>>=13),v>=64&&(w+=7,v>>>=7),v>=8&&(w+=4,v>>>=4),v>=2&&(w+=2,v>>>=2),w+v},s.prototype._zeroBits=function(A){if(A===0)return 26;var v=A,w=0;return!(8191&v)&&(w+=13,v>>>=13),!(127&v)&&(w+=7,v>>>=7),!(15&v)&&(w+=4,v>>>=4),!(3&v)&&(w+=2,v>>>=2),!(1&v)&&w++,w},s.prototype.bitLength=function(){var A=this.words[this.length-1],v=this._countBits(A);return 26*(this.length-1)+v},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,v=0;v<this.length;v++){var w=this._zeroBits(this.words[v]);if(A+=w,w!==26)break}return A},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},s.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var v=0;v<A.length;v++)this.words[v]=this.words[v]|A.words[v];return this._strip()},s.prototype.ior=function(A){return o((this.negative|A.negative)==0),this.iuor(A)},s.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},s.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},s.prototype.iuand=function(A){var v;v=this.length>A.length?A:this;for(var w=0;w<v.length;w++)this.words[w]=this.words[w]&A.words[w];return this.length=v.length,this._strip()},s.prototype.iand=function(A){return o((this.negative|A.negative)==0),this.iuand(A)},s.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},s.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},s.prototype.iuxor=function(A){var v,w;this.length>A.length?(v=this,w=A):(v=A,w=this);for(var _=0;_<w.length;_++)this.words[_]=v.words[_]^w.words[_];if(this!==v)for(;_<v.length;_++)this.words[_]=v.words[_];return this.length=v.length,this._strip()},s.prototype.ixor=function(A){return o((this.negative|A.negative)==0),this.iuxor(A)},s.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},s.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},s.prototype.inotn=function(A){o(typeof A=="number"&&A>=0);var v=0|Math.ceil(A/26),w=A%26;this._expand(v),w>0&&v--;for(var _=0;_<v;_++)this.words[_]=67108863&~this.words[_];return w>0&&(this.words[_]=~this.words[_]&67108863>>26-w),this._strip()},s.prototype.notn=function(A){return this.clone().inotn(A)},s.prototype.setn=function(A,v){o(typeof A=="number"&&A>=0);var w=A/26|0,_=A%26;return this._expand(w+1),this.words[w]=v?this.words[w]|1<<_:this.words[w]&~(1<<_),this._strip()},s.prototype.iadd=function(A){var v,w,_;if(this.negative!==0&&A.negative===0)return this.negative=0,v=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,v=this.isub(A),A.negative=1,v._normSign();this.length>A.length?(w=this,_=A):(w=A,_=this);for(var S=0,T=0;T<_.length;T++)v=(0|w.words[T])+(0|_.words[T])+S,this.words[T]=67108863&v,S=v>>>26;for(;S!==0&&T<w.length;T++)v=(0|w.words[T])+S,this.words[T]=67108863&v,S=v>>>26;if(this.length=w.length,S!==0)this.words[this.length]=S,this.length++;else if(w!==this)for(;T<w.length;T++)this.words[T]=w.words[T];return this},s.prototype.add=function(A){var v;return A.negative!==0&&this.negative===0?(A.negative=0,v=this.sub(A),A.negative^=1,v):A.negative===0&&this.negative!==0?(this.negative=0,v=A.sub(this),this.negative=1,v):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},s.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var v=this.iadd(A);return A.negative=1,v._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var w,_,S=this.cmp(A);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(w=this,_=A):(w=A,_=this);for(var T=0,N=0;N<_.length;N++)T=(v=(0|w.words[N])-(0|_.words[N])+T)>>26,this.words[N]=67108863&v;for(;T!==0&&N<w.length;N++)T=(v=(0|w.words[N])+T)>>26,this.words[N]=67108863&v;if(T===0&&N<w.length&&w!==this)for(;N<w.length;N++)this.words[N]=w.words[N];return this.length=Math.max(this.length,N),w!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(A){return this.clone().isub(A)};var k=function(A,v,w){var _,S,T,N=A.words,L=v.words,V=w.words,q=0,Y=0|N[0],D=8191&Y,X=Y>>>13,P=0|N[1],R=8191&P,U=P>>>13,Z=0|N[2],st=8191&Z,W=Z>>>13,G=0|N[3],et=8191&G,it=G>>>13,K=0|N[4],rt=8191&K,nt=K>>>13,ct=0|N[5],ot=8191&ct,lt=ct>>>13,ut=0|N[6],dt=8191&ut,mt=ut>>>13,yt=0|N[7],vt=8191&yt,_t=yt>>>13,Et=0|N[8],Pt=8191&Et,Bt=Et>>>13,Ht=0|N[9],Ot=8191&Ht,St=Ht>>>13,Nt=0|L[0],Lt=8191&Nt,It=Nt>>>13,pe=0|L[1],je=8191&pe,Xt=pe>>>13,Re=0|L[2],ve=8191&Re,ne=Re>>>13,Ke=0|L[3],Oe=8191&Ke,Jt=Ke>>>13,ke=0|L[4],$e=8191&ke,Qt=ke>>>13,Ne=0|L[5],Ve=8191&Ne,ae=Ne>>>13,ht=0|L[6],ft=8191&ht,bt=ht>>>13,Tt=0|L[7],Kt=8191&Tt,Rt=Tt>>>13,te=0|L[8],Zt=8191&te,Wt=te>>>13,se=0|L[9],ee=8191&se,me=se>>>13;w.negative=A.negative^v.negative,w.length=19;var cr=(q+(_=Math.imul(D,Lt))|0)+((8191&(S=(S=Math.imul(D,It))+Math.imul(X,Lt)|0))<<13)|0;q=((T=Math.imul(X,It))+(S>>>13)|0)+(cr>>>26)|0,cr&=67108863,_=Math.imul(R,Lt),S=(S=Math.imul(R,It))+Math.imul(U,Lt)|0,T=Math.imul(U,It);var Qe=(q+(_=_+Math.imul(D,je)|0)|0)+((8191&(S=(S=S+Math.imul(D,Xt)|0)+Math.imul(X,je)|0))<<13)|0;q=((T=T+Math.imul(X,Xt)|0)+(S>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,_=Math.imul(st,Lt),S=(S=Math.imul(st,It))+Math.imul(W,Lt)|0,T=Math.imul(W,It),_=_+Math.imul(R,je)|0,S=(S=S+Math.imul(R,Xt)|0)+Math.imul(U,je)|0,T=T+Math.imul(U,Xt)|0;var gr=(q+(_=_+Math.imul(D,ve)|0)|0)+((8191&(S=(S=S+Math.imul(D,ne)|0)+Math.imul(X,ve)|0))<<13)|0;q=((T=T+Math.imul(X,ne)|0)+(S>>>13)|0)+(gr>>>26)|0,gr&=67108863,_=Math.imul(et,Lt),S=(S=Math.imul(et,It))+Math.imul(it,Lt)|0,T=Math.imul(it,It),_=_+Math.imul(st,je)|0,S=(S=S+Math.imul(st,Xt)|0)+Math.imul(W,je)|0,T=T+Math.imul(W,Xt)|0,_=_+Math.imul(R,ve)|0,S=(S=S+Math.imul(R,ne)|0)+Math.imul(U,ve)|0,T=T+Math.imul(U,ne)|0;var br=(q+(_=_+Math.imul(D,Oe)|0)|0)+((8191&(S=(S=S+Math.imul(D,Jt)|0)+Math.imul(X,Oe)|0))<<13)|0;q=((T=T+Math.imul(X,Jt)|0)+(S>>>13)|0)+(br>>>26)|0,br&=67108863,_=Math.imul(rt,Lt),S=(S=Math.imul(rt,It))+Math.imul(nt,Lt)|0,T=Math.imul(nt,It),_=_+Math.imul(et,je)|0,S=(S=S+Math.imul(et,Xt)|0)+Math.imul(it,je)|0,T=T+Math.imul(it,Xt)|0,_=_+Math.imul(st,ve)|0,S=(S=S+Math.imul(st,ne)|0)+Math.imul(W,ve)|0,T=T+Math.imul(W,ne)|0,_=_+Math.imul(R,Oe)|0,S=(S=S+Math.imul(R,Jt)|0)+Math.imul(U,Oe)|0,T=T+Math.imul(U,Jt)|0;var en=(q+(_=_+Math.imul(D,$e)|0)|0)+((8191&(S=(S=S+Math.imul(D,Qt)|0)+Math.imul(X,$e)|0))<<13)|0;q=((T=T+Math.imul(X,Qt)|0)+(S>>>13)|0)+(en>>>26)|0,en&=67108863,_=Math.imul(ot,Lt),S=(S=Math.imul(ot,It))+Math.imul(lt,Lt)|0,T=Math.imul(lt,It),_=_+Math.imul(rt,je)|0,S=(S=S+Math.imul(rt,Xt)|0)+Math.imul(nt,je)|0,T=T+Math.imul(nt,Xt)|0,_=_+Math.imul(et,ve)|0,S=(S=S+Math.imul(et,ne)|0)+Math.imul(it,ve)|0,T=T+Math.imul(it,ne)|0,_=_+Math.imul(st,Oe)|0,S=(S=S+Math.imul(st,Jt)|0)+Math.imul(W,Oe)|0,T=T+Math.imul(W,Jt)|0,_=_+Math.imul(R,$e)|0,S=(S=S+Math.imul(R,Qt)|0)+Math.imul(U,$e)|0,T=T+Math.imul(U,Qt)|0;var at=(q+(_=_+Math.imul(D,Ve)|0)|0)+((8191&(S=(S=S+Math.imul(D,ae)|0)+Math.imul(X,Ve)|0))<<13)|0;q=((T=T+Math.imul(X,ae)|0)+(S>>>13)|0)+(at>>>26)|0,at&=67108863,_=Math.imul(dt,Lt),S=(S=Math.imul(dt,It))+Math.imul(mt,Lt)|0,T=Math.imul(mt,It),_=_+Math.imul(ot,je)|0,S=(S=S+Math.imul(ot,Xt)|0)+Math.imul(lt,je)|0,T=T+Math.imul(lt,Xt)|0,_=_+Math.imul(rt,ve)|0,S=(S=S+Math.imul(rt,ne)|0)+Math.imul(nt,ve)|0,T=T+Math.imul(nt,ne)|0,_=_+Math.imul(et,Oe)|0,S=(S=S+Math.imul(et,Jt)|0)+Math.imul(it,Oe)|0,T=T+Math.imul(it,Jt)|0,_=_+Math.imul(st,$e)|0,S=(S=S+Math.imul(st,Qt)|0)+Math.imul(W,$e)|0,T=T+Math.imul(W,Qt)|0,_=_+Math.imul(R,Ve)|0,S=(S=S+Math.imul(R,ae)|0)+Math.imul(U,Ve)|0,T=T+Math.imul(U,ae)|0;var pt=(q+(_=_+Math.imul(D,ft)|0)|0)+((8191&(S=(S=S+Math.imul(D,bt)|0)+Math.imul(X,ft)|0))<<13)|0;q=((T=T+Math.imul(X,bt)|0)+(S>>>13)|0)+(pt>>>26)|0,pt&=67108863,_=Math.imul(vt,Lt),S=(S=Math.imul(vt,It))+Math.imul(_t,Lt)|0,T=Math.imul(_t,It),_=_+Math.imul(dt,je)|0,S=(S=S+Math.imul(dt,Xt)|0)+Math.imul(mt,je)|0,T=T+Math.imul(mt,Xt)|0,_=_+Math.imul(ot,ve)|0,S=(S=S+Math.imul(ot,ne)|0)+Math.imul(lt,ve)|0,T=T+Math.imul(lt,ne)|0,_=_+Math.imul(rt,Oe)|0,S=(S=S+Math.imul(rt,Jt)|0)+Math.imul(nt,Oe)|0,T=T+Math.imul(nt,Jt)|0,_=_+Math.imul(et,$e)|0,S=(S=S+Math.imul(et,Qt)|0)+Math.imul(it,$e)|0,T=T+Math.imul(it,Qt)|0,_=_+Math.imul(st,Ve)|0,S=(S=S+Math.imul(st,ae)|0)+Math.imul(W,Ve)|0,T=T+Math.imul(W,ae)|0,_=_+Math.imul(R,ft)|0,S=(S=S+Math.imul(R,bt)|0)+Math.imul(U,ft)|0,T=T+Math.imul(U,bt)|0;var wt=(q+(_=_+Math.imul(D,Kt)|0)|0)+((8191&(S=(S=S+Math.imul(D,Rt)|0)+Math.imul(X,Kt)|0))<<13)|0;q=((T=T+Math.imul(X,Rt)|0)+(S>>>13)|0)+(wt>>>26)|0,wt&=67108863,_=Math.imul(Pt,Lt),S=(S=Math.imul(Pt,It))+Math.imul(Bt,Lt)|0,T=Math.imul(Bt,It),_=_+Math.imul(vt,je)|0,S=(S=S+Math.imul(vt,Xt)|0)+Math.imul(_t,je)|0,T=T+Math.imul(_t,Xt)|0,_=_+Math.imul(dt,ve)|0,S=(S=S+Math.imul(dt,ne)|0)+Math.imul(mt,ve)|0,T=T+Math.imul(mt,ne)|0,_=_+Math.imul(ot,Oe)|0,S=(S=S+Math.imul(ot,Jt)|0)+Math.imul(lt,Oe)|0,T=T+Math.imul(lt,Jt)|0,_=_+Math.imul(rt,$e)|0,S=(S=S+Math.imul(rt,Qt)|0)+Math.imul(nt,$e)|0,T=T+Math.imul(nt,Qt)|0,_=_+Math.imul(et,Ve)|0,S=(S=S+Math.imul(et,ae)|0)+Math.imul(it,Ve)|0,T=T+Math.imul(it,ae)|0,_=_+Math.imul(st,ft)|0,S=(S=S+Math.imul(st,bt)|0)+Math.imul(W,ft)|0,T=T+Math.imul(W,bt)|0,_=_+Math.imul(R,Kt)|0,S=(S=S+Math.imul(R,Rt)|0)+Math.imul(U,Kt)|0,T=T+Math.imul(U,Rt)|0;var xt=(q+(_=_+Math.imul(D,Zt)|0)|0)+((8191&(S=(S=S+Math.imul(D,Wt)|0)+Math.imul(X,Zt)|0))<<13)|0;q=((T=T+Math.imul(X,Wt)|0)+(S>>>13)|0)+(xt>>>26)|0,xt&=67108863,_=Math.imul(Ot,Lt),S=(S=Math.imul(Ot,It))+Math.imul(St,Lt)|0,T=Math.imul(St,It),_=_+Math.imul(Pt,je)|0,S=(S=S+Math.imul(Pt,Xt)|0)+Math.imul(Bt,je)|0,T=T+Math.imul(Bt,Xt)|0,_=_+Math.imul(vt,ve)|0,S=(S=S+Math.imul(vt,ne)|0)+Math.imul(_t,ve)|0,T=T+Math.imul(_t,ne)|0,_=_+Math.imul(dt,Oe)|0,S=(S=S+Math.imul(dt,Jt)|0)+Math.imul(mt,Oe)|0,T=T+Math.imul(mt,Jt)|0,_=_+Math.imul(ot,$e)|0,S=(S=S+Math.imul(ot,Qt)|0)+Math.imul(lt,$e)|0,T=T+Math.imul(lt,Qt)|0,_=_+Math.imul(rt,Ve)|0,S=(S=S+Math.imul(rt,ae)|0)+Math.imul(nt,Ve)|0,T=T+Math.imul(nt,ae)|0,_=_+Math.imul(et,ft)|0,S=(S=S+Math.imul(et,bt)|0)+Math.imul(it,ft)|0,T=T+Math.imul(it,bt)|0,_=_+Math.imul(st,Kt)|0,S=(S=S+Math.imul(st,Rt)|0)+Math.imul(W,Kt)|0,T=T+Math.imul(W,Rt)|0,_=_+Math.imul(R,Zt)|0,S=(S=S+Math.imul(R,Wt)|0)+Math.imul(U,Zt)|0,T=T+Math.imul(U,Wt)|0;var $t=(q+(_=_+Math.imul(D,ee)|0)|0)+((8191&(S=(S=S+Math.imul(D,me)|0)+Math.imul(X,ee)|0))<<13)|0;q=((T=T+Math.imul(X,me)|0)+(S>>>13)|0)+($t>>>26)|0,$t&=67108863,_=Math.imul(Ot,je),S=(S=Math.imul(Ot,Xt))+Math.imul(St,je)|0,T=Math.imul(St,Xt),_=_+Math.imul(Pt,ve)|0,S=(S=S+Math.imul(Pt,ne)|0)+Math.imul(Bt,ve)|0,T=T+Math.imul(Bt,ne)|0,_=_+Math.imul(vt,Oe)|0,S=(S=S+Math.imul(vt,Jt)|0)+Math.imul(_t,Oe)|0,T=T+Math.imul(_t,Jt)|0,_=_+Math.imul(dt,$e)|0,S=(S=S+Math.imul(dt,Qt)|0)+Math.imul(mt,$e)|0,T=T+Math.imul(mt,Qt)|0,_=_+Math.imul(ot,Ve)|0,S=(S=S+Math.imul(ot,ae)|0)+Math.imul(lt,Ve)|0,T=T+Math.imul(lt,ae)|0,_=_+Math.imul(rt,ft)|0,S=(S=S+Math.imul(rt,bt)|0)+Math.imul(nt,ft)|0,T=T+Math.imul(nt,bt)|0,_=_+Math.imul(et,Kt)|0,S=(S=S+Math.imul(et,Rt)|0)+Math.imul(it,Kt)|0,T=T+Math.imul(it,Rt)|0,_=_+Math.imul(st,Zt)|0,S=(S=S+Math.imul(st,Wt)|0)+Math.imul(W,Zt)|0,T=T+Math.imul(W,Wt)|0;var Ct=(q+(_=_+Math.imul(R,ee)|0)|0)+((8191&(S=(S=S+Math.imul(R,me)|0)+Math.imul(U,ee)|0))<<13)|0;q=((T=T+Math.imul(U,me)|0)+(S>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,_=Math.imul(Ot,ve),S=(S=Math.imul(Ot,ne))+Math.imul(St,ve)|0,T=Math.imul(St,ne),_=_+Math.imul(Pt,Oe)|0,S=(S=S+Math.imul(Pt,Jt)|0)+Math.imul(Bt,Oe)|0,T=T+Math.imul(Bt,Jt)|0,_=_+Math.imul(vt,$e)|0,S=(S=S+Math.imul(vt,Qt)|0)+Math.imul(_t,$e)|0,T=T+Math.imul(_t,Qt)|0,_=_+Math.imul(dt,Ve)|0,S=(S=S+Math.imul(dt,ae)|0)+Math.imul(mt,Ve)|0,T=T+Math.imul(mt,ae)|0,_=_+Math.imul(ot,ft)|0,S=(S=S+Math.imul(ot,bt)|0)+Math.imul(lt,ft)|0,T=T+Math.imul(lt,bt)|0,_=_+Math.imul(rt,Kt)|0,S=(S=S+Math.imul(rt,Rt)|0)+Math.imul(nt,Kt)|0,T=T+Math.imul(nt,Rt)|0,_=_+Math.imul(et,Zt)|0,S=(S=S+Math.imul(et,Wt)|0)+Math.imul(it,Zt)|0,T=T+Math.imul(it,Wt)|0;var Mt=(q+(_=_+Math.imul(st,ee)|0)|0)+((8191&(S=(S=S+Math.imul(st,me)|0)+Math.imul(W,ee)|0))<<13)|0;q=((T=T+Math.imul(W,me)|0)+(S>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,_=Math.imul(Ot,Oe),S=(S=Math.imul(Ot,Jt))+Math.imul(St,Oe)|0,T=Math.imul(St,Jt),_=_+Math.imul(Pt,$e)|0,S=(S=S+Math.imul(Pt,Qt)|0)+Math.imul(Bt,$e)|0,T=T+Math.imul(Bt,Qt)|0,_=_+Math.imul(vt,Ve)|0,S=(S=S+Math.imul(vt,ae)|0)+Math.imul(_t,Ve)|0,T=T+Math.imul(_t,ae)|0,_=_+Math.imul(dt,ft)|0,S=(S=S+Math.imul(dt,bt)|0)+Math.imul(mt,ft)|0,T=T+Math.imul(mt,bt)|0,_=_+Math.imul(ot,Kt)|0,S=(S=S+Math.imul(ot,Rt)|0)+Math.imul(lt,Kt)|0,T=T+Math.imul(lt,Rt)|0,_=_+Math.imul(rt,Zt)|0,S=(S=S+Math.imul(rt,Wt)|0)+Math.imul(nt,Zt)|0,T=T+Math.imul(nt,Wt)|0;var Se=(q+(_=_+Math.imul(et,ee)|0)|0)+((8191&(S=(S=S+Math.imul(et,me)|0)+Math.imul(it,ee)|0))<<13)|0;q=((T=T+Math.imul(it,me)|0)+(S>>>13)|0)+(Se>>>26)|0,Se&=67108863,_=Math.imul(Ot,$e),S=(S=Math.imul(Ot,Qt))+Math.imul(St,$e)|0,T=Math.imul(St,Qt),_=_+Math.imul(Pt,Ve)|0,S=(S=S+Math.imul(Pt,ae)|0)+Math.imul(Bt,Ve)|0,T=T+Math.imul(Bt,ae)|0,_=_+Math.imul(vt,ft)|0,S=(S=S+Math.imul(vt,bt)|0)+Math.imul(_t,ft)|0,T=T+Math.imul(_t,bt)|0,_=_+Math.imul(dt,Kt)|0,S=(S=S+Math.imul(dt,Rt)|0)+Math.imul(mt,Kt)|0,T=T+Math.imul(mt,Rt)|0,_=_+Math.imul(ot,Zt)|0,S=(S=S+Math.imul(ot,Wt)|0)+Math.imul(lt,Zt)|0,T=T+Math.imul(lt,Wt)|0;var he=(q+(_=_+Math.imul(rt,ee)|0)|0)+((8191&(S=(S=S+Math.imul(rt,me)|0)+Math.imul(nt,ee)|0))<<13)|0;q=((T=T+Math.imul(nt,me)|0)+(S>>>13)|0)+(he>>>26)|0,he&=67108863,_=Math.imul(Ot,Ve),S=(S=Math.imul(Ot,ae))+Math.imul(St,Ve)|0,T=Math.imul(St,ae),_=_+Math.imul(Pt,ft)|0,S=(S=S+Math.imul(Pt,bt)|0)+Math.imul(Bt,ft)|0,T=T+Math.imul(Bt,bt)|0,_=_+Math.imul(vt,Kt)|0,S=(S=S+Math.imul(vt,Rt)|0)+Math.imul(_t,Kt)|0,T=T+Math.imul(_t,Rt)|0,_=_+Math.imul(dt,Zt)|0,S=(S=S+Math.imul(dt,Wt)|0)+Math.imul(mt,Zt)|0,T=T+Math.imul(mt,Wt)|0;var ge=(q+(_=_+Math.imul(ot,ee)|0)|0)+((8191&(S=(S=S+Math.imul(ot,me)|0)+Math.imul(lt,ee)|0))<<13)|0;q=((T=T+Math.imul(lt,me)|0)+(S>>>13)|0)+(ge>>>26)|0,ge&=67108863,_=Math.imul(Ot,ft),S=(S=Math.imul(Ot,bt))+Math.imul(St,ft)|0,T=Math.imul(St,bt),_=_+Math.imul(Pt,Kt)|0,S=(S=S+Math.imul(Pt,Rt)|0)+Math.imul(Bt,Kt)|0,T=T+Math.imul(Bt,Rt)|0,_=_+Math.imul(vt,Zt)|0,S=(S=S+Math.imul(vt,Wt)|0)+Math.imul(_t,Zt)|0,T=T+Math.imul(_t,Wt)|0;var Yt=(q+(_=_+Math.imul(dt,ee)|0)|0)+((8191&(S=(S=S+Math.imul(dt,me)|0)+Math.imul(mt,ee)|0))<<13)|0;q=((T=T+Math.imul(mt,me)|0)+(S>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,_=Math.imul(Ot,Kt),S=(S=Math.imul(Ot,Rt))+Math.imul(St,Kt)|0,T=Math.imul(St,Rt),_=_+Math.imul(Pt,Zt)|0,S=(S=S+Math.imul(Pt,Wt)|0)+Math.imul(Bt,Zt)|0,T=T+Math.imul(Bt,Wt)|0;var Be=(q+(_=_+Math.imul(vt,ee)|0)|0)+((8191&(S=(S=S+Math.imul(vt,me)|0)+Math.imul(_t,ee)|0))<<13)|0;q=((T=T+Math.imul(_t,me)|0)+(S>>>13)|0)+(Be>>>26)|0,Be&=67108863,_=Math.imul(Ot,Zt),S=(S=Math.imul(Ot,Wt))+Math.imul(St,Zt)|0,T=Math.imul(St,Wt);var ze=(q+(_=_+Math.imul(Pt,ee)|0)|0)+((8191&(S=(S=S+Math.imul(Pt,me)|0)+Math.imul(Bt,ee)|0))<<13)|0;q=((T=T+Math.imul(Bt,me)|0)+(S>>>13)|0)+(ze>>>26)|0,ze&=67108863;var We=(q+(_=Math.imul(Ot,ee))|0)+((8191&(S=(S=Math.imul(Ot,me))+Math.imul(St,ee)|0))<<13)|0;return q=((T=Math.imul(St,me))+(S>>>13)|0)+(We>>>26)|0,We&=67108863,V[0]=cr,V[1]=Qe,V[2]=gr,V[3]=br,V[4]=en,V[5]=at,V[6]=pt,V[7]=wt,V[8]=xt,V[9]=$t,V[10]=Ct,V[11]=Mt,V[12]=Se,V[13]=he,V[14]=ge,V[15]=Yt,V[16]=Be,V[17]=ze,V[18]=We,q!==0&&(V[19]=q,w.length++),w};function M(A,v,w){w.negative=v.negative^A.negative,w.length=A.length+v.length;for(var _=0,S=0,T=0;T<w.length-1;T++){var N=S;S=0;for(var L=67108863&_,V=Math.min(T,v.length-1),q=Math.max(0,T-A.length+1);q<=V;q++){var Y=T-q,D=(0|A.words[Y])*(0|v.words[q]),X=67108863&D;L=67108863&(X=X+L|0),S+=(N=(N=N+(D/67108864|0)|0)+(X>>>26)|0)>>>26,N&=67108863}w.words[T]=L,_=N,N=S}return _!==0?w.words[T]=_:w.length--,w._strip()}function I(A,v,w){return M(A,v,w)}Math.imul||(k=x),s.prototype.mulTo=function(A,v){var w=this.length+A.length;return this.length===10&&A.length===10?k(this,A,v):w<63?x(this,A,v):w<1024?M(this,A,v):I(this,A,v)},s.prototype.mul=function(A){var v=new s(null);return v.words=new Array(this.length+A.length),this.mulTo(A,v)},s.prototype.mulf=function(A){var v=new s(null);return v.words=new Array(this.length+A.length),I(this,A,v)},s.prototype.imul=function(A){return this.clone().mulTo(A,this)},s.prototype.imuln=function(A){var v=A<0;v&&(A=-A),o(typeof A=="number"),o(A<67108864);for(var w=0,_=0;_<this.length;_++){var S=(0|this.words[_])*A,T=(67108863&S)+(67108863&w);w>>=26,w+=S/67108864|0,w+=T>>>26,this.words[_]=67108863&T}return w!==0&&(this.words[_]=w,this.length++),v?this.ineg():this},s.prototype.muln=function(A){return this.clone().imuln(A)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(A){var v=function(T){for(var N=new Array(T.bitLength()),L=0;L<N.length;L++){var V=L/26|0,q=L%26;N[L]=T.words[V]>>>q&1}return N}(A);if(v.length===0)return new s(1);for(var w=this,_=0;_<v.length&&v[_]===0;_++,w=w.sqr());if(++_<v.length)for(var S=w.sqr();_<v.length;_++,S=S.sqr())v[_]!==0&&(w=w.mul(S));return w},s.prototype.iushln=function(A){o(typeof A=="number"&&A>=0);var v,w=A%26,_=(A-w)/26,S=67108863>>>26-w<<26-w;if(w!==0){var T=0;for(v=0;v<this.length;v++){var N=this.words[v]&S,L=(0|this.words[v])-N<<w;this.words[v]=L|T,T=N>>>26-w}T&&(this.words[v]=T,this.length++)}if(_!==0){for(v=this.length-1;v>=0;v--)this.words[v+_]=this.words[v];for(v=0;v<_;v++)this.words[v]=0;this.length+=_}return this._strip()},s.prototype.ishln=function(A){return o(this.negative===0),this.iushln(A)},s.prototype.iushrn=function(A,v,w){var _;o(typeof A=="number"&&A>=0),_=v?(v-v%26)/26:0;var S=A%26,T=Math.min((A-S)/26,this.length),N=67108863^67108863>>>S<<S,L=w;if(_-=T,_=Math.max(0,_),L){for(var V=0;V<T;V++)L.words[V]=this.words[V];L.length=T}if(T!==0)if(this.length>T)for(this.length-=T,V=0;V<this.length;V++)this.words[V]=this.words[V+T];else this.words[0]=0,this.length=1;var q=0;for(V=this.length-1;V>=0&&(q!==0||V>=_);V--){var Y=0|this.words[V];this.words[V]=q<<26-S|Y>>>S,q=Y&N}return L&&q!==0&&(L.words[L.length++]=q),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(A,v,w){return o(this.negative===0),this.iushrn(A,v,w)},s.prototype.shln=function(A){return this.clone().ishln(A)},s.prototype.ushln=function(A){return this.clone().iushln(A)},s.prototype.shrn=function(A){return this.clone().ishrn(A)},s.prototype.ushrn=function(A){return this.clone().iushrn(A)},s.prototype.testn=function(A){o(typeof A=="number"&&A>=0);var v=A%26,w=(A-v)/26,_=1<<v;return!(this.length<=w)&&!!(this.words[w]&_)},s.prototype.imaskn=function(A){o(typeof A=="number"&&A>=0);var v=A%26,w=(A-v)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(v!==0&&w++,this.length=Math.min(w,this.length),v!==0){var _=67108863^67108863>>>v<<v;this.words[this.length-1]&=_}return this._strip()},s.prototype.maskn=function(A){return this.clone().imaskn(A)},s.prototype.iaddn=function(A){return o(typeof A=="number"),o(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<=A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},s.prototype._iaddn=function(A){this.words[0]+=A;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},s.prototype.isubn=function(A){if(o(typeof A=="number"),o(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},s.prototype.addn=function(A){return this.clone().iaddn(A)},s.prototype.subn=function(A){return this.clone().isubn(A)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(A,v,w){var _,S,T=A.length+w;this._expand(T);var N=0;for(_=0;_<A.length;_++){S=(0|this.words[_+w])+N;var L=(0|A.words[_])*v;N=((S-=67108863&L)>>26)-(L/67108864|0),this.words[_+w]=67108863&S}for(;_<this.length-w;_++)N=(S=(0|this.words[_+w])+N)>>26,this.words[_+w]=67108863&S;if(N===0)return this._strip();for(o(N===-1),N=0,_=0;_<this.length;_++)N=(S=-(0|this.words[_])+N)>>26,this.words[_]=67108863&S;return this.negative=1,this._strip()},s.prototype._wordDiv=function(A,v){var w=(this.length,A.length),_=this.clone(),S=A,T=0|S.words[S.length-1];(w=26-this._countBits(T))!==0&&(S=S.ushln(w),_.iushln(w),T=0|S.words[S.length-1]);var N,L=_.length-S.length;if(v!=="mod"){(N=new s(null)).length=L+1,N.words=new Array(N.length);for(var V=0;V<N.length;V++)N.words[V]=0}var q=_.clone()._ishlnsubmul(S,1,L);q.negative===0&&(_=q,N&&(N.words[L]=1));for(var Y=L-1;Y>=0;Y--){var D=67108864*(0|_.words[S.length+Y])+(0|_.words[S.length+Y-1]);for(D=Math.min(D/T|0,67108863),_._ishlnsubmul(S,D,Y);_.negative!==0;)D--,_.negative=0,_._ishlnsubmul(S,1,Y),_.isZero()||(_.negative^=1);N&&(N.words[Y]=D)}return N&&N._strip(),_._strip(),v!=="div"&&w!==0&&_.iushrn(w),{div:N||null,mod:_}},s.prototype.divmod=function(A,v,w){return o(!A.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:this.negative!==0&&A.negative===0?(T=this.neg().divmod(A,v),v!=="mod"&&(_=T.div.neg()),v!=="div"&&(S=T.mod.neg(),w&&S.negative!==0&&S.iadd(A)),{div:_,mod:S}):this.negative===0&&A.negative!==0?(T=this.divmod(A.neg(),v),v!=="mod"&&(_=T.div.neg()),{div:_,mod:T.mod}):this.negative&A.negative?(T=this.neg().divmod(A.neg(),v),v!=="div"&&(S=T.mod.neg(),w&&S.negative!==0&&S.isub(A)),{div:T.div,mod:S}):A.length>this.length||this.cmp(A)<0?{div:new s(0),mod:this}:A.length===1?v==="div"?{div:this.divn(A.words[0]),mod:null}:v==="mod"?{div:null,mod:new s(this.modrn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new s(this.modrn(A.words[0]))}:this._wordDiv(A,v);var _,S,T},s.prototype.div=function(A){return this.divmod(A,"div",!1).div},s.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},s.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},s.prototype.divRound=function(A){var v=this.divmod(A);if(v.mod.isZero())return v.div;var w=v.div.negative!==0?v.mod.isub(A):v.mod,_=A.ushrn(1),S=A.andln(1),T=w.cmp(_);return T<0||S===1&&T===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},s.prototype.modrn=function(A){var v=A<0;v&&(A=-A),o(A<=67108863);for(var w=(1<<26)%A,_=0,S=this.length-1;S>=0;S--)_=(w*_+(0|this.words[S]))%A;return v?-_:_},s.prototype.modn=function(A){return this.modrn(A)},s.prototype.idivn=function(A){var v=A<0;v&&(A=-A),o(A<=67108863);for(var w=0,_=this.length-1;_>=0;_--){var S=(0|this.words[_])+67108864*w;this.words[_]=S/A|0,w=S%A}return this._strip(),v?this.ineg():this},s.prototype.divn=function(A){return this.clone().idivn(A)},s.prototype.egcd=function(A){o(A.negative===0),o(!A.isZero());var v=this,w=A.clone();v=v.negative!==0?v.umod(A):v.clone();for(var _=new s(1),S=new s(0),T=new s(0),N=new s(1),L=0;v.isEven()&&w.isEven();)v.iushrn(1),w.iushrn(1),++L;for(var V=w.clone(),q=v.clone();!v.isZero();){for(var Y=0,D=1;!(v.words[0]&D)&&Y<26;++Y,D<<=1);if(Y>0)for(v.iushrn(Y);Y-- >0;)(_.isOdd()||S.isOdd())&&(_.iadd(V),S.isub(q)),_.iushrn(1),S.iushrn(1);for(var X=0,P=1;!(w.words[0]&P)&&X<26;++X,P<<=1);if(X>0)for(w.iushrn(X);X-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(V),N.isub(q)),T.iushrn(1),N.iushrn(1);v.cmp(w)>=0?(v.isub(w),_.isub(T),S.isub(N)):(w.isub(v),T.isub(_),N.isub(S))}return{a:T,b:N,gcd:w.iushln(L)}},s.prototype._invmp=function(A){o(A.negative===0),o(!A.isZero());var v=this,w=A.clone();v=v.negative!==0?v.umod(A):v.clone();for(var _,S=new s(1),T=new s(0),N=w.clone();v.cmpn(1)>0&&w.cmpn(1)>0;){for(var L=0,V=1;!(v.words[0]&V)&&L<26;++L,V<<=1);if(L>0)for(v.iushrn(L);L-- >0;)S.isOdd()&&S.iadd(N),S.iushrn(1);for(var q=0,Y=1;!(w.words[0]&Y)&&q<26;++q,Y<<=1);if(q>0)for(w.iushrn(q);q-- >0;)T.isOdd()&&T.iadd(N),T.iushrn(1);v.cmp(w)>=0?(v.isub(w),S.isub(T)):(w.isub(v),T.isub(S))}return(_=v.cmpn(1)===0?S:T).cmpn(0)<0&&_.iadd(A),_},s.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var v=this.clone(),w=A.clone();v.negative=0,w.negative=0;for(var _=0;v.isEven()&&w.isEven();_++)v.iushrn(1),w.iushrn(1);for(;;){for(;v.isEven();)v.iushrn(1);for(;w.isEven();)w.iushrn(1);var S=v.cmp(w);if(S<0){var T=v;v=w,w=T}else if(S===0||w.cmpn(1)===0)break;v.isub(w)}return w.iushln(_)},s.prototype.invm=function(A){return this.egcd(A).a.umod(A)},s.prototype.isEven=function(){return(1&this.words[0])==0},s.prototype.isOdd=function(){return(1&this.words[0])==1},s.prototype.andln=function(A){return this.words[0]&A},s.prototype.bincn=function(A){o(typeof A=="number");var v=A%26,w=(A-v)/26,_=1<<v;if(this.length<=w)return this._expand(w+1),this.words[w]|=_,this;for(var S=_,T=w;S!==0&&T<this.length;T++){var N=0|this.words[T];S=(N+=S)>>>26,N&=67108863,this.words[T]=N}return S!==0&&(this.words[T]=S,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(A){var v,w=A<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;if(this._strip(),this.length>1)v=1;else{w&&(A=-A),o(A<=67108863,"Number is too big");var _=0|this.words[0];v=_===A?0:_<A?-1:1}return this.negative!==0?0|-v:v},s.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var v=this.ucmp(A);return this.negative!==0?0|-v:v},s.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var v=0,w=this.length-1;w>=0;w--){var _=0|this.words[w],S=0|A.words[w];if(_!==S){_<S?v=-1:_>S&&(v=1);break}}return v},s.prototype.gtn=function(A){return this.cmpn(A)===1},s.prototype.gt=function(A){return this.cmp(A)===1},s.prototype.gten=function(A){return this.cmpn(A)>=0},s.prototype.gte=function(A){return this.cmp(A)>=0},s.prototype.ltn=function(A){return this.cmpn(A)===-1},s.prototype.lt=function(A){return this.cmp(A)===-1},s.prototype.lten=function(A){return this.cmpn(A)<=0},s.prototype.lte=function(A){return this.cmp(A)<=0},s.prototype.eqn=function(A){return this.cmpn(A)===0},s.prototype.eq=function(A){return this.cmp(A)===0},s.red=function(A){return new C(A)},s.prototype.toRed=function(A){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},s.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(A){return this.red=A,this},s.prototype.forceRed=function(A){return o(!this.red,"Already a number in reduction context"),this._forceRed(A)},s.prototype.redAdd=function(A){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},s.prototype.redIAdd=function(A){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},s.prototype.redSub=function(A){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},s.prototype.redISub=function(A){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},s.prototype.redShl=function(A){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},s.prototype.redMul=function(A){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},s.prototype.redIMul=function(A){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},s.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(A){return o(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var B={k256:null,p224:null,p192:null,p25519:null};function j(A,v){this.name=A,this.p=new s(v,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function F(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function z(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function $(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function H(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function C(A){if(typeof A=="string"){var v=s._prime(A);this.m=v.p,this.prime=v}else o(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function O(A){C.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}j.prototype._tmp=function(){var A=new s(null);return A.words=new Array(Math.ceil(this.n/13)),A},j.prototype.ireduce=function(A){var v,w=A;do this.split(w,this.tmp),v=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength();while(v>this.n);var _=v<this.n?-1:w.ucmp(this.p);return _===0?(w.words[0]=0,w.length=1):_>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},j.prototype.split=function(A,v){A.iushrn(this.n,0,v)},j.prototype.imulK=function(A){return A.imul(this.k)},l(F,j),F.prototype.split=function(A,v){for(var w=Math.min(A.length,9),_=0;_<w;_++)v.words[_]=A.words[_];if(v.length=w,A.length<=9)return A.words[0]=0,void(A.length=1);var S=A.words[9];for(v.words[v.length++]=4194303&S,_=10;_<A.length;_++){var T=0|A.words[_];A.words[_-10]=(4194303&T)<<4|S>>>22,S=T}S>>>=22,A.words[_-10]=S,S===0&&A.length>10?A.length-=10:A.length-=9},F.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var v=0,w=0;w<A.length;w++){var _=0|A.words[w];v+=977*_,A.words[w]=67108863&v,v=64*_+(v/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},l(z,j),l($,j),l(H,j),H.prototype.imulK=function(A){for(var v=0,w=0;w<A.length;w++){var _=19*(0|A.words[w])+v,S=67108863&_;_>>>=26,A.words[w]=S,v=_}return v!==0&&(A.words[A.length++]=v),A},s._prime=function(A){if(B[A])return B[A];var v;if(A==="k256")v=new F;else if(A==="p224")v=new z;else if(A==="p192")v=new $;else{if(A!=="p25519")throw new Error("Unknown prime "+A);v=new H}return B[A]=v,v},C.prototype._verify1=function(A){o(A.negative===0,"red works only with positives"),o(A.red,"red works only with red numbers")},C.prototype._verify2=function(A,v){o((A.negative|v.negative)==0,"red works only with positives"),o(A.red&&A.red===v.red,"red works only with red numbers")},C.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):(p(A,A.umod(this.m)._forceRed(this)),A)},C.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},C.prototype.add=function(A,v){this._verify2(A,v);var w=A.add(v);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},C.prototype.iadd=function(A,v){this._verify2(A,v);var w=A.iadd(v);return w.cmp(this.m)>=0&&w.isub(this.m),w},C.prototype.sub=function(A,v){this._verify2(A,v);var w=A.sub(v);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},C.prototype.isub=function(A,v){this._verify2(A,v);var w=A.isub(v);return w.cmpn(0)<0&&w.iadd(this.m),w},C.prototype.shl=function(A,v){return this._verify1(A),this.imod(A.ushln(v))},C.prototype.imul=function(A,v){return this._verify2(A,v),this.imod(A.imul(v))},C.prototype.mul=function(A,v){return this._verify2(A,v),this.imod(A.mul(v))},C.prototype.isqr=function(A){return this.imul(A,A.clone())},C.prototype.sqr=function(A){return this.mul(A,A)},C.prototype.sqrt=function(A){if(A.isZero())return A.clone();var v=this.m.andln(3);if(o(v%2==1),v===3){var w=this.m.add(new s(1)).iushrn(2);return this.pow(A,w)}for(var _=this.m.subn(1),S=0;!_.isZero()&&_.andln(1)===0;)S++,_.iushrn(1);o(!_.isZero());var T=new s(1).toRed(this),N=T.redNeg(),L=this.m.subn(1).iushrn(1),V=this.m.bitLength();for(V=new s(2*V*V).toRed(this);this.pow(V,L).cmp(N)!==0;)V.redIAdd(N);for(var q=this.pow(V,_),Y=this.pow(A,_.addn(1).iushrn(1)),D=this.pow(A,_),X=S;D.cmp(T)!==0;){for(var P=D,R=0;P.cmp(T)!==0;R++)P=P.redSqr();o(R<X);var U=this.pow(q,new s(1).iushln(X-R-1));Y=Y.redMul(U),q=U.redSqr(),D=D.redMul(q),X=R}return Y},C.prototype.invm=function(A){var v=A._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},C.prototype.pow=function(A,v){if(v.isZero())return new s(1).toRed(this);if(v.cmpn(1)===0)return A.clone();var w=new Array(16);w[0]=new s(1).toRed(this),w[1]=A;for(var _=2;_<w.length;_++)w[_]=this.mul(w[_-1],A);var S=w[0],T=0,N=0,L=v.bitLength()%26;for(L===0&&(L=26),_=v.length-1;_>=0;_--){for(var V=v.words[_],q=L-1;q>=0;q--){var Y=V>>q&1;S!==w[0]&&(S=this.sqr(S)),Y!==0||T!==0?(T<<=1,T|=Y,(++N===4||_===0&&q===0)&&(S=this.mul(S,w[T]),N=0,T=0)):N=0}L=26}return S},C.prototype.convertTo=function(A){var v=A.umod(this.m);return v===A?v.clone():v},C.prototype.convertFrom=function(A){var v=A.clone();return v.red=null,v},s.mont=function(A){return new O(A)},l(O,C),O.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},O.prototype.convertFrom=function(A){var v=this.imod(A.mul(this.rinv));return v.red=null,v},O.prototype.imul=function(A,v){if(A.isZero()||v.isZero())return A.words[0]=0,A.length=1,A;var w=A.imul(v),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=w.isub(_).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},O.prototype.mul=function(A,v){if(A.isZero()||v.isZero())return new s(0)._forceRed(this);var w=A.mul(v),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=w.isub(_).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},O.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(r===void 0||r)},{buffer:188}],187:[function(t,r,a){var n;function i(l){this.rand=l}if(r.exports=function(l){return n||(n=new i(null)),n.generate(l)},r.exports.Rand=i,i.prototype.generate=function(l){return this._rand(l)},i.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var s=new Uint8Array(l),c=0;c<s.length;c++)s[c]=this.rand.getByte();return s},typeof self=="object")self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(l){var s=new Uint8Array(l);return self.crypto.getRandomValues(s),s}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(l){var s=new Uint8Array(l);return self.msCrypto.getRandomValues(s),s}:typeof window=="object"&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=t("crypto");if(typeof o.randomBytes!="function")throw new Error("Not supported");i.prototype._rand=function(l){return o.randomBytes(l)}}catch{}},{crypto:188}],188:[function(t,r,a){},{}],189:[function(t,r,a){var n=t("safe-buffer").Buffer;function i(h){n.isBuffer(h)||(h=n.from(h));for(var d=h.length/4|0,p=new Array(d),g=0;g<d;g++)p[g]=h.readUInt32BE(4*g);return p}function o(h){for(;0<h.length;h++)h[0]=0}function l(h,d,p,g,m){for(var b,y,x,k,M=p[0],I=p[1],B=p[2],j=p[3],F=h[0]^d[0],z=h[1]^d[1],$=h[2]^d[2],H=h[3]^d[3],C=4,O=1;O<m;O++)b=M[F>>>24]^I[z>>>16&255]^B[$>>>8&255]^j[255&H]^d[C++],y=M[z>>>24]^I[$>>>16&255]^B[H>>>8&255]^j[255&F]^d[C++],x=M[$>>>24]^I[H>>>16&255]^B[F>>>8&255]^j[255&z]^d[C++],k=M[H>>>24]^I[F>>>16&255]^B[z>>>8&255]^j[255&$]^d[C++],F=b,z=y,$=x,H=k;return b=(g[F>>>24]<<24|g[z>>>16&255]<<16|g[$>>>8&255]<<8|g[255&H])^d[C++],y=(g[z>>>24]<<24|g[$>>>16&255]<<16|g[H>>>8&255]<<8|g[255&F])^d[C++],x=(g[$>>>24]<<24|g[H>>>16&255]<<16|g[F>>>8&255]<<8|g[255&z])^d[C++],k=(g[H>>>24]<<24|g[F>>>16&255]<<16|g[z>>>8&255]<<8|g[255&$])^d[C++],[b>>>=0,y>>>=0,x>>>=0,k>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var h=new Array(256),d=0;d<256;d++)h[d]=d<128?d<<1:d<<1^283;for(var p=[],g=[],m=[[],[],[],[]],b=[[],[],[],[]],y=0,x=0,k=0;k<256;++k){var M=x^x<<1^x<<2^x<<3^x<<4;M=M>>>8^255&M^99,p[y]=M,g[M]=y;var I=h[y],B=h[I],j=h[B],F=257*h[M]^16843008*M;m[0][y]=F<<24|F>>>8,m[1][y]=F<<16|F>>>16,m[2][y]=F<<8|F>>>24,m[3][y]=F,F=16843009*j^65537*B^257*I^16843008*y,b[0][M]=F<<24|F>>>8,b[1][M]=F<<16|F>>>16,b[2][M]=F<<8|F>>>24,b[3][M]=F,y===0?y=x=1:(y=I^h[h[h[j^I]]],x^=h[h[x]])}return{SBOX:p,INV_SBOX:g,SUB_MIX:m,INV_SUB_MIX:b}}();function f(h){this._key=i(h),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var h=this._key,d=h.length,p=d+6,g=4*(p+1),m=[],b=0;b<d;b++)m[b]=h[b];for(b=d;b<g;b++){var y=m[b-1];b%d==0?(y=y<<8|y>>>24,y=c.SBOX[y>>>24]<<24|c.SBOX[y>>>16&255]<<16|c.SBOX[y>>>8&255]<<8|c.SBOX[255&y],y^=s[b/d|0]<<24):d>6&&b%d==4&&(y=c.SBOX[y>>>24]<<24|c.SBOX[y>>>16&255]<<16|c.SBOX[y>>>8&255]<<8|c.SBOX[255&y]),m[b]=m[b-d]^y}for(var x=[],k=0;k<g;k++){var M=g-k,I=m[M-(k%4?0:4)];x[k]=k<4||M<=4?I:c.INV_SUB_MIX[0][c.SBOX[I>>>24]]^c.INV_SUB_MIX[1][c.SBOX[I>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[I>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&I]]}this._nRounds=p,this._keySchedule=m,this._invKeySchedule=x},f.prototype.encryptBlockRaw=function(h){return l(h=i(h),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},f.prototype.encryptBlock=function(h){var d=this.encryptBlockRaw(h),p=n.allocUnsafe(16);return p.writeUInt32BE(d[0],0),p.writeUInt32BE(d[1],4),p.writeUInt32BE(d[2],8),p.writeUInt32BE(d[3],12),p},f.prototype.decryptBlock=function(h){var d=(h=i(h))[1];h[1]=h[3],h[3]=d;var p=l(h,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),g=n.allocUnsafe(16);return g.writeUInt32BE(p[0],0),g.writeUInt32BE(p[3],4),g.writeUInt32BE(p[2],8),g.writeUInt32BE(p[1],12),g},f.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},r.exports.AES=f},{"safe-buffer":494}],190:[function(t,r,a){var n=t("./aes"),i=t("safe-buffer").Buffer,o=t("cipher-base"),l=t("inherits"),s=t("./ghash"),c=t("buffer-xor"),f=t("./incr32");function h(d,p,g,m){o.call(this);var b=i.alloc(4,0);this._cipher=new n.AES(p);var y=this._cipher.encryptBlock(b);this._ghash=new s(y),g=function(x,k,M){if(k.length===12)return x._finID=i.concat([k,i.from([0,0,0,1])]),i.concat([k,i.from([0,0,0,2])]);var I=new s(M),B=k.length,j=B%16;I.update(k),j&&(j=16-j,I.update(i.alloc(j,0))),I.update(i.alloc(8,0));var F=8*B,z=i.alloc(8);z.writeUIntBE(F,0,8),I.update(z),x._finID=I.state;var $=i.from(x._finID);return f($),$}(this,g,y),this._prev=i.from(g),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}l(h,o),h.prototype._update=function(d){if(!this._called&&this._alen){var p=16-this._alen%16;p<16&&(p=i.alloc(p,0),this._ghash.update(p))}this._called=!0;var g=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(g),this._len+=d.length,g},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(p,g){var m=0;p.length!==g.length&&m++;for(var b=Math.min(p.length,g.length),y=0;y<b;++y)m+=p[y]^g[y];return m}(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},h.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},r.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,r,a){var n=t("./encrypter"),i=t("./decrypter"),o=t("./modes/list.json");a.createCipher=a.Cipher=n.createCipher,a.createCipheriv=a.Cipheriv=n.createCipheriv,a.createDecipher=a.Decipher=i.createDecipher,a.createDecipheriv=a.Decipheriv=i.createDecipheriv,a.listCiphers=a.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,r,a){var n=t("./authCipher"),i=t("safe-buffer").Buffer,o=t("./modes"),l=t("./streamCipher"),s=t("cipher-base"),c=t("./aes"),f=t("evp_bytestokey");function h(g,m,b){s.call(this),this._cache=new d,this._last=void 0,this._cipher=new c.AES(m),this._prev=i.from(b),this._mode=g,this._autopadding=!0}function d(){this.cache=i.allocUnsafe(0)}function p(g,m,b){var y=o[g.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof b=="string"&&(b=i.from(b)),y.mode!=="GCM"&&b.length!==y.iv)throw new TypeError("invalid iv length "+b.length);if(typeof m=="string"&&(m=i.from(m)),m.length!==y.key/8)throw new TypeError("invalid key length "+m.length);return y.type==="stream"?new l(y.module,m,b,!0):y.type==="auth"?new n(y.module,m,b,!0):new h(y.module,m,b)}t("inherits")(h,s),h.prototype._update=function(g){var m,b;this._cache.add(g);for(var y=[];m=this._cache.get(this._autopadding);)b=this._mode.decrypt(this,m),y.push(b);return i.concat(y)},h.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return function(m){var b=m[15];if(b<1||b>16)throw new Error("unable to decrypt data");for(var y=-1;++y<b;)if(m[y+(16-b)]!==b)throw new Error("unable to decrypt data");if(b!==16)return m.slice(0,16-b)}(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},d.prototype.add=function(g){this.cache=i.concat([this.cache,g])},d.prototype.get=function(g){var m;if(g){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},a.createDecipher=function(g,m){var b=o[g.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var y=f(m,!1,b.key,b.iv);return p(g,y.key,y.iv)},a.createDecipheriv=p},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,r,a){var n=t("./modes"),i=t("./authCipher"),o=t("safe-buffer").Buffer,l=t("./streamCipher"),s=t("cipher-base"),c=t("./aes"),f=t("evp_bytestokey");function h(m,b,y){s.call(this),this._cache=new p,this._cipher=new c.AES(b),this._prev=o.from(y),this._mode=m,this._autopadding=!0}t("inherits")(h,s),h.prototype._update=function(m){var b,y;this._cache.add(m);for(var x=[];b=this._cache.get();)y=this._mode.encrypt(this,b),x.push(y);return o.concat(x)};var d=o.alloc(16,16);function p(){this.cache=o.allocUnsafe(0)}function g(m,b,y){var x=n[m.toLowerCase()];if(!x)throw new TypeError("invalid suite type");if(typeof b=="string"&&(b=o.from(b)),b.length!==x.key/8)throw new TypeError("invalid key length "+b.length);if(typeof y=="string"&&(y=o.from(y)),x.mode!=="GCM"&&y.length!==x.iv)throw new TypeError("invalid iv length "+y.length);return x.type==="stream"?new l(x.module,b,y):x.type==="auth"?new i(x.module,b,y):new h(x.module,b,y)}h.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},p.prototype.add=function(m){this.cache=o.concat([this.cache,m])},p.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},p.prototype.flush=function(){for(var m=16-this.cache.length,b=o.allocUnsafe(m),y=-1;++y<m;)b.writeUInt8(m,y);return o.concat([this.cache,b])},a.createCipheriv=g,a.createCipher=function(m,b){var y=n[m.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var x=f(b,!1,y.key,y.iv);return g(m,x.key,x.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,r,a){var n=t("safe-buffer").Buffer,i=n.alloc(16,0);function o(s){var c=n.allocUnsafe(16);return c.writeUInt32BE(s[0]>>>0,0),c.writeUInt32BE(s[1]>>>0,4),c.writeUInt32BE(s[2]>>>0,8),c.writeUInt32BE(s[3]>>>0,12),c}function l(s){this.h=s,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}l.prototype.ghash=function(s){for(var c=-1;++c<s.length;)this.state[c]^=s[c];this._multiply()},l.prototype._multiply=function(){for(var s,c,f,h=[(s=this.h).readUInt32BE(0),s.readUInt32BE(4),s.readUInt32BE(8),s.readUInt32BE(12)],d=[0,0,0,0],p=-1;++p<128;){for(this.state[~~(p/8)]&1<<7-p%8&&(d[0]^=h[0],d[1]^=h[1],d[2]^=h[2],d[3]^=h[3]),f=(1&h[3])!=0,c=3;c>0;c--)h[c]=h[c]>>>1|(1&h[c-1])<<31;h[0]=h[0]>>>1,f&&(h[0]=h[0]^225<<24)}this.state=o(d)},l.prototype.update=function(s){var c;for(this.cache=n.concat([this.cache,s]);this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},l.prototype.final=function(s,c){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(o([0,s,0,c])),this.state},r.exports=l},{"safe-buffer":494}],195:[function(t,r,a){r.exports=function(n){for(var i,o=n.length;o--;){if((i=n.readUInt8(o))!==255){i++,n.writeUInt8(i,o);break}n.writeUInt8(0,o)}}},{}],196:[function(t,r,a){var n=t("buffer-xor");a.encrypt=function(i,o){var l=n(o,i._prev);return i._prev=i._cipher.encryptBlock(l),i._prev},a.decrypt=function(i,o){var l=i._prev;i._prev=o;var s=i._cipher.decryptBlock(o);return n(s,l)}},{"buffer-xor":219}],197:[function(t,r,a){var n=t("safe-buffer").Buffer,i=t("buffer-xor");function o(l,s,c){var f=s.length,h=i(s,l._cache);return l._cache=l._cache.slice(f),l._prev=n.concat([l._prev,c?s:h]),h}a.encrypt=function(l,s,c){for(var f,h=n.allocUnsafe(0);s.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=n.allocUnsafe(0)),!(l._cache.length<=s.length)){h=n.concat([h,o(l,s,c)]);break}f=l._cache.length,h=n.concat([h,o(l,s.slice(0,f),c)]),s=s.slice(f)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,r,a){var n=t("safe-buffer").Buffer;function i(l,s,c){for(var f,h,d=-1,p=0;++d<8;)f=s&1<<7-d?128:0,p+=(128&(h=l._cipher.encryptBlock(l._prev)[0]^f))>>d%8,l._prev=o(l._prev,c?f:h);return p}function o(l,s){var c=l.length,f=-1,h=n.allocUnsafe(l.length);for(l=n.concat([l,n.from([s])]);++f<c;)h[f]=l[f]<<1|l[f+1]>>7;return h}a.encrypt=function(l,s,c){for(var f=s.length,h=n.allocUnsafe(f),d=-1;++d<f;)h[d]=i(l,s[d],c);return h}},{"safe-buffer":494}],199:[function(t,r,a){var n=t("safe-buffer").Buffer;function i(o,l,s){var c=o._cipher.encryptBlock(o._prev)[0]^l;return o._prev=n.concat([o._prev.slice(1),n.from([s?l:c])]),c}a.encrypt=function(o,l,s){for(var c=l.length,f=n.allocUnsafe(c),h=-1;++h<c;)f[h]=i(o,l[h],s);return f}},{"safe-buffer":494}],200:[function(t,r,a){var n=t("buffer-xor"),i=t("safe-buffer").Buffer,o=t("../incr32");function l(s){var c=s._cipher.encryptBlockRaw(s._prev);return o(s._prev),c}a.encrypt=function(s,c){var f=Math.ceil(c.length/16),h=s._cache.length;s._cache=i.concat([s._cache,i.allocUnsafe(16*f)]);for(var d=0;d<f;d++){var p=l(s),g=h+16*d;s._cache.writeUInt32BE(p[0],g+0),s._cache.writeUInt32BE(p[1],g+4),s._cache.writeUInt32BE(p[2],g+8),s._cache.writeUInt32BE(p[3],g+12)}var m=s._cache.slice(0,c.length);return s._cache=s._cache.slice(c.length),n(c,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,r,a){a.encrypt=function(n,i){return n._cipher.encryptBlock(i)},a.decrypt=function(n,i){return n._cipher.decryptBlock(i)}},{}],202:[function(t,r,a){var n={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},i=t("./list.json");for(var o in i)i[o].module=n[i[o].mode];r.exports=i},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,r,a){r.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,r,a){(function(n){(function(){var i=t("buffer-xor");function o(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}a.encrypt=function(l,s){for(;l._cache.length<s.length;)l._cache=n.concat([l._cache,o(l)]);var c=l._cache.slice(0,s.length);return l._cache=l._cache.slice(s.length),i(s,c)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,r,a){var n=t("./aes"),i=t("safe-buffer").Buffer,o=t("cipher-base");function l(s,c,f,h){o.call(this),this._cipher=new n.AES(c),this._prev=i.from(f),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=h,this._mode=s}t("inherits")(l,o),l.prototype._update=function(s){return this._mode.encrypt(this,s,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},r.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,r,a){var n=t("browserify-des"),i=t("browserify-aes/browser"),o=t("browserify-aes/modes"),l=t("browserify-des/modes"),s=t("evp_bytestokey");function c(h,d,p){if(h=h.toLowerCase(),o[h])return i.createCipheriv(h,d,p);if(l[h])return new n({key:d,iv:p,mode:h});throw new TypeError("invalid suite type")}function f(h,d,p){if(h=h.toLowerCase(),o[h])return i.createDecipheriv(h,d,p);if(l[h])return new n({key:d,iv:p,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}a.createCipher=a.Cipher=function(h,d){var p,g;if(h=h.toLowerCase(),o[h])p=o[h].key,g=o[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");p=8*l[h].key,g=l[h].iv}var m=s(d,!1,p,g);return c(h,m.key,m.iv)},a.createCipheriv=a.Cipheriv=c,a.createDecipher=a.Decipher=function(h,d){var p,g;if(h=h.toLowerCase(),o[h])p=o[h].key,g=o[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");p=8*l[h].key,g=l[h].iv}var m=s(d,!1,p,g);return f(h,m.key,m.iv)},a.createDecipheriv=a.Decipheriv=f,a.listCiphers=a.getCiphers=function(){return Object.keys(l).concat(i.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,r,a){var n=t("cipher-base"),i=t("des.js"),o=t("inherits"),l=t("safe-buffer").Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(f){n.call(this);var h,d=f.mode.toLowerCase(),p=s[d];h=f.decrypt?"decrypt":"encrypt";var g=f.key;l.isBuffer(g)||(g=l.from(g)),d!=="des-ede"&&d!=="des-ede-cbc"||(g=l.concat([g,g.slice(0,8)]));var m=f.iv;l.isBuffer(m)||(m=l.from(m)),this._des=p.create({key:g,iv:m,type:h})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],r.exports=c,o(c,n),c.prototype._update=function(f){return l.from(this._des.update(f))},c.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,r,a){a["des-ecb"]={key:8,iv:0},a["des-cbc"]=a.des={key:8,iv:8},a["des-ede3-cbc"]=a.des3={key:24,iv:8},a["des-ede3"]={key:24,iv:0},a["des-ede-cbc"]={key:16,iv:8},a["des-ede"]={key:16,iv:0}},{}],209:[function(t,r,a){(function(n){(function(){var i=t("bn.js"),o=t("randombytes");function l(c){var f,h=c.modulus.byteLength();do f=new i(o(h));while(f.cmp(c.modulus)>=0||!f.umod(c.prime1)||!f.umod(c.prime2));return f}function s(c,f){var h=function(B){var j=l(B);return{blinder:j.toRed(i.mont(B.modulus)).redPow(new i(B.publicExponent)).fromRed(),unblinder:j.invm(B.modulus)}}(f),d=f.modulus.byteLength(),p=new i(c).mul(h.blinder).umod(f.modulus),g=p.toRed(i.mont(f.prime1)),m=p.toRed(i.mont(f.prime2)),b=f.coefficient,y=f.prime1,x=f.prime2,k=g.redPow(f.exponent1).fromRed(),M=m.redPow(f.exponent2).fromRed(),I=k.isub(M).imul(b).umod(y).imul(x);return M.iadd(I).imul(h.unblinder).umod(f.modulus).toArrayLike(n,"be",d)}s.getr=l,r.exports=s}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,r,a){r.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,r,a){r.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,r,a){r.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,r,a){var n=t("safe-buffer").Buffer,i=t("create-hash"),o=t("readable-stream"),l=t("inherits"),s=t("./sign"),c=t("./verify"),f=t("./algorithms.json");function h(m){o.Writable.call(this);var b=f[m];if(!b)throw new Error("Unknown message digest");this._hashType=b.hash,this._hash=i(b.hash),this._tag=b.id,this._signType=b.sign}function d(m){o.Writable.call(this);var b=f[m];if(!b)throw new Error("Unknown message digest");this._hash=i(b.hash),this._tag=b.id,this._signType=b.sign}function p(m){return new h(m)}function g(m){return new d(m)}Object.keys(f).forEach(function(m){f[m].id=n.from(f[m].id,"hex"),f[m.toLowerCase()]=f[m]}),l(h,o.Writable),h.prototype._write=function(m,b,y){this._hash.update(m),y()},h.prototype.update=function(m,b){return typeof m=="string"&&(m=n.from(m,b)),this._hash.update(m),this},h.prototype.sign=function(m,b){this.end();var y=this._hash.digest(),x=s(y,m,this._hashType,this._signType,this._tag);return b?x.toString(b):x},l(d,o.Writable),d.prototype._write=function(m,b,y){this._hash.update(m),y()},d.prototype.update=function(m,b){return typeof m=="string"&&(m=n.from(m,b)),this._hash.update(m),this},d.prototype.verify=function(m,b,y){typeof b=="string"&&(b=n.from(b,y)),this.end();var x=this._hash.digest();return c(b,x,m,this._signType,this._tag)},r.exports={Sign:p,Verify:g,createSign:p,createVerify:g}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,r,a){var n=t("safe-buffer").Buffer,i=t("create-hmac"),o=t("browserify-rsa"),l=t("elliptic").ec,s=t("bn.js"),c=t("parse-asn1"),f=t("./curves.json");function h(m,b,y,x){if((m=n.from(m.toArray())).length<b.byteLength()){var k=n.alloc(b.byteLength()-m.length);m=n.concat([k,m])}var M=y.length,I=function(F,z){F=(F=d(F,z)).mod(z);var $=n.from(F.toArray());if($.length<z.byteLength()){var H=n.alloc(z.byteLength()-$.length);$=n.concat([H,$])}return $}(y,b),B=n.alloc(M);B.fill(1);var j=n.alloc(M);return j=i(x,j).update(B).update(n.from([0])).update(m).update(I).digest(),B=i(x,j).update(B).digest(),{k:j=i(x,j).update(B).update(n.from([1])).update(m).update(I).digest(),v:B=i(x,j).update(B).digest()}}function d(m,b){var y=new s(m),x=(m.length<<3)-b.bitLength();return x>0&&y.ishrn(x),y}function p(m,b,y){var x,k;do{for(x=n.alloc(0);8*x.length<m.bitLength();)b.v=i(y,b.k).update(b.v).digest(),x=n.concat([x,b.v]);k=d(x,m),b.k=i(y,b.k).update(b.v).update(n.from([0])).digest(),b.v=i(y,b.k).update(b.v).digest()}while(k.cmp(m)!==-1);return k}function g(m,b,y,x){return m.toRed(s.mont(y)).redPow(b).fromRed().mod(x)}r.exports=function(m,b,y,x,k){var M=c(b);if(M.curve){if(x!=="ecdsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");return function(F,z){var $=f[z.curve.join(".")];if(!$)throw new Error("unknown curve "+z.curve.join("."));var H=new l($).keyFromPrivate(z.privateKey).sign(F);return n.from(H.toDER())}(m,M)}if(M.type==="dsa"){if(x!=="dsa")throw new Error("wrong private key type");return function(F,z,$){for(var H,C=z.params.priv_key,O=z.params.p,A=z.params.q,v=z.params.g,w=new s(0),_=d(F,A).mod(A),S=!1,T=h(C,A,F,$);S===!1;)H=p(A,T,$),w=g(v,H,O,A),(S=H.invm(A).imul(_.add(C.mul(w))).mod(A)).cmpn(0)===0&&(S=!1,w=new s(0));return function(N,L){N=N.toArray(),L=L.toArray(),128&N[0]&&(N=[0].concat(N)),128&L[0]&&(L=[0].concat(L));var V=[48,N.length+L.length+4,2,N.length];return V=V.concat(N,[2,L.length],L),n.from(V)}(w,S)}(m,M,y)}if(x!=="rsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");m=n.concat([k,m]);for(var I=M.modulus.byteLength(),B=[0,1];m.length+B.length+1<I;)B.push(255);B.push(0);for(var j=-1;++j<m.length;)B.push(m[j]);return o(B,M)},r.exports.getKey=h,r.exports.makeKey=p},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,r,a){var n=t("safe-buffer").Buffer,i=t("bn.js"),o=t("elliptic").ec,l=t("parse-asn1"),s=t("./curves.json");function c(f,h){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(h)>=h)throw new Error("invalid sig")}r.exports=function(f,h,d,p,g){var m=l(d);if(m.type==="ec"){if(p!=="ecdsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");return function(B,j,F){var z=s[F.data.algorithm.curve.join(".")];if(!z)throw new Error("unknown curve "+F.data.algorithm.curve.join("."));var $=new o(z),H=F.data.subjectPrivateKey.data;return $.verify(j,B,H)}(f,h,m)}if(m.type==="dsa"){if(p!=="dsa")throw new Error("wrong public key type");return function(B,j,F){var z=F.data.p,$=F.data.q,H=F.data.g,C=F.data.pub_key,O=l.signature.decode(B,"der"),A=O.s,v=O.r;c(A,$),c(v,$);var w=i.mont(z),_=A.invm($);return H.toRed(w).redPow(new i(j).mul(_).mod($)).fromRed().mul(C.toRed(w).redPow(v.mul(_).mod($)).fromRed()).mod(z).mod($).cmp(v)===0}(f,h,m)}if(p!=="rsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");h=n.concat([g,h]);for(var b=m.modulus.byteLength(),y=[1],x=0;h.length+y.length+2<b;)y.push(255),x++;y.push(0);for(var k=-1;++k<h.length;)y.push(h[k]);y=n.from(y);var M=i.mont(m.modulus);f=(f=new i(f).toRed(M)).redPow(new i(m.publicExponent)),f=n.from(f.fromRed().toArray());var I=x<8?1:0;for(b=Math.min(f.length,y.length),f.length!==y.length&&(I=1),k=-1;++k<b;)I|=f[k]^y[k];return I===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,r,a){},{}],217:[function(t,r,a){var n=t("buffer"),i=n.Buffer;function o(s,c){for(var f in s)c[f]=s[f]}function l(s,c,f){return i(s,c,f)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=n:(o(n,a),a.Buffer=l),o(i,l),l.from=function(s,c,f){if(typeof s=="number")throw new TypeError("Argument must not be a number");return i(s,c,f)},l.alloc=function(s,c,f){if(typeof s!="number")throw new TypeError("Argument must be a number");var h=i(s);return c!==void 0?typeof f=="string"?h.fill(c,f):h.fill(c):h.fill(0),h},l.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return i(s)},l.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}},{buffer:220}],218:[function(t,r,a){var n=t("safe-buffer").Buffer,i=n.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(m){var b;switch(this.encoding=function(y){var x=function(k){if(!k)return"utf8";for(var M;;)switch(k){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return k;default:if(M)return;k=(""+k).toLowerCase(),M=!0}}(y);if(typeof x!="string"&&(n.isEncoding===i||!i(y)))throw new Error("Unknown encoding: "+y);return x||y}(m),this.encoding){case"utf16le":this.text=c,this.end=f,b=4;break;case"utf8":this.fillLast=s,b=4;break;case"base64":this.text=h,this.end=d,b=3;break;default:return this.write=p,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(b)}function l(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function s(m){var b=this.lastTotal-this.lastNeed,y=function(x,k,M){if((192&k[0])!=128)return x.lastNeed=0,"";if(x.lastNeed>1&&k.length>1){if((192&k[1])!=128)return x.lastNeed=1,"";if(x.lastNeed>2&&k.length>2&&(192&k[2])!=128)return x.lastNeed=2,""}}(this,m);return y!==void 0?y:this.lastNeed<=m.length?(m.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,b,0,m.length),void(this.lastNeed-=m.length))}function c(m,b){if((m.length-b)%2==0){var y=m.toString("utf16le",b);if(y){var x=y.charCodeAt(y.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",b,m.length-1)}function f(m){var b=m&&m.length?this.write(m):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,y)}return b}function h(m,b){var y=(m.length-b)%3;return y===0?m.toString("base64",b):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",b,m.length-y))}function d(m){var b=m&&m.length?this.write(m):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function p(m){return m.toString(this.encoding)}function g(m){return m&&m.length?this.write(m):""}a.StringDecoder=o,o.prototype.write=function(m){if(m.length===0)return"";var b,y;if(this.lastNeed){if((b=this.fillLast(m))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<m.length?b?b+this.text(m,y):this.text(m,y):b||""},o.prototype.end=function(m){var b=m&&m.length?this.write(m):"";return this.lastNeed?b+"":b},o.prototype.text=function(m,b){var y=function(k,M,I){var B=M.length-1;if(B<I)return 0;var j=l(M[B]);return j>=0?(j>0&&(k.lastNeed=j-1),j):--B<I||j===-2?0:(j=l(M[B]))>=0?(j>0&&(k.lastNeed=j-2),j):--B<I||j===-2?0:(j=l(M[B]))>=0?(j>0&&(j===2?j=0:k.lastNeed=j-3),j):0}(this,m,b);if(!this.lastNeed)return m.toString("utf8",b);this.lastTotal=y;var x=m.length-(y-this.lastNeed);return m.copy(this.lastChar,0,x),m.toString("utf8",b,x)},o.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(t,r,a){(function(n){(function(){r.exports=function(i,o){for(var l=Math.min(i.length,o.length),s=new n(l),c=0;c<l;++c)s[c]=i[c]^o[c];return s}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,r,a){(function(n){(function(){var i=t("base64-js"),o=t("ieee754");a.Buffer=s,a.SlowBuffer=function(P){return+P!=P&&(P=0),s.alloc(+P)},a.INSPECT_MAX_BYTES=50;function l(P){if(P>2147483647)throw new RangeError('The value "'+P+'" is invalid for option "size"');var R=new Uint8Array(P);return R.__proto__=s.prototype,R}function s(P,R,U){if(typeof P=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(P)}return c(P,R,U)}function c(P,R,U){if(typeof P=="string")return function(W,G){if(typeof G=="string"&&G!==""||(G="utf8"),!s.isEncoding(G))throw new TypeError("Unknown encoding: "+G);var et=0|g(W,G),it=l(et),K=it.write(W,G);return K!==et&&(it=it.slice(0,K)),it}(P,R);if(ArrayBuffer.isView(P))return d(P);if(P==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(D(P,ArrayBuffer)||P&&D(P.buffer,ArrayBuffer))return function(W,G,et){if(G<0||W.byteLength<G)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<G+(et||0))throw new RangeError('"length" is outside of buffer bounds');var it;return it=G===void 0&&et===void 0?new Uint8Array(W):et===void 0?new Uint8Array(W,G):new Uint8Array(W,G,et),it.__proto__=s.prototype,it}(P,R,U);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Z=P.valueOf&&P.valueOf();if(Z!=null&&Z!==P)return s.from(Z,R,U);var st=function(W){if(s.isBuffer(W)){var G=0|p(W.length),et=l(G);return et.length===0||W.copy(et,0,0,G),et}if(W.length!==void 0)return typeof W.length!="number"||X(W.length)?l(0):d(W);if(W.type==="Buffer"&&Array.isArray(W.data))return d(W.data)}(P);if(st)return st;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return s.from(P[Symbol.toPrimitive]("string"),R,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}function f(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function h(P){return f(P),l(P<0?0:0|p(P))}function d(P){for(var R=P.length<0?0:0|p(P.length),U=l(R),Z=0;Z<R;Z+=1)U[Z]=255&P[Z];return U}function p(P){if(P>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|P}function g(P,R){if(s.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||D(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);var U=P.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&U===0)return 0;for(var st=!1;;)switch(R){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return V(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*U;case"hex":return U>>>1;case"base64":return q(P).length;default:if(st)return Z?-1:V(P).length;R=(""+R).toLowerCase(),st=!0}}function m(P,R,U){var Z=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0)<=(R>>>=0))return"";for(P||(P="utf8");;)switch(P){case"hex":return O(this,R,U);case"utf8":case"utf-8":return $(this,R,U);case"ascii":return H(this,R,U);case"latin1":case"binary":return C(this,R,U);case"base64":return z(this,R,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,R,U);default:if(Z)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),Z=!0}}function b(P,R,U){var Z=P[R];P[R]=P[U],P[U]=Z}function y(P,R,U,Z,st){if(P.length===0)return-1;if(typeof U=="string"?(Z=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),X(U=+U)&&(U=st?0:P.length-1),U<0&&(U=P.length+U),U>=P.length){if(st)return-1;U=P.length-1}else if(U<0){if(!st)return-1;U=0}if(typeof R=="string"&&(R=s.from(R,Z)),s.isBuffer(R))return R.length===0?-1:x(P,R,U,Z,st);if(typeof R=="number")return R&=255,typeof Uint8Array.prototype.indexOf=="function"?st?Uint8Array.prototype.indexOf.call(P,R,U):Uint8Array.prototype.lastIndexOf.call(P,R,U):x(P,[R],U,Z,st);throw new TypeError("val must be string, number or Buffer")}function x(P,R,U,Z,st){var W,G=1,et=P.length,it=R.length;if(Z!==void 0&&((Z=String(Z).toLowerCase())==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(P.length<2||R.length<2)return-1;G=2,et/=2,it/=2,U/=2}function K(ot,lt){return G===1?ot[lt]:ot.readUInt16BE(lt*G)}if(st){var rt=-1;for(W=U;W<et;W++)if(K(P,W)===K(R,rt===-1?0:W-rt)){if(rt===-1&&(rt=W),W-rt+1===it)return rt*G}else rt!==-1&&(W-=W-rt),rt=-1}else for(U+it>et&&(U=et-it),W=U;W>=0;W--){for(var nt=!0,ct=0;ct<it;ct++)if(K(P,W+ct)!==K(R,ct)){nt=!1;break}if(nt)return W}return-1}function k(P,R,U,Z){U=Number(U)||0;var st=P.length-U;Z?(Z=Number(Z))>st&&(Z=st):Z=st;var W=R.length;Z>W/2&&(Z=W/2);for(var G=0;G<Z;++G){var et=parseInt(R.substr(2*G,2),16);if(X(et))return G;P[U+G]=et}return G}function M(P,R,U,Z){return Y(V(R,P.length-U),P,U,Z)}function I(P,R,U,Z){return Y(function(st){for(var W=[],G=0;G<st.length;++G)W.push(255&st.charCodeAt(G));return W}(R),P,U,Z)}function B(P,R,U,Z){return I(P,R,U,Z)}function j(P,R,U,Z){return Y(q(R),P,U,Z)}function F(P,R,U,Z){return Y(function(st,W){for(var G,et,it,K=[],rt=0;rt<st.length&&!((W-=2)<0);++rt)G=st.charCodeAt(rt),et=G>>8,it=G%256,K.push(it),K.push(et);return K}(R,P.length-U),P,U,Z)}function z(P,R,U){return R===0&&U===P.length?i.fromByteArray(P):i.fromByteArray(P.slice(R,U))}function $(P,R,U){U=Math.min(P.length,U);for(var Z=[],st=R;st<U;){var W,G,et,it,K=P[st],rt=null,nt=K>239?4:K>223?3:K>191?2:1;if(st+nt<=U)switch(nt){case 1:K<128&&(rt=K);break;case 2:(192&(W=P[st+1]))==128&&(it=(31&K)<<6|63&W)>127&&(rt=it);break;case 3:W=P[st+1],G=P[st+2],(192&W)==128&&(192&G)==128&&(it=(15&K)<<12|(63&W)<<6|63&G)>2047&&(it<55296||it>57343)&&(rt=it);break;case 4:W=P[st+1],G=P[st+2],et=P[st+3],(192&W)==128&&(192&G)==128&&(192&et)==128&&(it=(15&K)<<18|(63&W)<<12|(63&G)<<6|63&et)>65535&&it<1114112&&(rt=it)}rt===null?(rt=65533,nt=1):rt>65535&&(rt-=65536,Z.push(rt>>>10&1023|55296),rt=56320|1023&rt),Z.push(rt),st+=nt}return function(ct){var ot=ct.length;if(ot<=4096)return String.fromCharCode.apply(String,ct);for(var lt="",ut=0;ut<ot;)lt+=String.fromCharCode.apply(String,ct.slice(ut,ut+=4096));return lt}(Z)}a.kMaxLength=2147483647,s.TYPED_ARRAY_SUPPORT=function(){try{var P=new Uint8Array(1);return P.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},P.foo()===42}catch{return!1}}(),s.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(P,R,U){return c(P,R,U)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(P,R,U){return function(Z,st,W){return f(Z),Z<=0?l(Z):st!==void 0?typeof W=="string"?l(Z).fill(st,W):l(Z).fill(st):l(Z)}(P,R,U)},s.allocUnsafe=function(P){return h(P)},s.allocUnsafeSlow=function(P){return h(P)},s.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==s.prototype},s.compare=function(P,R){if(D(P,Uint8Array)&&(P=s.from(P,P.offset,P.byteLength)),D(R,Uint8Array)&&(R=s.from(R,R.offset,R.byteLength)),!s.isBuffer(P)||!s.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===R)return 0;for(var U=P.length,Z=R.length,st=0,W=Math.min(U,Z);st<W;++st)if(P[st]!==R[st]){U=P[st],Z=R[st];break}return U<Z?-1:Z<U?1:0},s.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(P,R){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return s.alloc(0);var U;if(R===void 0)for(R=0,U=0;U<P.length;++U)R+=P[U].length;var Z=s.allocUnsafe(R),st=0;for(U=0;U<P.length;++U){var W=P[U];if(D(W,Uint8Array)&&(W=s.from(W)),!s.isBuffer(W))throw new TypeError('"list" argument must be an Array of Buffers');W.copy(Z,st),st+=W.length}return Z},s.byteLength=g,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var P=this.length;if(P%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<P;R+=2)b(this,R,R+1);return this},s.prototype.swap32=function(){var P=this.length;if(P%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<P;R+=4)b(this,R,R+3),b(this,R+1,R+2);return this},s.prototype.swap64=function(){var P=this.length;if(P%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<P;R+=8)b(this,R,R+7),b(this,R+1,R+6),b(this,R+2,R+5),b(this,R+3,R+4);return this},s.prototype.toString=function(){var P=this.length;return P===0?"":arguments.length===0?$(this,0,P):m.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(P){if(!s.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P||s.compare(this,P)===0},s.prototype.inspect=function(){var P="",R=a.INSPECT_MAX_BYTES;return P=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(P+=" ... "),"<Buffer "+P+">"},s.prototype.compare=function(P,R,U,Z,st){if(D(P,Uint8Array)&&(P=s.from(P,P.offset,P.byteLength)),!s.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(R===void 0&&(R=0),U===void 0&&(U=P?P.length:0),Z===void 0&&(Z=0),st===void 0&&(st=this.length),R<0||U>P.length||Z<0||st>this.length)throw new RangeError("out of range index");if(Z>=st&&R>=U)return 0;if(Z>=st)return-1;if(R>=U)return 1;if(this===P)return 0;for(var W=(st>>>=0)-(Z>>>=0),G=(U>>>=0)-(R>>>=0),et=Math.min(W,G),it=this.slice(Z,st),K=P.slice(R,U),rt=0;rt<et;++rt)if(it[rt]!==K[rt]){W=it[rt],G=K[rt];break}return W<G?-1:G<W?1:0},s.prototype.includes=function(P,R,U){return this.indexOf(P,R,U)!==-1},s.prototype.indexOf=function(P,R,U){return y(this,P,R,U,!0)},s.prototype.lastIndexOf=function(P,R,U){return y(this,P,R,U,!1)},s.prototype.write=function(P,R,U,Z){if(R===void 0)Z="utf8",U=this.length,R=0;else if(U===void 0&&typeof R=="string")Z=R,U=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(U)?(U>>>=0,Z===void 0&&(Z="utf8")):(Z=U,U=void 0)}var st=this.length-R;if((U===void 0||U>st)&&(U=st),P.length>0&&(U<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var W=!1;;)switch(Z){case"hex":return k(this,P,R,U);case"utf8":case"utf-8":return M(this,P,R,U);case"ascii":return I(this,P,R,U);case"latin1":case"binary":return B(this,P,R,U);case"base64":return j(this,P,R,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,P,R,U);default:if(W)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),W=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(P,R,U){var Z="";U=Math.min(P.length,U);for(var st=R;st<U;++st)Z+=String.fromCharCode(127&P[st]);return Z}function C(P,R,U){var Z="";U=Math.min(P.length,U);for(var st=R;st<U;++st)Z+=String.fromCharCode(P[st]);return Z}function O(P,R,U){var Z=P.length;(!R||R<0)&&(R=0),(!U||U<0||U>Z)&&(U=Z);for(var st="",W=R;W<U;++W)st+=L(P[W]);return st}function A(P,R,U){for(var Z=P.slice(R,U),st="",W=0;W<Z.length;W+=2)st+=String.fromCharCode(Z[W]+256*Z[W+1]);return st}function v(P,R,U){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(P+R>U)throw new RangeError("Trying to access beyond buffer length")}function w(P,R,U,Z,st,W){if(!s.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>st||R<W)throw new RangeError('"value" argument is out of bounds');if(U+Z>P.length)throw new RangeError("Index out of range")}function _(P,R,U,Z,st,W){if(U+Z>P.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function S(P,R,U,Z,st){return R=+R,U>>>=0,st||_(P,0,U,4),o.write(P,R,U,Z,23,4),U+4}function T(P,R,U,Z,st){return R=+R,U>>>=0,st||_(P,0,U,8),o.write(P,R,U,Z,52,8),U+8}s.prototype.slice=function(P,R){var U=this.length;(P=~~P)<0?(P+=U)<0&&(P=0):P>U&&(P=U),(R=R===void 0?U:~~R)<0?(R+=U)<0&&(R=0):R>U&&(R=U),R<P&&(R=P);var Z=this.subarray(P,R);return Z.__proto__=s.prototype,Z},s.prototype.readUIntLE=function(P,R,U){P>>>=0,R>>>=0,U||v(P,R,this.length);for(var Z=this[P],st=1,W=0;++W<R&&(st*=256);)Z+=this[P+W]*st;return Z},s.prototype.readUIntBE=function(P,R,U){P>>>=0,R>>>=0,U||v(P,R,this.length);for(var Z=this[P+--R],st=1;R>0&&(st*=256);)Z+=this[P+--R]*st;return Z},s.prototype.readUInt8=function(P,R){return P>>>=0,R||v(P,1,this.length),this[P]},s.prototype.readUInt16LE=function(P,R){return P>>>=0,R||v(P,2,this.length),this[P]|this[P+1]<<8},s.prototype.readUInt16BE=function(P,R){return P>>>=0,R||v(P,2,this.length),this[P]<<8|this[P+1]},s.prototype.readUInt32LE=function(P,R){return P>>>=0,R||v(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]},s.prototype.readUInt32BE=function(P,R){return P>>>=0,R||v(P,4,this.length),16777216*this[P]+(this[P+1]<<16|this[P+2]<<8|this[P+3])},s.prototype.readIntLE=function(P,R,U){P>>>=0,R>>>=0,U||v(P,R,this.length);for(var Z=this[P],st=1,W=0;++W<R&&(st*=256);)Z+=this[P+W]*st;return Z>=(st*=128)&&(Z-=Math.pow(2,8*R)),Z},s.prototype.readIntBE=function(P,R,U){P>>>=0,R>>>=0,U||v(P,R,this.length);for(var Z=R,st=1,W=this[P+--Z];Z>0&&(st*=256);)W+=this[P+--Z]*st;return W>=(st*=128)&&(W-=Math.pow(2,8*R)),W},s.prototype.readInt8=function(P,R){return P>>>=0,R||v(P,1,this.length),128&this[P]?-1*(255-this[P]+1):this[P]},s.prototype.readInt16LE=function(P,R){P>>>=0,R||v(P,2,this.length);var U=this[P]|this[P+1]<<8;return 32768&U?4294901760|U:U},s.prototype.readInt16BE=function(P,R){P>>>=0,R||v(P,2,this.length);var U=this[P+1]|this[P]<<8;return 32768&U?4294901760|U:U},s.prototype.readInt32LE=function(P,R){return P>>>=0,R||v(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},s.prototype.readInt32BE=function(P,R){return P>>>=0,R||v(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},s.prototype.readFloatLE=function(P,R){return P>>>=0,R||v(P,4,this.length),o.read(this,P,!0,23,4)},s.prototype.readFloatBE=function(P,R){return P>>>=0,R||v(P,4,this.length),o.read(this,P,!1,23,4)},s.prototype.readDoubleLE=function(P,R){return P>>>=0,R||v(P,8,this.length),o.read(this,P,!0,52,8)},s.prototype.readDoubleBE=function(P,R){return P>>>=0,R||v(P,8,this.length),o.read(this,P,!1,52,8)},s.prototype.writeUIntLE=function(P,R,U,Z){P=+P,R>>>=0,U>>>=0,Z||w(this,P,R,U,Math.pow(2,8*U)-1,0);var st=1,W=0;for(this[R]=255&P;++W<U&&(st*=256);)this[R+W]=P/st&255;return R+U},s.prototype.writeUIntBE=function(P,R,U,Z){P=+P,R>>>=0,U>>>=0,Z||w(this,P,R,U,Math.pow(2,8*U)-1,0);var st=U-1,W=1;for(this[R+st]=255&P;--st>=0&&(W*=256);)this[R+st]=P/W&255;return R+U},s.prototype.writeUInt8=function(P,R,U){return P=+P,R>>>=0,U||w(this,P,R,1,255,0),this[R]=255&P,R+1},s.prototype.writeUInt16LE=function(P,R,U){return P=+P,R>>>=0,U||w(this,P,R,2,65535,0),this[R]=255&P,this[R+1]=P>>>8,R+2},s.prototype.writeUInt16BE=function(P,R,U){return P=+P,R>>>=0,U||w(this,P,R,2,65535,0),this[R]=P>>>8,this[R+1]=255&P,R+2},s.prototype.writeUInt32LE=function(P,R,U){return P=+P,R>>>=0,U||w(this,P,R,4,4294967295,0),this[R+3]=P>>>24,this[R+2]=P>>>16,this[R+1]=P>>>8,this[R]=255&P,R+4},s.prototype.writeUInt32BE=function(P,R,U){return P=+P,R>>>=0,U||w(this,P,R,4,4294967295,0),this[R]=P>>>24,this[R+1]=P>>>16,this[R+2]=P>>>8,this[R+3]=255&P,R+4},s.prototype.writeIntLE=function(P,R,U,Z){if(P=+P,R>>>=0,!Z){var st=Math.pow(2,8*U-1);w(this,P,R,U,st-1,-st)}var W=0,G=1,et=0;for(this[R]=255&P;++W<U&&(G*=256);)P<0&&et===0&&this[R+W-1]!==0&&(et=1),this[R+W]=(P/G>>0)-et&255;return R+U},s.prototype.writeIntBE=function(P,R,U,Z){if(P=+P,R>>>=0,!Z){var st=Math.pow(2,8*U-1);w(this,P,R,U,st-1,-st)}var W=U-1,G=1,et=0;for(this[R+W]=255&P;--W>=0&&(G*=256);)P<0&&et===0&&this[R+W+1]!==0&&(et=1),this[R+W]=(P/G>>0)-et&255;return R+U},s.prototype.writeInt8=function(P,R,U){return P=+P,R>>>=0,U||w(this,P,R,1,127,-128),P<0&&(P=255+P+1),this[R]=255&P,R+1},s.prototype.writeInt16LE=function(P,R,U){return P=+P,R>>>=0,U||w(this,P,R,2,32767,-32768),this[R]=255&P,this[R+1]=P>>>8,R+2},s.prototype.writeInt16BE=function(P,R,U){return P=+P,R>>>=0,U||w(this,P,R,2,32767,-32768),this[R]=P>>>8,this[R+1]=255&P,R+2},s.prototype.writeInt32LE=function(P,R,U){return P=+P,R>>>=0,U||w(this,P,R,4,2147483647,-2147483648),this[R]=255&P,this[R+1]=P>>>8,this[R+2]=P>>>16,this[R+3]=P>>>24,R+4},s.prototype.writeInt32BE=function(P,R,U){return P=+P,R>>>=0,U||w(this,P,R,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[R]=P>>>24,this[R+1]=P>>>16,this[R+2]=P>>>8,this[R+3]=255&P,R+4},s.prototype.writeFloatLE=function(P,R,U){return S(this,P,R,!0,U)},s.prototype.writeFloatBE=function(P,R,U){return S(this,P,R,!1,U)},s.prototype.writeDoubleLE=function(P,R,U){return T(this,P,R,!0,U)},s.prototype.writeDoubleBE=function(P,R,U){return T(this,P,R,!1,U)},s.prototype.copy=function(P,R,U,Z){if(!s.isBuffer(P))throw new TypeError("argument should be a Buffer");if(U||(U=0),Z||Z===0||(Z=this.length),R>=P.length&&(R=P.length),R||(R=0),Z>0&&Z<U&&(Z=U),Z===U||P.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),P.length-R<Z-U&&(Z=P.length-R+U);var st=Z-U;if(this===P&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(R,U,Z);else if(this===P&&U<R&&R<Z)for(var W=st-1;W>=0;--W)P[W+R]=this[W+U];else Uint8Array.prototype.set.call(P,this.subarray(U,Z),R);return st},s.prototype.fill=function(P,R,U,Z){if(typeof P=="string"){if(typeof R=="string"?(Z=R,R=0,U=this.length):typeof U=="string"&&(Z=U,U=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!s.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(P.length===1){var st=P.charCodeAt(0);(Z==="utf8"&&st<128||Z==="latin1")&&(P=st)}}else typeof P=="number"&&(P&=255);if(R<0||this.length<R||this.length<U)throw new RangeError("Out of range index");if(U<=R)return this;var W;if(R>>>=0,U=U===void 0?this.length:U>>>0,P||(P=0),typeof P=="number")for(W=R;W<U;++W)this[W]=P;else{var G=s.isBuffer(P)?P:s.from(P,Z),et=G.length;if(et===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(W=0;W<U-R;++W)this[W+R]=G[W%et]}return this};var N=/[^+/0-9A-Za-z-_]/g;function L(P){return P<16?"0"+P.toString(16):P.toString(16)}function V(P,R){var U;R=R||1/0;for(var Z=P.length,st=null,W=[],G=0;G<Z;++G){if((U=P.charCodeAt(G))>55295&&U<57344){if(!st){if(U>56319){(R-=3)>-1&&W.push(239,191,189);continue}if(G+1===Z){(R-=3)>-1&&W.push(239,191,189);continue}st=U;continue}if(U<56320){(R-=3)>-1&&W.push(239,191,189),st=U;continue}U=65536+(st-55296<<10|U-56320)}else st&&(R-=3)>-1&&W.push(239,191,189);if(st=null,U<128){if((R-=1)<0)break;W.push(U)}else if(U<2048){if((R-=2)<0)break;W.push(U>>6|192,63&U|128)}else if(U<65536){if((R-=3)<0)break;W.push(U>>12|224,U>>6&63|128,63&U|128)}else{if(!(U<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;W.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}}return W}function q(P){return i.toByteArray(function(R){if((R=(R=R.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(P))}function Y(P,R,U,Z){for(var st=0;st<Z&&!(st+U>=R.length||st>=P.length);++st)R[st+U]=P[st];return st}function D(P,R){return P instanceof R||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===R.name}function X(P){return P!=P}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,r,a){var n=t("safe-buffer").Buffer,i=t("stream").Transform,o=t("string_decoder").StringDecoder;function l(s){i.call(this),this.hashMode=typeof s=="string",this.hashMode?this[s]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(l,i),l.prototype.update=function(s,c,f){typeof s=="string"&&(s=n.from(s,c));var h=this._update(s);return this.hashMode?this:(f&&(h=this._toString(h,f)),h)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(s,c,f){var h;try{this.hashMode?this._update(s):this.push(this._update(s))}catch(d){h=d}finally{f(h)}},l.prototype._flush=function(s){var c;try{this.push(this.__final())}catch(f){c=f}s(c)},l.prototype._finalOrDigest=function(s){var c=this.__final()||n.alloc(0);return s&&(c=this._toString(c,s,!0)),c},l.prototype._toString=function(s,c,f){if(this._decoder||(this._decoder=new o(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var h=this._decoder.write(s);return f&&(h+=this._decoder.end()),h},r.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,r,a){var n=t("../internals/is-callable"),i=t("../internals/try-to-string"),o=TypeError;r.exports=function(l){if(n(l))return l;throw new o(i(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,r,a){var n=t("../internals/is-constructor"),i=t("../internals/try-to-string"),o=TypeError;r.exports=function(l){if(n(l))return l;throw new o(i(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,r,a){var n=t("../internals/is-callable"),i=String,o=TypeError;r.exports=function(l){if(typeof l=="object"||n(l))return l;throw new o("Can't set "+i(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,r,a){var n=t("../internals/well-known-symbol"),i=t("../internals/object-create"),o=t("../internals/object-define-property").f,l=n("unscopables"),s=Array.prototype;s[l]===void 0&&o(s,l,{configurable:!0,value:i(null)}),r.exports=function(c){s[l][c]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,r,a){var n=t("../internals/object-is-prototype-of"),i=TypeError;r.exports=function(o,l){if(n(l,o))return o;throw new i("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,r,a){var n=t("../internals/is-object"),i=String,o=TypeError;r.exports=function(l){if(n(l))return l;throw new o(i(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,r,a){var n=t("../internals/to-indexed-object"),i=t("../internals/to-absolute-index"),o=t("../internals/length-of-array-like"),l=function(s){return function(c,f,h){var d,p=n(c),g=o(p),m=i(h,g);if(s&&f!=f){for(;g>m;)if((d=p[m++])!=d)return!0}else for(;g>m;m++)if((s||m in p)&&p[m]===f)return s||m||0;return!s&&-1}};r.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,r,a){var n=t("../internals/function-bind-context"),i=t("../internals/function-uncurry-this"),o=t("../internals/indexed-object"),l=t("../internals/to-object"),s=t("../internals/length-of-array-like"),c=t("../internals/array-species-create"),f=i([].push),h=function(d){var p=d===1,g=d===2,m=d===3,b=d===4,y=d===6,x=d===7,k=d===5||y;return function(M,I,B,j){for(var F,z,$=l(M),H=o($),C=n(I,B),O=s(H),A=0,v=j||c,w=p?v(M,O):g||x?v(M,0):void 0;O>A;A++)if((k||A in H)&&(z=C(F=H[A],A,$),d))if(p)w[A]=z;else if(z)switch(d){case 3:return!0;case 5:return F;case 6:return A;case 2:f(w,F)}else switch(d){case 4:return!1;case 7:f(w,F)}return y?-1:m||b?b:w}};r.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,r,a){var n=t("../internals/to-absolute-index"),i=t("../internals/length-of-array-like"),o=t("../internals/create-property"),l=Array,s=Math.max;r.exports=function(c,f,h){for(var d=i(c),p=n(f,d),g=n(h===void 0?d:h,d),m=l(s(g-p,0)),b=0;p<g;p++,b++)o(m,b,c[p]);return m.length=b,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,r,a){var n=t("../internals/function-uncurry-this");r.exports=n([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,r,a){var n=t("../internals/is-array"),i=t("../internals/is-constructor"),o=t("../internals/is-object"),l=t("../internals/well-known-symbol")("species"),s=Array;r.exports=function(c){var f;return n(c)&&(f=c.constructor,(i(f)&&(f===s||n(f.prototype))||o(f)&&(f=f[l])===null)&&(f=void 0)),f===void 0?s:f}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,r,a){var n=t("../internals/array-species-constructor");r.exports=function(i,o){return new(n(i))(o===0?0:o)}},{"../internals/array-species-constructor":232}],234:[function(t,r,a){var n=t("../internals/well-known-symbol")("iterator"),i=!1;try{var o=0,l={next:function(){return{done:!!o++}},return:function(){i=!0}};l[n]=function(){return this},Array.from(l,function(){throw 2})}catch{}r.exports=function(s,c){try{if(!c&&!i)return!1}catch{return!1}var f=!1;try{var h={};h[n]=function(){return{next:function(){return{done:f=!0}}}},s(h)}catch{}return f}},{"../internals/well-known-symbol":357}],235:[function(t,r,a){var n=t("../internals/function-uncurry-this"),i=n({}.toString),o=n("".slice);r.exports=function(l){return o(i(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,r,a){var n=t("../internals/to-string-tag-support"),i=t("../internals/is-callable"),o=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("toStringTag"),s=Object,c=o(function(){return arguments}())==="Arguments";r.exports=n?o:function(f){var h,d,p;return f===void 0?"Undefined":f===null?"Null":typeof(d=function(g,m){try{return g[m]}catch{}}(h=s(f),l))=="string"?d:c?o(h):(p=o(h))==="Object"&&i(h.callee)?"Arguments":p}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,r,a){var n=t("../internals/has-own-property"),i=t("../internals/own-keys"),o=t("../internals/object-get-own-property-descriptor"),l=t("../internals/object-define-property");r.exports=function(s,c,f){for(var h=i(c),d=l.f,p=o.f,g=0;g<h.length;g++){var m=h[g];n(s,m)||f&&n(f,m)||d(s,m,p(c,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,r,a){var n=t("../internals/well-known-symbol")("match");r.exports=function(i){var o=/./;try{"/./"[i](o)}catch{try{return o[n]=!1,"/./"[i](o)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,r,a){var n=t("../internals/fails");r.exports=!n(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},{"../internals/fails":260}],240:[function(t,r,a){r.exports=function(n,i){return{value:n,done:i}}},{}],241:[function(t,r,a){var n=t("../internals/descriptors"),i=t("../internals/object-define-property"),o=t("../internals/create-property-descriptor");r.exports=n?function(l,s,c){return i.f(l,s,o(1,c))}:function(l,s,c){return l[s]=c,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,r,a){r.exports=function(n,i){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:i}}},{}],243:[function(t,r,a){var n=t("../internals/to-property-key"),i=t("../internals/object-define-property"),o=t("../internals/create-property-descriptor");r.exports=function(l,s,c){var f=n(s);f in l?i.f(l,f,o(0,c)):l[f]=c}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,r,a){var n=t("../internals/make-built-in"),i=t("../internals/object-define-property");r.exports=function(o,l,s){return s.get&&n(s.get,l,{getter:!0}),s.set&&n(s.set,l,{setter:!0}),i.f(o,l,s)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,r,a){var n=t("../internals/is-callable"),i=t("../internals/object-define-property"),o=t("../internals/make-built-in"),l=t("../internals/define-global-property");r.exports=function(s,c,f,h){h||(h={});var d=h.enumerable,p=h.name!==void 0?h.name:c;if(n(f)&&o(f,p,h),h.global)d?s[c]=f:l(c,f);else{try{h.unsafe?s[c]&&(d=!0):delete s[c]}catch{}d?s[c]=f:i.f(s,c,{value:f,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return s}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,r,a){var n=t("../internals/global"),i=Object.defineProperty;r.exports=function(o,l){try{i(n,o,{value:l,configurable:!0,writable:!0})}catch{n[o]=l}return l}},{"../internals/global":274}],247:[function(t,r,a){var n=t("../internals/fails");r.exports=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(t,r,a){var n=typeof document=="object"&&document.all,i=n===void 0&&n!==void 0;r.exports={all:n,IS_HTMLDDA:i}},{}],249:[function(t,r,a){var n=t("../internals/global"),i=t("../internals/is-object"),o=n.document,l=i(o)&&i(o.createElement);r.exports=function(s){return l?o.createElement(s):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,r,a){var n=t("../internals/engine-is-deno"),i=t("../internals/engine-is-node");r.exports=!n&&!i&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,r,a){r.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,r,a){var n=t("../internals/engine-user-agent");r.exports=/ipad|iphone|ipod/i.test(n)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,r,a){var n=t("../internals/engine-user-agent");r.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},{"../internals/engine-user-agent":256}],254:[function(t,r,a){var n=t("../internals/global"),i=t("../internals/classof-raw");r.exports=i(n.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,r,a){var n=t("../internals/engine-user-agent");r.exports=/web0s(?!.*chrome)/i.test(n)},{"../internals/engine-user-agent":256}],256:[function(t,r,a){r.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,r,a){var n,i,o=t("../internals/global"),l=t("../internals/engine-user-agent"),s=o.process,c=o.Deno,f=s&&s.versions||c&&c.version,h=f&&f.v8;h&&(i=(n=h.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&l&&(!(n=l.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=l.match(/Chrome\/(\d+)/))&&(i=+n[1]),r.exports=i},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,r,a){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,r,a){var n=t("../internals/global"),i=t("../internals/object-get-own-property-descriptor").f,o=t("../internals/create-non-enumerable-property"),l=t("../internals/define-built-in"),s=t("../internals/define-global-property"),c=t("../internals/copy-constructor-properties"),f=t("../internals/is-forced");r.exports=function(h,d){var p,g,m,b,y,x=h.target,k=h.global,M=h.stat;if(p=k?n:M?n[x]||s(x,{}):(n[x]||{}).prototype)for(g in d){if(b=d[g],m=h.dontCallGetSet?(y=i(p,g))&&y.value:p[g],!f(k?g:x+(M?".":"#")+g,h.forced)&&m!==void 0){if(typeof b==typeof m)continue;c(b,m)}(h.sham||m&&m.sham)&&o(b,"sham",!0),l(p,g,b,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,r,a){r.exports=function(n){try{return!!n()}catch{return!0}}},{}],261:[function(t,r,a){var n=t("../internals/function-bind-native"),i=Function.prototype,o=i.apply,l=i.call;r.exports=typeof Reflect=="object"&&Reflect.apply||(n?l.bind(o):function(){return l.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,r,a){var n=t("../internals/function-uncurry-this-clause"),i=t("../internals/a-callable"),o=t("../internals/function-bind-native"),l=n(n.bind);r.exports=function(s,c){return i(s),c===void 0?s:o?l(s,c):function(){return s.apply(c,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,r,a){var n=t("../internals/fails");r.exports=!n(function(){var i=(function(){}).bind();return typeof i!="function"||i.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(t,r,a){var n=t("../internals/function-bind-native"),i=Function.prototype.call;r.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,r,a){var n=t("../internals/descriptors"),i=t("../internals/has-own-property"),o=Function.prototype,l=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&(function(){}).name==="something",f=s&&(!n||n&&l(o,"name").configurable);r.exports={EXISTS:s,PROPER:c,CONFIGURABLE:f}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,r,a){var n=t("../internals/function-uncurry-this"),i=t("../internals/a-callable");r.exports=function(o,l,s){try{return n(i(Object.getOwnPropertyDescriptor(o,l)[s]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,r,a){var n=t("../internals/classof-raw"),i=t("../internals/function-uncurry-this");r.exports=function(o){if(n(o)==="Function")return i(o)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,r,a){var n=t("../internals/function-bind-native"),i=Function.prototype,o=i.call,l=n&&i.bind.bind(o,o);r.exports=n?l:function(s){return function(){return o.apply(s,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,r,a){var n=t("../internals/global"),i=t("../internals/is-callable"),o=function(l){return i(l)?l:void 0};r.exports=function(l,s){return arguments.length<2?o(n[l]):n[l]&&n[l][s]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,r,a){var n=t("../internals/classof"),i=t("../internals/get-method"),o=t("../internals/is-null-or-undefined"),l=t("../internals/iterators"),s=t("../internals/well-known-symbol")("iterator");r.exports=function(c){if(!o(c))return i(c,s)||i(c,"@@iterator")||l[n(c)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,r,a){var n=t("../internals/function-call"),i=t("../internals/a-callable"),o=t("../internals/an-object"),l=t("../internals/try-to-string"),s=t("../internals/get-iterator-method"),c=TypeError;r.exports=function(f,h){var d=arguments.length<2?s(f):h;if(i(d))return o(n(d,f));throw new c(l(f)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,r,a){var n=t("../internals/function-uncurry-this"),i=t("../internals/is-array"),o=t("../internals/is-callable"),l=t("../internals/classof-raw"),s=t("../internals/to-string"),c=n([].push);r.exports=function(f){if(o(f))return f;if(i(f)){for(var h=f.length,d=[],p=0;p<h;p++){var g=f[p];typeof g=="string"?c(d,g):typeof g!="number"&&l(g)!=="Number"&&l(g)!=="String"||c(d,s(g))}var m=d.length,b=!0;return function(y,x){if(b)return b=!1,x;if(i(this))return x;for(var k=0;k<m;k++)if(d[k]===y)return x}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,r,a){var n=t("../internals/a-callable"),i=t("../internals/is-null-or-undefined");r.exports=function(o,l){var s=o[l];return i(s)?void 0:n(s)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,r,a){(function(n){(function(){var i=function(o){return o&&o.Math===Math&&o};r.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof n=="object"&&n)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,r,a){var n=t("../internals/function-uncurry-this"),i=t("../internals/to-object"),o=n({}.hasOwnProperty);r.exports=Object.hasOwn||function(l,s){return o(i(l),s)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,r,a){r.exports={}},{}],277:[function(t,r,a){r.exports=function(n,i){try{arguments.length===1?console.error(n):console.error(n,i)}catch{}}},{}],278:[function(t,r,a){var n=t("../internals/get-built-in");r.exports=n("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,r,a){var n=t("../internals/descriptors"),i=t("../internals/fails"),o=t("../internals/document-create-element");r.exports=!n&&!i(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,r,a){var n=t("../internals/function-uncurry-this"),i=t("../internals/fails"),o=t("../internals/classof-raw"),l=Object,s=n("".split);r.exports=i(function(){return!l("z").propertyIsEnumerable(0)})?function(c){return o(c)==="String"?s(c,""):l(c)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,r,a){var n=t("../internals/function-uncurry-this"),i=t("../internals/is-callable"),o=t("../internals/shared-store"),l=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(s){return l(s)}),r.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,r,a){var n,i,o,l=t("../internals/weak-map-basic-detection"),s=t("../internals/global"),c=t("../internals/is-object"),f=t("../internals/create-non-enumerable-property"),h=t("../internals/has-own-property"),d=t("../internals/shared-store"),p=t("../internals/shared-key"),g=t("../internals/hidden-keys"),m=s.TypeError,b=s.WeakMap;if(l||d.state){var y=d.state||(d.state=new b);y.get=y.get,y.has=y.has,y.set=y.set,n=function(k,M){if(y.has(k))throw new m("Object already initialized");return M.facade=k,y.set(k,M),M},i=function(k){return y.get(k)||{}},o=function(k){return y.has(k)}}else{var x=p("state");g[x]=!0,n=function(k,M){if(h(k,x))throw new m("Object already initialized");return M.facade=k,f(k,x,M),M},i=function(k){return h(k,x)?k[x]:{}},o=function(k){return h(k,x)}}r.exports={set:n,get:i,has:o,enforce:function(k){return o(k)?i(k):n(k,{})},getterFor:function(k){return function(M){var I;if(!c(M)||(I=i(M)).type!==k)throw new m("Incompatible receiver, "+k+" required");return I}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,r,a){var n=t("../internals/well-known-symbol"),i=t("../internals/iterators"),o=n("iterator"),l=Array.prototype;r.exports=function(s){return s!==void 0&&(i.Array===s||l[o]===s)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,r,a){var n=t("../internals/classof-raw");r.exports=Array.isArray||function(i){return n(i)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,r,a){var n=t("../internals/document-all"),i=n.all;r.exports=n.IS_HTMLDDA?function(o){return typeof o=="function"||o===i}:function(o){return typeof o=="function"}},{"../internals/document-all":248}],286:[function(t,r,a){var n=t("../internals/function-uncurry-this"),i=t("../internals/fails"),o=t("../internals/is-callable"),l=t("../internals/classof"),s=t("../internals/get-built-in"),c=t("../internals/inspect-source"),f=function(){},h=[],d=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,g=n(p.exec),m=!p.test(f),b=function(x){if(!o(x))return!1;try{return d(f,h,x),!0}catch{return!1}},y=function(x){if(!o(x))return!1;switch(l(x)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!g(p,c(x))}catch{return!0}};y.sham=!0,r.exports=!d||i(function(){var x;return b(b.call)||!b(Object)||!b(function(){x=!0})||x})?y:b},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,r,a){var n=t("../internals/fails"),i=t("../internals/is-callable"),o=/#|\.prototype\./,l=function(d,p){var g=c[s(d)];return g===h||g!==f&&(i(p)?n(p):!!p)},s=l.normalize=function(d){return String(d).replace(o,".").toLowerCase()},c=l.data={},f=l.NATIVE="N",h=l.POLYFILL="P";r.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,r,a){r.exports=function(n){return n==null}},{}],289:[function(t,r,a){var n=t("../internals/is-callable"),i=t("../internals/document-all"),o=i.all;r.exports=i.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:n(l)||l===o}:function(l){return typeof l=="object"?l!==null:n(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,r,a){r.exports=!1},{}],291:[function(t,r,a){var n=t("../internals/is-object"),i=t("../internals/classof-raw"),o=t("../internals/well-known-symbol")("match");r.exports=function(l){var s;return n(l)&&((s=l[o])!==void 0?!!s:i(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,r,a){var n=t("../internals/get-built-in"),i=t("../internals/is-callable"),o=t("../internals/object-is-prototype-of"),l=t("../internals/use-symbol-as-uid"),s=Object;r.exports=l?function(c){return typeof c=="symbol"}:function(c){var f=n("Symbol");return i(f)&&o(f.prototype,s(c))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,r,a){var n=t("../internals/function-bind-context"),i=t("../internals/function-call"),o=t("../internals/an-object"),l=t("../internals/try-to-string"),s=t("../internals/is-array-iterator-method"),c=t("../internals/length-of-array-like"),f=t("../internals/object-is-prototype-of"),h=t("../internals/get-iterator"),d=t("../internals/get-iterator-method"),p=t("../internals/iterator-close"),g=TypeError,m=function(y,x){this.stopped=y,this.result=x},b=m.prototype;r.exports=function(y,x,k){var M,I,B,j,F,z,$,H=k&&k.that,C=!(!k||!k.AS_ENTRIES),O=!(!k||!k.IS_RECORD),A=!(!k||!k.IS_ITERATOR),v=!(!k||!k.INTERRUPTED),w=n(x,H),_=function(T){return M&&p(M,"normal",T),new m(!0,T)},S=function(T){return C?(o(T),v?w(T[0],T[1],_):w(T[0],T[1])):v?w(T,_):w(T)};if(O)M=y.iterator;else if(A)M=y;else{if(!(I=d(y)))throw new g(l(y)+" is not iterable");if(s(I)){for(B=0,j=c(y);j>B;B++)if((F=S(y[B]))&&f(b,F))return F;return new m(!1)}M=h(y,I)}for(z=O?y.next:M.next;!($=i(z,M)).done;){try{F=S($.value)}catch(T){p(M,"throw",T)}if(typeof F=="object"&&F&&f(b,F))return F}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,r,a){var n=t("../internals/function-call"),i=t("../internals/an-object"),o=t("../internals/get-method");r.exports=function(l,s,c){var f,h;i(l);try{if(!(f=o(l,"return"))){if(s==="throw")throw c;return c}f=n(f,l)}catch(d){h=!0,f=d}if(s==="throw")throw c;if(h)throw f;return i(f),c}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,r,a){var n=t("../internals/iterators-core").IteratorPrototype,i=t("../internals/object-create"),o=t("../internals/create-property-descriptor"),l=t("../internals/set-to-string-tag"),s=t("../internals/iterators"),c=function(){return this};r.exports=function(f,h,d,p){var g=h+" Iterator";return f.prototype=i(n,{next:o(+!p,d)}),l(f,g,!1,!0),s[g]=c,f}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/function-call"),o=t("../internals/is-pure"),l=t("../internals/function-name"),s=t("../internals/is-callable"),c=t("../internals/iterator-create-constructor"),f=t("../internals/object-get-prototype-of"),h=t("../internals/object-set-prototype-of"),d=t("../internals/set-to-string-tag"),p=t("../internals/create-non-enumerable-property"),g=t("../internals/define-built-in"),m=t("../internals/well-known-symbol"),b=t("../internals/iterators"),y=t("../internals/iterators-core"),x=l.PROPER,k=l.CONFIGURABLE,M=y.IteratorPrototype,I=y.BUGGY_SAFARI_ITERATORS,B=m("iterator"),j=function(){return this};r.exports=function(F,z,$,H,C,O,A){c($,z,H);var v,w,_,S=function(D){if(D===C&&q)return q;if(!I&&D&&D in L)return L[D];switch(D){case"keys":case"values":case"entries":return function(){return new $(this,D)}}return function(){return new $(this)}},T=z+" Iterator",N=!1,L=F.prototype,V=L[B]||L["@@iterator"]||C&&L[C],q=!I&&V||S(C),Y=z==="Array"&&L.entries||V;if(Y&&(v=f(Y.call(new F)))!==Object.prototype&&v.next&&(o||f(v)===M||(h?h(v,M):s(v[B])||g(v,B,j)),d(v,T,!0,!0),o&&(b[T]=j)),x&&C==="values"&&V&&V.name!=="values"&&(!o&&k?p(L,"name","values"):(N=!0,q=function(){return i(V,this)})),C)if(w={values:S("values"),keys:O?q:S("keys"),entries:S("entries")},A)for(_ in w)(I||N||!(_ in L))&&g(L,_,w[_]);else n({target:z,proto:!0,forced:I||N},w);return o&&!A||L[B]===q||g(L,B,q,{name:C}),b[z]=q,w}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,r,a){var n,i,o,l=t("../internals/fails"),s=t("../internals/is-callable"),c=t("../internals/is-object"),f=t("../internals/object-create"),h=t("../internals/object-get-prototype-of"),d=t("../internals/define-built-in"),p=t("../internals/well-known-symbol"),g=t("../internals/is-pure"),m=p("iterator"),b=!1;[].keys&&("next"in(o=[].keys())?(i=h(h(o)))!==Object.prototype&&(n=i):b=!0),!c(n)||l(function(){var y={};return n[m].call(y)!==y})?n={}:g&&(n=f(n)),s(n[m])||d(n,m,function(){return this}),r.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:b}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,r,a){arguments[4][276][0].apply(a,arguments)},{dup:276}],299:[function(t,r,a){var n=t("../internals/to-length");r.exports=function(i){return n(i.length)}},{"../internals/to-length":343}],300:[function(t,r,a){var n=t("../internals/function-uncurry-this"),i=t("../internals/fails"),o=t("../internals/is-callable"),l=t("../internals/has-own-property"),s=t("../internals/descriptors"),c=t("../internals/function-name").CONFIGURABLE,f=t("../internals/inspect-source"),h=t("../internals/internal-state"),d=h.enforce,p=h.get,g=String,m=Object.defineProperty,b=n("".slice),y=n("".replace),x=n([].join),k=s&&!i(function(){return m(function(){},"length",{value:8}).length!==8}),M=String(String).split("String"),I=r.exports=function(B,j,F){b(g(j),0,7)==="Symbol("&&(j="["+y(g(j),/^Symbol\(([^)]*)\)/,"$1")+"]"),F&&F.getter&&(j="get "+j),F&&F.setter&&(j="set "+j),(!l(B,"name")||c&&B.name!==j)&&(s?m(B,"name",{value:j,configurable:!0}):B.name=j),k&&F&&l(F,"arity")&&B.length!==F.arity&&m(B,"length",{value:F.arity});try{F&&l(F,"constructor")&&F.constructor?s&&m(B,"prototype",{writable:!1}):B.prototype&&(B.prototype=void 0)}catch{}var z=d(B);return l(z,"source")||(z.source=x(M,typeof j=="string"?j:"")),B};Function.prototype.toString=I(function(){return o(this)&&p(this).source||f(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,r,a){var n=Math.ceil,i=Math.floor;r.exports=Math.trunc||function(o){var l=+o;return(l>0?i:n)(l)}},{}],302:[function(t,r,a){var n,i,o,l,s,c=t("../internals/global"),f=t("../internals/function-bind-context"),h=t("../internals/object-get-own-property-descriptor").f,d=t("../internals/task").set,p=t("../internals/queue"),g=t("../internals/engine-is-ios"),m=t("../internals/engine-is-ios-pebble"),b=t("../internals/engine-is-webos-webkit"),y=t("../internals/engine-is-node"),x=c.MutationObserver||c.WebKitMutationObserver,k=c.document,M=c.process,I=c.Promise,B=h(c,"queueMicrotask"),j=B&&B.value;if(!j){var F=new p,z=function(){var $,H;for(y&&($=M.domain)&&$.exit();H=F.get();)try{H()}catch(C){throw F.head&&n(),C}$&&$.enter()};g||y||b||!x||!k?!m&&I&&I.resolve?((l=I.resolve(void 0)).constructor=I,s=f(l.then,l),n=function(){s(z)}):y?n=function(){M.nextTick(z)}:(d=f(d,c),n=function(){d(z)}):(i=!0,o=k.createTextNode(""),new x(z).observe(o,{characterData:!0}),n=function(){o.data=i=!i}),j=function($){F.head||n(),F.add($)}}r.exports=j},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,r,a){var n=t("../internals/a-callable"),i=TypeError,o=function(l){var s,c;this.promise=new l(function(f,h){if(s!==void 0||c!==void 0)throw new i("Bad Promise constructor");s=f,c=h}),this.resolve=n(s),this.reject=n(c)};r.exports.f=function(l){return new o(l)}},{"../internals/a-callable":222}],304:[function(t,r,a){var n=t("../internals/is-regexp"),i=TypeError;r.exports=function(o){if(n(o))throw new i("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":291}],305:[function(t,r,a){var n=t("../internals/descriptors"),i=t("../internals/function-uncurry-this"),o=t("../internals/function-call"),l=t("../internals/fails"),s=t("../internals/object-keys"),c=t("../internals/object-get-own-property-symbols"),f=t("../internals/object-property-is-enumerable"),h=t("../internals/to-object"),d=t("../internals/indexed-object"),p=Object.assign,g=Object.defineProperty,m=i([].concat);r.exports=!p||l(function(){if(n&&p({b:1},p(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var b={},y={},x=Symbol("assign detection");return b[x]=7,"abcdefghijklmnopqrst".split("").forEach(function(k){y[k]=k}),p({},b)[x]!==7||s(p({},y)).join("")!=="abcdefghijklmnopqrst"})?function(b,y){for(var x=h(b),k=arguments.length,M=1,I=c.f,B=f.f;k>M;)for(var j,F=d(arguments[M++]),z=I?m(s(F),I(F)):s(F),$=z.length,H=0;$>H;)j=z[H++],n&&!o(B,F,j)||(x[j]=F[j]);return x}:p},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,r,a){var n,i=t("../internals/an-object"),o=t("../internals/object-define-properties"),l=t("../internals/enum-bug-keys"),s=t("../internals/hidden-keys"),c=t("../internals/html"),f=t("../internals/document-create-element"),h=t("../internals/shared-key"),d=h("IE_PROTO"),p=function(){},g=function(y){return"<script>"+y+"<\/script>"},m=function(y){y.write(g("")),y.close();var x=y.parentWindow.Object;return y=null,x},b=function(){try{n=new ActiveXObject("htmlfile")}catch{}var y,x;b=typeof document<"u"?document.domain&&n?m(n):((x=f("iframe")).style.display="none",c.appendChild(x),x.src="javascript:",(y=x.contentWindow.document).open(),y.write(g("document.F=Object")),y.close(),y.F):m(n);for(var k=l.length;k--;)delete b.prototype[l[k]];return b()};s[d]=!0,r.exports=Object.create||function(y,x){var k;return y!==null?(p.prototype=i(y),k=new p,p.prototype=null,k[d]=y):k=b(),x===void 0?k:o.f(k,x)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,r,a){var n=t("../internals/descriptors"),i=t("../internals/v8-prototype-define-bug"),o=t("../internals/object-define-property"),l=t("../internals/an-object"),s=t("../internals/to-indexed-object"),c=t("../internals/object-keys");a.f=n&&!i?Object.defineProperties:function(f,h){l(f);for(var d,p=s(h),g=c(h),m=g.length,b=0;m>b;)o.f(f,d=g[b++],p[d]);return f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,r,a){var n=t("../internals/descriptors"),i=t("../internals/ie8-dom-define"),o=t("../internals/v8-prototype-define-bug"),l=t("../internals/an-object"),s=t("../internals/to-property-key"),c=TypeError,f=Object.defineProperty,h=Object.getOwnPropertyDescriptor;a.f=n?o?function(d,p,g){if(l(d),p=s(p),l(g),typeof d=="function"&&p==="prototype"&&"value"in g&&"writable"in g&&!g.writable){var m=h(d,p);m&&m.writable&&(d[p]=g.value,g={configurable:"configurable"in g?g.configurable:m.configurable,enumerable:"enumerable"in g?g.enumerable:m.enumerable,writable:!1})}return f(d,p,g)}:f:function(d,p,g){if(l(d),p=s(p),l(g),i)try{return f(d,p,g)}catch{}if("get"in g||"set"in g)throw new c("Accessors not supported");return"value"in g&&(d[p]=g.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,r,a){var n=t("../internals/descriptors"),i=t("../internals/function-call"),o=t("../internals/object-property-is-enumerable"),l=t("../internals/create-property-descriptor"),s=t("../internals/to-indexed-object"),c=t("../internals/to-property-key"),f=t("../internals/has-own-property"),h=t("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;a.f=n?d:function(p,g){if(p=s(p),g=c(g),h)try{return d(p,g)}catch{}if(f(p,g))return l(!i(o.f,p,g),p[g])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,r,a){var n=t("../internals/classof-raw"),i=t("../internals/to-indexed-object"),o=t("../internals/object-get-own-property-names").f,l=t("../internals/array-slice-simple"),s=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];r.exports.f=function(c){return s&&n(c)==="Window"?function(f){try{return o(f)}catch{return l(s)}}(c):o(i(c))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,r,a){var n=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys").concat("length","prototype");a.f=Object.getOwnPropertyNames||function(o){return n(o,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,r,a){a.f=Object.getOwnPropertySymbols},{}],313:[function(t,r,a){var n=t("../internals/has-own-property"),i=t("../internals/is-callable"),o=t("../internals/to-object"),l=t("../internals/shared-key"),s=t("../internals/correct-prototype-getter"),c=l("IE_PROTO"),f=Object,h=f.prototype;r.exports=s?f.getPrototypeOf:function(d){var p=o(d);if(n(p,c))return p[c];var g=p.constructor;return i(g)&&p instanceof g?g.prototype:p instanceof f?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,r,a){var n=t("../internals/function-uncurry-this");r.exports=n({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,r,a){var n=t("../internals/function-uncurry-this"),i=t("../internals/has-own-property"),o=t("../internals/to-indexed-object"),l=t("../internals/array-includes").indexOf,s=t("../internals/hidden-keys"),c=n([].push);r.exports=function(f,h){var d,p=o(f),g=0,m=[];for(d in p)!i(s,d)&&i(p,d)&&c(m,d);for(;h.length>g;)i(p,d=h[g++])&&(~l(m,d)||c(m,d));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,r,a){var n=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys");r.exports=Object.keys||function(o){return n(o,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,r,a){var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);a.f=o?function(l){var s=i(this,l);return!!s&&s.enumerable}:n},{}],318:[function(t,r,a){var n=t("../internals/function-uncurry-this-accessor"),i=t("../internals/an-object"),o=t("../internals/a-possible-prototype");r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,s=!1,c={};try{(l=n(Object.prototype,"__proto__","set"))(c,[]),s=c instanceof Array}catch{}return function(f,h){return i(f),o(h),s?l(f,h):f.__proto__=h,f}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,r,a){var n=t("../internals/descriptors"),i=t("../internals/fails"),o=t("../internals/function-uncurry-this"),l=t("../internals/object-get-prototype-of"),s=t("../internals/object-keys"),c=t("../internals/to-indexed-object"),f=o(t("../internals/object-property-is-enumerable").f),h=o([].push),d=n&&i(function(){var g=Object.create(null);return g[2]=2,!f(g,2)}),p=function(g){return function(m){for(var b,y=c(m),x=s(y),k=d&&l(y)===null,M=x.length,I=0,B=[];M>I;)b=x[I++],n&&!(k?b in y:f(y,b))||h(B,g?[b,y[b]]:y[b]);return B}};r.exports={entries:p(!0),values:p(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,r,a){var n=t("../internals/function-call"),i=t("../internals/is-callable"),o=t("../internals/is-object"),l=TypeError;r.exports=function(s,c){var f,h;if(c==="string"&&i(f=s.toString)&&!o(h=n(f,s))||i(f=s.valueOf)&&!o(h=n(f,s))||c!=="string"&&i(f=s.toString)&&!o(h=n(f,s)))return h;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,r,a){var n=t("../internals/get-built-in"),i=t("../internals/function-uncurry-this"),o=t("../internals/object-get-own-property-names"),l=t("../internals/object-get-own-property-symbols"),s=t("../internals/an-object"),c=i([].concat);r.exports=n("Reflect","ownKeys")||function(f){var h=o.f(s(f)),d=l.f;return d?c(h,d(f)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,r,a){var n=t("../internals/global");r.exports=n},{"../internals/global":274}],323:[function(t,r,a){r.exports=function(n){try{return{error:!1,value:n()}}catch(i){return{error:!0,value:i}}}},{}],324:[function(t,r,a){var n=t("../internals/global"),i=t("../internals/promise-native-constructor"),o=t("../internals/is-callable"),l=t("../internals/is-forced"),s=t("../internals/inspect-source"),c=t("../internals/well-known-symbol"),f=t("../internals/engine-is-browser"),h=t("../internals/engine-is-deno"),d=t("../internals/is-pure"),p=t("../internals/engine-v8-version"),g=i&&i.prototype,m=c("species"),b=!1,y=o(n.PromiseRejectionEvent),x=l("Promise",function(){var k=s(i),M=k!==String(i);if(!M&&p===66||d&&(!g.catch||!g.finally))return!0;if(!p||p<51||!/native code/.test(k)){var I=new i(function(j){j(1)}),B=function(j){j(function(){},function(){})};if((I.constructor={})[m]=B,!(b=I.then(function(){})instanceof B))return!0}return!M&&(f||h)&&!y});r.exports={CONSTRUCTOR:x,REJECTION_EVENT:y,SUBCLASSING:b}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,r,a){var n=t("../internals/global");r.exports=n.Promise},{"../internals/global":274}],326:[function(t,r,a){var n=t("../internals/an-object"),i=t("../internals/is-object"),o=t("../internals/new-promise-capability");r.exports=function(l,s){if(n(l),i(s)&&s.constructor===l)return s;var c=o.f(l);return(0,c.resolve)(s),c.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,r,a){var n=t("../internals/promise-native-constructor"),i=t("../internals/check-correctness-of-iteration"),o=t("../internals/promise-constructor-detection").CONSTRUCTOR;r.exports=o||!i(function(l){n.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,r,a){var n=function(){this.head=null,this.tail=null};n.prototype={add:function(i){var o={item:i,next:null},l=this.tail;l?l.next=o:this.head=o,this.tail=o},get:function(){var i=this.head;if(i)return(this.head=i.next)===null&&(this.tail=null),i.item}},r.exports=n},{}],329:[function(t,r,a){var n=t("../internals/is-null-or-undefined"),i=TypeError;r.exports=function(o){if(n(o))throw new i("Can't call method on "+o);return o}},{"../internals/is-null-or-undefined":288}],330:[function(t,r,a){var n=t("../internals/get-built-in"),i=t("../internals/define-built-in-accessor"),o=t("../internals/well-known-symbol"),l=t("../internals/descriptors"),s=o("species");r.exports=function(c){var f=n(c);l&&f&&!f[s]&&i(f,s,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,r,a){var n=t("../internals/object-define-property").f,i=t("../internals/has-own-property"),o=t("../internals/well-known-symbol")("toStringTag");r.exports=function(l,s,c){l&&!c&&(l=l.prototype),l&&!i(l,o)&&n(l,o,{configurable:!0,value:s})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,r,a){var n=t("../internals/shared"),i=t("../internals/uid"),o=n("keys");r.exports=function(l){return o[l]||(o[l]=i(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,r,a){var n=t("../internals/global"),i=t("../internals/define-global-property"),o=n["__core-js_shared__"]||i("__core-js_shared__",{});r.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,r,a){var n=t("../internals/is-pure"),i=t("../internals/shared-store");(r.exports=function(o,l){return i[o]||(i[o]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:n?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,r,a){var n=t("../internals/an-object"),i=t("../internals/a-constructor"),o=t("../internals/is-null-or-undefined"),l=t("../internals/well-known-symbol")("species");r.exports=function(s,c){var f,h=n(s).constructor;return h===void 0||o(f=n(h)[l])?c:i(f)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,r,a){var n=t("../internals/engine-v8-version"),i=t("../internals/fails"),o=t("../internals/global").String;r.exports=!!Object.getOwnPropertySymbols&&!i(function(){var l=Symbol("symbol detection");return!o(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&n&&n<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,r,a){var n=t("../internals/function-call"),i=t("../internals/get-built-in"),o=t("../internals/well-known-symbol"),l=t("../internals/define-built-in");r.exports=function(){var s=i("Symbol"),c=s&&s.prototype,f=c&&c.valueOf,h=o("toPrimitive");c&&!c[h]&&l(c,h,function(d){return n(f,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,r,a){var n=t("../internals/symbol-constructor-detection");r.exports=n&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,r,a){var n,i,o,l,s=t("../internals/global"),c=t("../internals/function-apply"),f=t("../internals/function-bind-context"),h=t("../internals/is-callable"),d=t("../internals/has-own-property"),p=t("../internals/fails"),g=t("../internals/html"),m=t("../internals/array-slice"),b=t("../internals/document-create-element"),y=t("../internals/validate-arguments-length"),x=t("../internals/engine-is-ios"),k=t("../internals/engine-is-node"),M=s.setImmediate,I=s.clearImmediate,B=s.process,j=s.Dispatch,F=s.Function,z=s.MessageChannel,$=s.String,H=0,C={};p(function(){n=s.location});var O=function(_){if(d(C,_)){var S=C[_];delete C[_],S()}},A=function(_){return function(){O(_)}},v=function(_){O(_.data)},w=function(_){s.postMessage($(_),n.protocol+"//"+n.host)};M&&I||(M=function(_){y(arguments.length,1);var S=h(_)?_:F(_),T=m(arguments,1);return C[++H]=function(){c(S,void 0,T)},i(H),H},I=function(_){delete C[_]},k?i=function(_){B.nextTick(A(_))}:j&&j.now?i=function(_){j.now(A(_))}:z&&!x?(l=(o=new z).port2,o.port1.onmessage=v,i=f(l.postMessage,l)):s.addEventListener&&h(s.postMessage)&&!s.importScripts&&n&&n.protocol!=="file:"&&!p(w)?(i=w,s.addEventListener("message",v,!1)):i="onreadystatechange"in b("script")?function(_){g.appendChild(b("script")).onreadystatechange=function(){g.removeChild(this),O(_)}}:function(_){setTimeout(A(_),0)}),r.exports={set:M,clear:I}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,r,a){var n=t("../internals/to-integer-or-infinity"),i=Math.max,o=Math.min;r.exports=function(l,s){var c=n(l);return c<0?i(c+s,0):o(c,s)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,r,a){var n=t("../internals/indexed-object"),i=t("../internals/require-object-coercible");r.exports=function(o){return n(i(o))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,r,a){var n=t("../internals/math-trunc");r.exports=function(i){var o=+i;return o!=o||o===0?0:n(o)}},{"../internals/math-trunc":301}],343:[function(t,r,a){var n=t("../internals/to-integer-or-infinity"),i=Math.min;r.exports=function(o){return o>0?i(n(o),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,r,a){var n=t("../internals/require-object-coercible"),i=Object;r.exports=function(o){return i(n(o))}},{"../internals/require-object-coercible":329}],345:[function(t,r,a){var n=t("../internals/function-call"),i=t("../internals/is-object"),o=t("../internals/is-symbol"),l=t("../internals/get-method"),s=t("../internals/ordinary-to-primitive"),c=t("../internals/well-known-symbol"),f=TypeError,h=c("toPrimitive");r.exports=function(d,p){if(!i(d)||o(d))return d;var g,m=l(d,h);if(m){if(p===void 0&&(p="default"),g=n(m,d,p),!i(g)||o(g))return g;throw new f("Can't convert object to primitive value")}return p===void 0&&(p="number"),s(d,p)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,r,a){var n=t("../internals/to-primitive"),i=t("../internals/is-symbol");r.exports=function(o){var l=n(o,"string");return i(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,r,a){var n={};n[t("../internals/well-known-symbol")("toStringTag")]="z",r.exports=String(n)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,r,a){var n=t("../internals/classof"),i=String;r.exports=function(o){if(n(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return i(o)}},{"../internals/classof":236}],349:[function(t,r,a){var n=String;r.exports=function(i){try{return n(i)}catch{return"Object"}}},{}],350:[function(t,r,a){var n=t("../internals/function-uncurry-this"),i=0,o=Math.random(),l=n(1 .toString);r.exports=function(s){return"Symbol("+(s===void 0?"":s)+")_"+l(++i+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,r,a){var n=t("../internals/symbol-constructor-detection");r.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,r,a){var n=t("../internals/descriptors"),i=t("../internals/fails");r.exports=n&&i(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,r,a){var n=TypeError;r.exports=function(i,o){if(i<o)throw new n("Not enough arguments");return i}},{}],354:[function(t,r,a){var n=t("../internals/global"),i=t("../internals/is-callable"),o=n.WeakMap;r.exports=i(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,r,a){var n=t("../internals/path"),i=t("../internals/has-own-property"),o=t("../internals/well-known-symbol-wrapped"),l=t("../internals/object-define-property").f;r.exports=function(s){var c=n.Symbol||(n.Symbol={});i(c,s)||l(c,s,{value:o.f(s)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,r,a){var n=t("../internals/well-known-symbol");a.f=n},{"../internals/well-known-symbol":357}],357:[function(t,r,a){var n=t("../internals/global"),i=t("../internals/shared"),o=t("../internals/has-own-property"),l=t("../internals/uid"),s=t("../internals/symbol-constructor-detection"),c=t("../internals/use-symbol-as-uid"),f=n.Symbol,h=i("wks"),d=c?f.for||f:f&&f.withoutSetter||l;r.exports=function(p){return o(h,p)||(h[p]=s&&o(f,p)?f[p]:d("Symbol."+p)),h[p]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/array-iteration").findIndex,o=t("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),n({target:"Array",proto:!0,forced:l},{findIndex:function(s){return i(this,s,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/array-iteration").find,o=t("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),n({target:"Array",proto:!0,forced:l},{find:function(s){return i(this,s,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/array-includes").includes,o=t("../internals/fails"),l=t("../internals/add-to-unscopables");n({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(s){return i(this,s,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,r,a){var n=t("../internals/to-indexed-object"),i=t("../internals/add-to-unscopables"),o=t("../internals/iterators"),l=t("../internals/internal-state"),s=t("../internals/object-define-property").f,c=t("../internals/iterator-define"),f=t("../internals/create-iter-result-object"),h=t("../internals/is-pure"),d=t("../internals/descriptors"),p=l.set,g=l.getterFor("Array Iterator");r.exports=c(Array,"Array",function(b,y){p(this,{type:"Array Iterator",target:n(b),index:0,kind:y})},function(){var b=g(this),y=b.target,x=b.kind,k=b.index++;if(!y||k>=y.length)return b.target=void 0,f(void 0,!0);switch(x){case"keys":return f(k,!1);case"values":return f(y[k],!1)}return f([k,y[k]],!1)},"values");var m=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!h&&d&&m.name!=="values")try{s(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/get-built-in"),o=t("../internals/function-apply"),l=t("../internals/function-call"),s=t("../internals/function-uncurry-this"),c=t("../internals/fails"),f=t("../internals/is-callable"),h=t("../internals/is-symbol"),d=t("../internals/array-slice"),p=t("../internals/get-json-replacer-function"),g=t("../internals/symbol-constructor-detection"),m=String,b=i("JSON","stringify"),y=s(/./.exec),x=s("".charAt),k=s("".charCodeAt),M=s("".replace),I=s(1 .toString),B=/[\uD800-\uDFFF]/g,j=/^[\uD800-\uDBFF]$/,F=/^[\uDC00-\uDFFF]$/,z=!g||c(function(){var O=i("Symbol")("stringify detection");return b([O])!=="[null]"||b({a:O})!=="{}"||b(Object(O))!=="{}"}),$=c(function(){return b("\uDF06\uD834")!=='"\\udf06\\ud834"'||b("\uDEAD")!=='"\\udead"'}),H=function(O,A){var v=d(arguments),w=p(A);if(f(w)||O!==void 0&&!h(O))return v[1]=function(_,S){if(f(w)&&(S=l(w,this,m(_),S)),!h(S))return S},o(b,null,v)},C=function(O,A,v){var w=x(v,A-1),_=x(v,A+1);return y(j,O)&&!y(F,_)||y(F,O)&&!y(j,w)?"\\u"+I(k(O,0),16):O};b&&n({target:"JSON",stat:!0,arity:3,forced:z||$},{stringify:function(O,A,v){var w=d(arguments),_=o(z?H:b,null,w);return $&&typeof _=="string"?M(_,B,C):_}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,r,a){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(n){return n!=n}})},{"../internals/export":259}],364:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/object-assign");n({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/symbol-constructor-detection"),o=t("../internals/fails"),l=t("../internals/object-get-own-property-symbols"),s=t("../internals/to-object");n({target:"Object",stat:!0,forced:!i||o(function(){l.f(1)})},{getOwnPropertySymbols:function(c){var f=l.f;return f?f(s(c)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/to-object"),o=t("../internals/object-keys");n({target:"Object",stat:!0,forced:t("../internals/fails")(function(){o(1)})},{keys:function(l){return o(i(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/object-to-array").values;n({target:"Object",stat:!0},{values:function(o){return i(o)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/function-call"),o=t("../internals/a-callable"),l=t("../internals/new-promise-capability"),s=t("../internals/perform"),c=t("../internals/iterate");n({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(f){var h=this,d=l.f(h),p=d.resolve,g=d.reject,m=s(function(){var b=o(h.resolve),y=[],x=0,k=1;c(f,function(M){var I=x++,B=!1;k++,i(b,h,M).then(function(j){B||(B=!0,y[I]=j,--k||p(y))},g)}),--k||p(y)});return m.error&&g(m.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/is-pure"),o=t("../internals/promise-constructor-detection").CONSTRUCTOR,l=t("../internals/promise-native-constructor"),s=t("../internals/get-built-in"),c=t("../internals/is-callable"),f=t("../internals/define-built-in"),h=l&&l.prototype;if(n({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(p){return this.then(void 0,p)}}),!i&&c(l)){var d=s("Promise").prototype.catch;h.catch!==d&&f(h,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,r,a){var n,i,o,l=t("../internals/export"),s=t("../internals/is-pure"),c=t("../internals/engine-is-node"),f=t("../internals/global"),h=t("../internals/function-call"),d=t("../internals/define-built-in"),p=t("../internals/object-set-prototype-of"),g=t("../internals/set-to-string-tag"),m=t("../internals/set-species"),b=t("../internals/a-callable"),y=t("../internals/is-callable"),x=t("../internals/is-object"),k=t("../internals/an-instance"),M=t("../internals/species-constructor"),I=t("../internals/task").set,B=t("../internals/microtask"),j=t("../internals/host-report-errors"),F=t("../internals/perform"),z=t("../internals/queue"),$=t("../internals/internal-state"),H=t("../internals/promise-native-constructor"),C=t("../internals/promise-constructor-detection"),O=t("../internals/new-promise-capability"),A=C.CONSTRUCTOR,v=C.REJECTION_EVENT,w=C.SUBCLASSING,_=$.getterFor("Promise"),S=$.set,T=H&&H.prototype,N=H,L=T,V=f.TypeError,q=f.document,Y=f.process,D=O.f,X=D,P=!!(q&&q.createEvent&&f.dispatchEvent),R=function(nt){var ct;return!(!x(nt)||!y(ct=nt.then))&&ct},U=function(nt,ct){var ot,lt,ut,dt=ct.value,mt=ct.state===1,yt=mt?nt.ok:nt.fail,vt=nt.resolve,_t=nt.reject,Et=nt.domain;try{yt?(mt||(ct.rejection===2&&et(ct),ct.rejection=1),yt===!0?ot=dt:(Et&&Et.enter(),ot=yt(dt),Et&&(Et.exit(),ut=!0)),ot===nt.promise?_t(new V("Promise-chain cycle")):(lt=R(ot))?h(lt,ot,vt,_t):vt(ot)):_t(dt)}catch(Pt){Et&&!ut&&Et.exit(),_t(Pt)}},Z=function(nt,ct){nt.notified||(nt.notified=!0,B(function(){for(var ot,lt=nt.reactions;ot=lt.get();)U(ot,nt);nt.notified=!1,ct&&!nt.rejection&&W(nt)}))},st=function(nt,ct,ot){var lt,ut;P?((lt=q.createEvent("Event")).promise=ct,lt.reason=ot,lt.initEvent(nt,!1,!0),f.dispatchEvent(lt)):lt={promise:ct,reason:ot},!v&&(ut=f["on"+nt])?ut(lt):nt==="unhandledrejection"&&j("Unhandled promise rejection",ot)},W=function(nt){h(I,f,function(){var ct,ot=nt.facade,lt=nt.value;if(G(nt)&&(ct=F(function(){c?Y.emit("unhandledRejection",lt,ot):st("unhandledrejection",ot,lt)}),nt.rejection=c||G(nt)?2:1,ct.error))throw ct.value})},G=function(nt){return nt.rejection!==1&&!nt.parent},et=function(nt){h(I,f,function(){var ct=nt.facade;c?Y.emit("rejectionHandled",ct):st("rejectionhandled",ct,nt.value)})},it=function(nt,ct,ot){return function(lt){nt(ct,lt,ot)}},K=function(nt,ct,ot){nt.done||(nt.done=!0,ot&&(nt=ot),nt.value=ct,nt.state=2,Z(nt,!0))},rt=function(nt,ct,ot){if(!nt.done){nt.done=!0,ot&&(nt=ot);try{if(nt.facade===ct)throw new V("Promise can't be resolved itself");var lt=R(ct);lt?B(function(){var ut={done:!1};try{h(lt,ct,it(rt,ut,nt),it(K,ut,nt))}catch(dt){K(ut,dt,nt)}}):(nt.value=ct,nt.state=1,Z(nt,!1))}catch(ut){K({done:!1},ut,nt)}}};if(A&&(L=(N=function(nt){k(this,L),b(nt),h(n,this);var ct=_(this);try{nt(it(rt,ct),it(K,ct))}catch(ot){K(ct,ot)}}).prototype,(n=function(nt){S(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new z,rejection:!1,state:0,value:void 0})}).prototype=d(L,"then",function(nt,ct){var ot=_(this),lt=D(M(this,N));return ot.parent=!0,lt.ok=!y(nt)||nt,lt.fail=y(ct)&&ct,lt.domain=c?Y.domain:void 0,ot.state===0?ot.reactions.add(lt):B(function(){U(lt,ot)}),lt.promise}),i=function(){var nt=new n,ct=_(nt);this.promise=nt,this.resolve=it(rt,ct),this.reject=it(K,ct)},O.f=D=function(nt){return nt===N||nt===void 0?new i(nt):X(nt)},!s&&y(H)&&T!==Object.prototype)){o=T.then,w||d(T,"then",function(nt,ct){var ot=this;return new N(function(lt,ut){h(o,ot,lt,ut)}).then(nt,ct)},{unsafe:!0});try{delete T.constructor}catch{}p&&p(T,L)}l({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:N}),g(N,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/is-pure"),o=t("../internals/promise-native-constructor"),l=t("../internals/fails"),s=t("../internals/get-built-in"),c=t("../internals/is-callable"),f=t("../internals/species-constructor"),h=t("../internals/promise-resolve"),d=t("../internals/define-built-in"),p=o&&o.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!o&&l(function(){p.finally.call({then:function(){}},function(){})})},{finally:function(m){var b=f(this,s("Promise")),y=c(m);return this.then(y?function(x){return h(b,m()).then(function(){return x})}:m,y?function(x){return h(b,m()).then(function(){throw x})}:m)}}),!i&&c(o)){var g=s("Promise").prototype.finally;p.finally!==g&&d(p,"finally",g,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,r,a){t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/function-call"),o=t("../internals/a-callable"),l=t("../internals/new-promise-capability"),s=t("../internals/perform"),c=t("../internals/iterate");n({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(f){var h=this,d=l.f(h),p=d.reject,g=s(function(){var m=o(h.resolve);c(f,function(b){i(m,h,b).then(d.resolve,p)})});return g.error&&p(g.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/function-call"),o=t("../internals/new-promise-capability");n({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var s=o.f(this);return i(s.reject,void 0,l),s.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/get-built-in"),o=t("../internals/is-pure"),l=t("../internals/promise-native-constructor"),s=t("../internals/promise-constructor-detection").CONSTRUCTOR,c=t("../internals/promise-resolve"),f=i("Promise"),h=o&&!s;n({target:"Promise",stat:!0,forced:o||s},{resolve:function(d){return c(h&&this===f?l:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/function-uncurry-this"),o=t("../internals/to-absolute-index"),l=RangeError,s=String.fromCharCode,c=String.fromCodePoint,f=i([].join);n({target:"String",stat:!0,arity:1,forced:!!c&&c.length!==1},{fromCodePoint:function(h){for(var d,p=[],g=arguments.length,m=0;g>m;){if(d=+arguments[m++],o(d,1114111)!==d)throw new l(d+" is not a valid code point");p[m]=d<65536?s(d):s(55296+((d-=65536)>>10),d%1024+56320)}return f(p,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/function-uncurry-this"),o=t("../internals/not-a-regexp"),l=t("../internals/require-object-coercible"),s=t("../internals/to-string"),c=t("../internals/correct-is-regexp-logic"),f=i("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(h){return!!~f(s(l(this)),s(o(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,r,a){t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/global"),o=t("../internals/function-call"),l=t("../internals/function-uncurry-this"),s=t("../internals/is-pure"),c=t("../internals/descriptors"),f=t("../internals/symbol-constructor-detection"),h=t("../internals/fails"),d=t("../internals/has-own-property"),p=t("../internals/object-is-prototype-of"),g=t("../internals/an-object"),m=t("../internals/to-indexed-object"),b=t("../internals/to-property-key"),y=t("../internals/to-string"),x=t("../internals/create-property-descriptor"),k=t("../internals/object-create"),M=t("../internals/object-keys"),I=t("../internals/object-get-own-property-names"),B=t("../internals/object-get-own-property-names-external"),j=t("../internals/object-get-own-property-symbols"),F=t("../internals/object-get-own-property-descriptor"),z=t("../internals/object-define-property"),$=t("../internals/object-define-properties"),H=t("../internals/object-property-is-enumerable"),C=t("../internals/define-built-in"),O=t("../internals/define-built-in-accessor"),A=t("../internals/shared"),v=t("../internals/shared-key"),w=t("../internals/hidden-keys"),_=t("../internals/uid"),S=t("../internals/well-known-symbol"),T=t("../internals/well-known-symbol-wrapped"),N=t("../internals/well-known-symbol-define"),L=t("../internals/symbol-define-to-primitive"),V=t("../internals/set-to-string-tag"),q=t("../internals/internal-state"),Y=t("../internals/array-iteration").forEach,D=v("hidden"),X=q.set,P=q.getterFor("Symbol"),R=Object.prototype,U=i.Symbol,Z=U&&U.prototype,st=i.RangeError,W=i.TypeError,G=i.QObject,et=F.f,it=z.f,K=B.f,rt=H.f,nt=l([].push),ct=A("symbols"),ot=A("op-symbols"),lt=A("wks"),ut=!G||!G.prototype||!G.prototype.findChild,dt=function(Ot,St,Nt){var Lt=et(R,St);Lt&&delete R[St],it(Ot,St,Nt),Lt&&Ot!==R&&it(R,St,Lt)},mt=c&&h(function(){return k(it({},"a",{get:function(){return it(this,"a",{value:7}).a}})).a!==7})?dt:it,yt=function(Ot,St){var Nt=ct[Ot]=k(Z);return X(Nt,{type:"Symbol",tag:Ot,description:St}),c||(Nt.description=St),Nt},vt=function(Ot,St,Nt){Ot===R&&vt(ot,St,Nt),g(Ot);var Lt=b(St);return g(Nt),d(ct,Lt)?(Nt.enumerable?(d(Ot,D)&&Ot[D][Lt]&&(Ot[D][Lt]=!1),Nt=k(Nt,{enumerable:x(0,!1)})):(d(Ot,D)||it(Ot,D,x(1,{})),Ot[D][Lt]=!0),mt(Ot,Lt,Nt)):it(Ot,Lt,Nt)},_t=function(Ot,St){g(Ot);var Nt=m(St),Lt=M(Nt).concat(Ht(Nt));return Y(Lt,function(It){c&&!o(Et,Nt,It)||vt(Ot,It,Nt[It])}),Ot},Et=function(Ot){var St=b(Ot),Nt=o(rt,this,St);return!(this===R&&d(ct,St)&&!d(ot,St))&&(!(Nt||!d(this,St)||!d(ct,St)||d(this,D)&&this[D][St])||Nt)},Pt=function(Ot,St){var Nt=m(Ot),Lt=b(St);if(Nt!==R||!d(ct,Lt)||d(ot,Lt)){var It=et(Nt,Lt);return!It||!d(ct,Lt)||d(Nt,D)&&Nt[D][Lt]||(It.enumerable=!0),It}},Bt=function(Ot){var St=K(m(Ot)),Nt=[];return Y(St,function(Lt){d(ct,Lt)||d(w,Lt)||nt(Nt,Lt)}),Nt},Ht=function(Ot){var St=Ot===R,Nt=K(St?ot:m(Ot)),Lt=[];return Y(Nt,function(It){!d(ct,It)||St&&!d(R,It)||nt(Lt,ct[It])}),Lt};f||(C(Z=(U=function(){if(p(Z,this))throw new W("Symbol is not a constructor");var Ot=arguments.length&&arguments[0]!==void 0?y(arguments[0]):void 0,St=_(Ot),Nt=function(Lt){this===R&&o(Nt,ot,Lt),d(this,D)&&d(this[D],St)&&(this[D][St]=!1);var It=x(1,Lt);try{mt(this,St,It)}catch(pe){if(!(pe instanceof st))throw pe;dt(this,St,It)}};return c&&ut&&mt(R,St,{configurable:!0,set:Nt}),yt(St,Ot)}).prototype,"toString",function(){return P(this).tag}),C(U,"withoutSetter",function(Ot){return yt(_(Ot),Ot)}),H.f=Et,z.f=vt,$.f=_t,F.f=Pt,I.f=B.f=Bt,j.f=Ht,T.f=function(Ot){return yt(S(Ot),Ot)},c&&(O(Z,"description",{configurable:!0,get:function(){return P(this).description}}),s||C(R,"propertyIsEnumerable",Et,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!f,sham:!f},{Symbol:U}),Y(M(lt),function(Ot){N(Ot)}),n({target:"Symbol",stat:!0,forced:!f},{useSetter:function(){ut=!0},useSimple:function(){ut=!1}}),n({target:"Object",stat:!0,forced:!f,sham:!c},{create:function(Ot,St){return St===void 0?k(Ot):_t(k(Ot),St)},defineProperty:vt,defineProperties:_t,getOwnPropertyDescriptor:Pt}),n({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Bt}),L(),V(U,"Symbol"),w[D]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/get-built-in"),o=t("../internals/has-own-property"),l=t("../internals/to-string"),s=t("../internals/shared"),c=t("../internals/symbol-registry-detection"),f=s("string-to-symbol-registry"),h=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{for:function(d){var p=l(d);if(o(f,p))return f[p];var g=i("Symbol")(p);return f[p]=g,h[g]=p,g}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,r,a){t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,r,a){var n=t("../internals/export"),i=t("../internals/has-own-property"),o=t("../internals/is-symbol"),l=t("../internals/try-to-string"),s=t("../internals/shared"),c=t("../internals/symbol-registry-detection"),f=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{keyFor:function(h){if(!o(h))throw new TypeError(l(h)+" is not a symbol");if(i(f,h))return f[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,r,a){function n(i){return Object.prototype.toString.call(i)}a.isArray=function(i){return Array.isArray?Array.isArray(i):n(i)==="[object Array]"},a.isBoolean=function(i){return typeof i=="boolean"},a.isNull=function(i){return i===null},a.isNullOrUndefined=function(i){return i==null},a.isNumber=function(i){return typeof i=="number"},a.isString=function(i){return typeof i=="string"},a.isSymbol=function(i){return typeof i=="symbol"},a.isUndefined=function(i){return i===void 0},a.isRegExp=function(i){return n(i)==="[object RegExp]"},a.isObject=function(i){return typeof i=="object"&&i!==null},a.isDate=function(i){return n(i)==="[object Date]"},a.isError=function(i){return n(i)==="[object Error]"||i instanceof Error},a.isFunction=function(i){return typeof i=="function"},a.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},a.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,r,a){(function(n){(function(){var i=t("elliptic"),o=t("bn.js");r.exports=function(f){return new s(f)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(f){this.curveType=l[f],this.curveType||(this.curveType={name:f}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function c(f,h,d){Array.isArray(f)||(f=f.toArray());var p=new n(f);if(d&&p.length<d){var g=new n(d-p.length);g.fill(0),p=n.concat([g,p])}return h?p.toString(h):p}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,s.prototype.generateKeys=function(f,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(f,h)},s.prototype.computeSecret=function(f,h,d){return h=h||"utf8",n.isBuffer(f)||(f=new n(f,h)),c(this.curve.keyFromPublic(f).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},s.prototype.getPublicKey=function(f,h){var d=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),c(d,f)},s.prototype.getPrivateKey=function(f){return c(this.keys.getPrivate(),f)},s.prototype.setPublicKey=function(f,h){return h=h||"utf8",n.isBuffer(f)||(f=new n(f,h)),this.keys._importPublic(f),this},s.prototype.setPrivateKey=function(f,h){h=h||"utf8",n.isBuffer(f)||(f=new n(f,h));var d=new o(f);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,r,a){arguments[4][184][0].apply(a,arguments)},{buffer:188,dup:184}],386:[function(t,r,a){var n=t("inherits"),i=t("md5.js"),o=t("ripemd160"),l=t("sha.js"),s=t("cipher-base");function c(f){s.call(this,"digest"),this._hash=f}n(c,s),c.prototype._update=function(f){this._hash.update(f)},c.prototype._final=function(){return this._hash.digest()},r.exports=function(f){return(f=f.toLowerCase())==="md5"?new i:f==="rmd160"||f==="ripemd160"?new o:new c(l(f))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,r,a){var n=t("md5.js");r.exports=function(i){return new n().update(i).digest()}},{"md5.js":450}],388:[function(t,r,a){var n=t("inherits"),i=t("./legacy"),o=t("cipher-base"),l=t("safe-buffer").Buffer,s=t("create-hash/md5"),c=t("ripemd160"),f=t("sha.js"),h=l.alloc(128);function d(p,g){o.call(this,"digest"),typeof g=="string"&&(g=l.from(g));var m=p==="sha512"||p==="sha384"?128:64;this._alg=p,this._key=g,g.length>m?g=(p==="rmd160"?new c:f(p)).update(g).digest():g.length<m&&(g=l.concat([g,h],m));for(var b=this._ipad=l.allocUnsafe(m),y=this._opad=l.allocUnsafe(m),x=0;x<m;x++)b[x]=54^g[x],y[x]=92^g[x];this._hash=p==="rmd160"?new c:f(p),this._hash.update(b)}n(d,o),d.prototype._update=function(p){this._hash.update(p)},d.prototype._final=function(){var p=this._hash.digest();return(this._alg==="rmd160"?new c:f(this._alg)).update(this._opad).update(p).digest()},r.exports=function(p,g){return(p=p.toLowerCase())==="rmd160"||p==="ripemd160"?new d("rmd160",g):p==="md5"?new i(s,g):new d(p,g)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,r,a){var n=t("inherits"),i=t("safe-buffer").Buffer,o=t("cipher-base"),l=i.alloc(128);function s(c,f){o.call(this,"digest"),typeof f=="string"&&(f=i.from(f)),this._alg=c,this._key=f,f.length>64?f=c(f):f.length<64&&(f=i.concat([f,l],64));for(var h=this._ipad=i.allocUnsafe(64),d=this._opad=i.allocUnsafe(64),p=0;p<64;p++)h[p]=54^f[p],d[p]=92^f[p];this._hash=[h]}n(s,o),s.prototype._update=function(c){this._hash.push(c)},s.prototype._final=function(){var c=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,c]))},r.exports=s},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,r,a){a.randomBytes=a.rng=a.pseudoRandomBytes=a.prng=t("randombytes"),a.createHash=a.Hash=t("create-hash"),a.createHmac=a.Hmac=t("create-hmac");var n=t("browserify-sign/algos"),i=Object.keys(n),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);a.getHashes=function(){return o};var l=t("pbkdf2");a.pbkdf2=l.pbkdf2,a.pbkdf2Sync=l.pbkdf2Sync;var s=t("browserify-cipher");a.Cipher=s.Cipher,a.createCipher=s.createCipher,a.Cipheriv=s.Cipheriv,a.createCipheriv=s.createCipheriv,a.Decipher=s.Decipher,a.createDecipher=s.createDecipher,a.Decipheriv=s.Decipheriv,a.createDecipheriv=s.createDecipheriv,a.getCiphers=s.getCiphers,a.listCiphers=s.listCiphers;var c=t("diffie-hellman");a.DiffieHellmanGroup=c.DiffieHellmanGroup,a.createDiffieHellmanGroup=c.createDiffieHellmanGroup,a.getDiffieHellman=c.getDiffieHellman,a.createDiffieHellman=c.createDiffieHellman,a.DiffieHellman=c.DiffieHellman;var f=t("browserify-sign");a.createSign=f.createSign,a.Sign=f.Sign,a.createVerify=f.createVerify,a.Verify=f.Verify,a.createECDH=t("create-ecdh");var h=t("public-encrypt");a.publicEncrypt=h.publicEncrypt,a.privateEncrypt=h.privateEncrypt,a.publicDecrypt=h.publicDecrypt,a.privateDecrypt=h.privateDecrypt;var d=t("randomfill");a.randomFill=d.randomFill,a.randomFillSync=d.randomFillSync,a.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},a.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,r,a){(function(n,i){typeof a=="object"&&r!==void 0?r.exports=i():(n=typeof globalThis<"u"?globalThis:n||self).dayjs=i()})(void 0,function(){var n=6e4,i=36e5,o="millisecond",l="second",s="minute",c="hour",f="day",h="week",d="month",p="quarter",g="year",m="date",b="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var w=["th","st","nd","rd"],_=v%100;return"["+v+(w[(_-20)%10]||w[_]||w[0])+"]"}},M=function(v,w,_){var S=String(v);return!S||S.length>=w?v:""+Array(w+1-S.length).join(_)+v},I={s:M,z:function(v){var w=-v.utcOffset(),_=Math.abs(w),S=Math.floor(_/60),T=_%60;return(w<=0?"+":"-")+M(S,2,"0")+":"+M(T,2,"0")},m:function v(w,_){if(w.date()<_.date())return-v(_,w);var S=12*(_.year()-w.year())+(_.month()-w.month()),T=w.clone().add(S,d),N=_-T<0,L=w.clone().add(S+(N?-1:1),d);return+(-(S+(_-T)/(N?T-L:L-T))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:d,y:g,w:h,d:f,D:m,h:c,m:s,s:l,ms:o,Q:p}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},B="en",j={};j[B]=k;var F="$isDayjsObject",z=function(v){return v instanceof O||!(!v||!v[F])},$=function v(w,_,S){var T;if(!w)return B;if(typeof w=="string"){var N=w.toLowerCase();j[N]&&(T=N),_&&(j[N]=_,T=N);var L=w.split("-");if(!T&&L.length>1)return v(L[0])}else{var V=w.name;j[V]=w,T=V}return!S&&T&&(B=T),T||!S&&B},H=function(v,w){if(z(v))return v.clone();var _=typeof w=="object"?w:{};return _.date=v,_.args=arguments,new O(_)},C=I;C.l=$,C.i=z,C.w=function(v,w){return H(v,{locale:w.$L,utc:w.$u,x:w.$x,$offset:w.$offset})};var O=function(){function v(_){this.$L=$(_.locale,null,!0),this.parse(_),this.$x=this.$x||_.x||{},this[F]=!0}var w=v.prototype;return w.parse=function(_){this.$d=function(S){var T=S.date,N=S.utc;if(T===null)return new Date(NaN);if(C.u(T))return new Date;if(T instanceof Date)return new Date(T);if(typeof T=="string"&&!/Z$/i.test(T)){var L=T.match(y);if(L){var V=L[2]-1||0,q=(L[7]||"0").substring(0,3);return N?new Date(Date.UTC(L[1],V,L[3]||1,L[4]||0,L[5]||0,L[6]||0,q)):new Date(L[1],V,L[3]||1,L[4]||0,L[5]||0,L[6]||0,q)}}return new Date(T)}(_),this.init()},w.init=function(){var _=this.$d;this.$y=_.getFullYear(),this.$M=_.getMonth(),this.$D=_.getDate(),this.$W=_.getDay(),this.$H=_.getHours(),this.$m=_.getMinutes(),this.$s=_.getSeconds(),this.$ms=_.getMilliseconds()},w.$utils=function(){return C},w.isValid=function(){return this.$d.toString()!==b},w.isSame=function(_,S){var T=H(_);return this.startOf(S)<=T&&T<=this.endOf(S)},w.isAfter=function(_,S){return H(_)<this.startOf(S)},w.isBefore=function(_,S){return this.endOf(S)<H(_)},w.$g=function(_,S,T){return C.u(_)?this[S]:this.set(T,_)},w.unix=function(){return Math.floor(this.valueOf()/1e3)},w.valueOf=function(){return this.$d.getTime()},w.startOf=function(_,S){var T=this,N=!!C.u(S)||S,L=C.p(_),V=function(Z,st){var W=C.w(T.$u?Date.UTC(T.$y,st,Z):new Date(T.$y,st,Z),T);return N?W:W.endOf(f)},q=function(Z,st){return C.w(T.toDate()[Z].apply(T.toDate("s"),(N?[0,0,0,0]:[23,59,59,999]).slice(st)),T)},Y=this.$W,D=this.$M,X=this.$D,P="set"+(this.$u?"UTC":"");switch(L){case g:return N?V(1,0):V(31,11);case d:return N?V(1,D):V(0,D+1);case h:var R=this.$locale().weekStart||0,U=(Y<R?Y+7:Y)-R;return V(N?X-U:X+(6-U),D);case f:case m:return q(P+"Hours",0);case c:return q(P+"Minutes",1);case s:return q(P+"Seconds",2);case l:return q(P+"Milliseconds",3);default:return this.clone()}},w.endOf=function(_){return this.startOf(_,!1)},w.$set=function(_,S){var T,N=C.p(_),L="set"+(this.$u?"UTC":""),V=(T={},T[f]=L+"Date",T[m]=L+"Date",T[d]=L+"Month",T[g]=L+"FullYear",T[c]=L+"Hours",T[s]=L+"Minutes",T[l]=L+"Seconds",T[o]=L+"Milliseconds",T)[N],q=N===f?this.$D+(S-this.$W):S;if(N===d||N===g){var Y=this.clone().set(m,1);Y.$d[V](q),Y.init(),this.$d=Y.set(m,Math.min(this.$D,Y.daysInMonth())).$d}else V&&this.$d[V](q);return this.init(),this},w.set=function(_,S){return this.clone().$set(_,S)},w.get=function(_){return this[C.p(_)]()},w.add=function(_,S){var T,N=this;_=Number(_);var L=C.p(S),V=function(D){var X=H(N);return C.w(X.date(X.date()+Math.round(D*_)),N)};if(L===d)return this.set(d,this.$M+_);if(L===g)return this.set(g,this.$y+_);if(L===f)return V(1);if(L===h)return V(7);var q=(T={},T[s]=n,T[c]=i,T[l]=1e3,T)[L]||1,Y=this.$d.getTime()+_*q;return C.w(Y,this)},w.subtract=function(_,S){return this.add(-1*_,S)},w.format=function(_){var S=this,T=this.$locale();if(!this.isValid())return T.invalidDate||b;var N=_||"YYYY-MM-DDTHH:mm:ssZ",L=C.z(this),V=this.$H,q=this.$m,Y=this.$M,D=T.weekdays,X=T.months,P=T.meridiem,R=function(st,W,G,et){return st&&(st[W]||st(S,N))||G[W].slice(0,et)},U=function(st){return C.s(V%12||12,st,"0")},Z=P||function(st,W,G){var et=st<12?"AM":"PM";return G?et.toLowerCase():et};return N.replace(x,function(st,W){return W||function(G){switch(G){case"YY":return String(S.$y).slice(-2);case"YYYY":return C.s(S.$y,4,"0");case"M":return Y+1;case"MM":return C.s(Y+1,2,"0");case"MMM":return R(T.monthsShort,Y,X,3);case"MMMM":return R(X,Y);case"D":return S.$D;case"DD":return C.s(S.$D,2,"0");case"d":return String(S.$W);case"dd":return R(T.weekdaysMin,S.$W,D,2);case"ddd":return R(T.weekdaysShort,S.$W,D,3);case"dddd":return D[S.$W];case"H":return String(V);case"HH":return C.s(V,2,"0");case"h":return U(1);case"hh":return U(2);case"a":return Z(V,q,!0);case"A":return Z(V,q,!1);case"m":return String(q);case"mm":return C.s(q,2,"0");case"s":return String(S.$s);case"ss":return C.s(S.$s,2,"0");case"SSS":return C.s(S.$ms,3,"0");case"Z":return L}return null}(st)||L.replace(":","")})},w.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},w.diff=function(_,S,T){var N,L=this,V=C.p(S),q=H(_),Y=(q.utcOffset()-this.utcOffset())*n,D=this-q,X=function(){return C.m(L,q)};switch(V){case g:N=X()/12;break;case d:N=X();break;case p:N=X()/3;break;case h:N=(D-Y)/6048e5;break;case f:N=(D-Y)/864e5;break;case c:N=D/i;break;case s:N=D/n;break;case l:N=D/1e3;break;default:N=D}return T?N:C.a(N)},w.daysInMonth=function(){return this.endOf(d).$D},w.$locale=function(){return j[this.$L]},w.locale=function(_,S){if(!_)return this.$L;var T=this.clone(),N=$(_,S,!0);return N&&(T.$L=N),T},w.clone=function(){return C.w(this.$d,this)},w.toDate=function(){return new Date(this.valueOf())},w.toJSON=function(){return this.isValid()?this.toISOString():null},w.toISOString=function(){return this.$d.toISOString()},w.toString=function(){return this.$d.toUTCString()},v}(),A=O.prototype;return H.prototype=A,[["$ms",o],["$s",l],["$m",s],["$H",c],["$W",f],["$M",d],["$y",g],["$D",m]].forEach(function(v){A[v[1]]=function(w){return this.$g(w,v[0],v[1])}}),H.extend=function(v,w){return v.$i||(v(w,O,H),v.$i=!0),H},H.locale=$,H.isDayjs=z,H.unix=function(v){return H(1e3*v)},H.en=j[B],H.Ls=j,H.p={},H})},{}],392:[function(t,r,a){(function(n,i){typeof a=="object"&&r!==void 0?r.exports=i():(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_customParseFormat=i()})(void 0,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,l=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,c={},f=function(y){return(y=+y)+(y>68?1900:2e3)},h=function(y){return function(x){this[y]=+x}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(x){if(!x||x==="Z")return 0;var k=x.match(/([+-]|\d\d)/g),M=60*k[1]+(+k[2]||0);return M===0?0:k[0]==="+"?-M:M}(y)}],p=function(y){var x=c[y];return x&&(x.indexOf?x:x.s.concat(x.f))},g=function(y,x){var k,M=c.meridiem;if(M){for(var I=1;I<=24;I+=1)if(y.indexOf(M(I,0,x))>-1){k=I>12;break}}else k=y===(x?"pm":"PM");return k},m={A:[s,function(y){this.afternoon=g(y,!1)}],a:[s,function(y){this.afternoon=g(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[o,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[l,h("seconds")],ss:[l,h("seconds")],m:[l,h("minutes")],mm:[l,h("minutes")],H:[l,h("hours")],h:[l,h("hours")],HH:[l,h("hours")],hh:[l,h("hours")],D:[l,h("day")],DD:[o,h("day")],Do:[s,function(y){var x=c.ordinal,k=y.match(/\d+/);if(this.day=k[0],x)for(var M=1;M<=31;M+=1)x(M).replace(/\[|\]/g,"")===y&&(this.day=M)}],M:[l,h("month")],MM:[o,h("month")],MMM:[s,function(y){var x=p("months"),k=(p("monthsShort")||x.map(function(M){return M.slice(0,3)})).indexOf(y)+1;if(k<1)throw new Error;this.month=k%12||k}],MMMM:[s,function(y){var x=p("months").indexOf(y)+1;if(x<1)throw new Error;this.month=x%12||x}],Y:[/[+-]?\d+/,h("year")],YY:[o,function(y){this.year=f(y)}],YYYY:[/\d{4}/,h("year")],Z:d,ZZ:d};function b(y){var x,k;x=y,k=c&&c.formats;for(var M=(y=x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(H,C,O){var A=O&&O.toUpperCase();return C||k[O]||n[O]||k[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,w,_){return w||_.slice(1)})})).match(i),I=M.length,B=0;B<I;B+=1){var j=M[B],F=m[j],z=F&&F[0],$=F&&F[1];M[B]=$?{regex:z,parser:$}:j.replace(/^\[|\]$/g,"")}return function(H){for(var C={},O=0,A=0;O<I;O+=1){var v=M[O];if(typeof v=="string")A+=v.length;else{var w=v.regex,_=v.parser,S=H.slice(A),T=w.exec(S)[0];_.call(C,T),H=H.replace(T,"")}}return function(N){var L=N.afternoon;if(L!==void 0){var V=N.hours;L?V<12&&(N.hours+=12):V===12&&(N.hours=0),delete N.afternoon}}(C),C}}return function(y,x,k){k.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(f=y.parseTwoDigitYear);var M=x.prototype,I=M.parse;M.parse=function(B){var j=B.date,F=B.utc,z=B.args;this.$u=F;var $=z[1];if(typeof $=="string"){var H=z[2]===!0,C=z[3]===!0,O=H||C,A=z[2];C&&(A=z[2]),c=this.$locale(),!H&&A&&(c=k.Ls[A]),this.$d=function(S,T,N){try{if(["x","X"].indexOf(T)>-1)return new Date((T==="X"?1e3:1)*S);var L=b(T)(S),V=L.year,q=L.month,Y=L.day,D=L.hours,X=L.minutes,P=L.seconds,R=L.milliseconds,U=L.zone,Z=new Date,st=Y||(V||q?1:Z.getDate()),W=V||Z.getFullYear(),G=0;V&&!q||(G=q>0?q-1:Z.getMonth());var et=D||0,it=X||0,K=P||0,rt=R||0;return U?new Date(Date.UTC(W,G,st,et,it,K,rt+60*U.offset*1e3)):N?new Date(Date.UTC(W,G,st,et,it,K,rt)):new Date(W,G,st,et,it,K,rt)}catch{return new Date("")}}(j,$,F),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),O&&j!=this.format($)&&(this.$d=new Date("")),c={}}else if($ instanceof Array)for(var v=$.length,w=1;w<=v;w+=1){z[1]=$[w-1];var _=k.apply(this,z);if(_.isValid()){this.$d=_.$d,this.$L=_.$L,this.init();break}w===v&&(this.$d=new Date(""))}else I.call(this,B)}}})},{}],393:[function(t,r,a){(function(n,i){typeof a=="object"&&r!==void 0?r.exports=i():(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_utc=i()})(void 0,function(){var n="minute",i=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(l,s,c){var f=s.prototype;c.utc=function(y){var x={date:y,utc:!0,args:arguments};return new s(x)},f.utc=function(y){var x=c(this.toDate(),{locale:this.$L,utc:!0});return y?x.add(this.utcOffset(),n):x},f.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var h=f.parse;f.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),h.call(this,y)};var d=f.init;f.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else d.call(this)};var p=f.utcOffset;f.utcOffset=function(y,x){var k=this.$utils().u;if(k(y))return this.$u?0:k(this.$offset)?p.call(this):this.$offset;if(typeof y=="string"&&(y=function(j){j===void 0&&(j="");var F=j.match(i);if(!F)return null;var z=(""+F[0]).match(o)||["-",0,0],$=z[0],H=60*+z[1]+ +z[2];return H===0?0:$==="+"?H:-H}(y))===null)return this;var M=Math.abs(y)<=16?60*y:y,I=this;if(x)return I.$offset=M,I.$u=y===0,I;if(y!==0){var B=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(I=this.local().add(M+B,n)).$offset=M,I.$x.$localOffset=B}else I=this.utc();return I};var g=f.format;f.format=function(y){var x=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,x)},f.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var m=f.toDate;f.toDate=function(y){return y==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var b=f.diff;f.diff=function(y,x,k){if(y&&this.$u===y.$u)return b.call(this,y,x,k);var M=this.local(),I=c(y).local();return b.call(M,I,x,k)}}})},{}],394:[function(t,r,a){a.utils=t("./des/utils"),a.Cipher=t("./des/cipher"),a.DES=t("./des/des"),a.CBC=t("./des/cbc"),a.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,r,a){var n=t("minimalistic-assert"),i=t("inherits"),o={};function l(s){n.equal(s.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=s[c]}a.instantiate=function(s){function c(p){s.call(this,p),this._cbcInit()}i(c,s);for(var f=Object.keys(o),h=0;h<f.length;h++){var d=f[h];c.prototype[d]=o[d]}return c.create=function(p){return new c(p)},c},o._cbcInit=function(){var s=new l(this.options.iv);this._cbcState=s},o._update=function(s,c,f,h){var d=this._cbcState,p=this.constructor.super_.prototype,g=d.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)g[m]^=s[c+m];for(p._update.call(this,g,0,f,h),m=0;m<this.blockSize;m++)g[m]=f[h+m]}else{for(p._update.call(this,s,c,f,h),m=0;m<this.blockSize;m++)f[h+m]^=g[m];for(m=0;m<this.blockSize;m++)g[m]=s[c+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,r,a){var n=t("minimalistic-assert");function i(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}r.exports=i,i.prototype._init=function(){},i.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},i.prototype._buffer=function(o,l){for(var s=Math.min(this.buffer.length-this.bufferOff,o.length-l),c=0;c<s;c++)this.buffer[this.bufferOff+c]=o[l+c];return this.bufferOff+=s,s},i.prototype._flushBuffer=function(o,l){return this._update(this.buffer,0,o,l),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(o){var l=0,s=0,c=(this.bufferOff+o.length)/this.blockSize|0,f=new Array(c*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(o,l),this.bufferOff===this.buffer.length&&(s+=this._flushBuffer(f,s)));for(var h=o.length-(o.length-l)%this.blockSize;l<h;l+=this.blockSize)this._update(o,l,f,s),s+=this.blockSize;for(;l<o.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=o[l];return f},i.prototype._updateDecrypt=function(o){for(var l=0,s=0,c=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,f=new Array(c*this.blockSize);c>0;c--)l+=this._buffer(o,l),s+=this._flushBuffer(f,s);return l+=this._buffer(o,l),f},i.prototype.final=function(o){var l,s;return o&&(l=this.update(o)),s=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(s):s},i.prototype._pad=function(o,l){if(l===0)return!1;for(;l<o.length;)o[l++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},i.prototype._unpad=function(o){return o},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)}},{"minimalistic-assert":453}],397:[function(t,r,a){var n=t("minimalistic-assert"),i=t("inherits"),o=t("./utils"),l=t("./cipher");function s(){this.tmp=new Array(2),this.keys=null}function c(h){l.call(this,h);var d=new s;this._desState=d,this.deriveKeys(d,h.key)}i(c,l),r.exports=c,c.create=function(h){return new c(h)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(h,d){h.keys=new Array(32),n.equal(d.length,this.blockSize,"Invalid key length");var p=o.readUInt32BE(d,0),g=o.readUInt32BE(d,4);o.pc1(p,g,h.tmp,0),p=h.tmp[0],g=h.tmp[1];for(var m=0;m<h.keys.length;m+=2){var b=f[m>>>1];p=o.r28shl(p,b),g=o.r28shl(g,b),o.pc2(p,g,h.keys,m)}},c.prototype._update=function(h,d,p,g){var m=this._desState,b=o.readUInt32BE(h,d),y=o.readUInt32BE(h,d+4);o.ip(b,y,m.tmp,0),b=m.tmp[0],y=m.tmp[1],this.type==="encrypt"?this._encrypt(m,b,y,m.tmp,0):this._decrypt(m,b,y,m.tmp,0),b=m.tmp[0],y=m.tmp[1],o.writeUInt32BE(p,b,g),o.writeUInt32BE(p,y,g+4)},c.prototype._pad=function(h,d){if(this.padding===!1)return!1;for(var p=h.length-d,g=d;g<h.length;g++)h[g]=p;return!0},c.prototype._unpad=function(h){if(this.padding===!1)return h;for(var d=h[h.length-1],p=h.length-d;p<h.length;p++)n.equal(h[p],d);return h.slice(0,h.length-d)},c.prototype._encrypt=function(h,d,p,g,m){for(var b=d,y=p,x=0;x<h.keys.length;x+=2){var k=h.keys[x],M=h.keys[x+1];o.expand(y,h.tmp,0),k^=h.tmp[0],M^=h.tmp[1];var I=o.substitute(k,M),B=y;y=(b^o.permute(I))>>>0,b=B}o.rip(y,b,g,m)},c.prototype._decrypt=function(h,d,p,g,m){for(var b=p,y=d,x=h.keys.length-2;x>=0;x-=2){var k=h.keys[x],M=h.keys[x+1];o.expand(b,h.tmp,0),k^=h.tmp[0],M^=h.tmp[1];var I=o.substitute(k,M),B=b;b=(y^o.permute(I))>>>0,y=B}o.rip(b,y,g,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,r,a){var n=t("minimalistic-assert"),i=t("inherits"),o=t("./cipher"),l=t("./des");function s(f,h){n.equal(h.length,24,"Invalid key length");var d=h.slice(0,8),p=h.slice(8,16),g=h.slice(16,24);this.ciphers=f==="encrypt"?[l.create({type:"encrypt",key:d}),l.create({type:"decrypt",key:p}),l.create({type:"encrypt",key:g})]:[l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:p}),l.create({type:"decrypt",key:d})]}function c(f){o.call(this,f);var h=new s(this.type,this.options.key);this._edeState=h}i(c,o),r.exports=c,c.create=function(f){return new c(f)},c.prototype._update=function(f,h,d,p){var g=this._edeState;g.ciphers[0]._update(f,h,d,p),g.ciphers[1]._update(d,p,d,p),g.ciphers[2]._update(d,p,d,p)},c.prototype._pad=l.prototype._pad,c.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,r,a){a.readUInt32BE=function(l,s){return(l[0+s]<<24|l[1+s]<<16|l[2+s]<<8|l[3+s])>>>0},a.writeUInt32BE=function(l,s,c){l[0+c]=s>>>24,l[1+c]=s>>>16&255,l[2+c]=s>>>8&255,l[3+c]=255&s},a.ip=function(l,s,c,f){for(var h=0,d=0,p=6;p>=0;p-=2){for(var g=0;g<=24;g+=8)h<<=1,h|=s>>>g+p&1;for(g=0;g<=24;g+=8)h<<=1,h|=l>>>g+p&1}for(p=6;p>=0;p-=2){for(g=1;g<=25;g+=8)d<<=1,d|=s>>>g+p&1;for(g=1;g<=25;g+=8)d<<=1,d|=l>>>g+p&1}c[f+0]=h>>>0,c[f+1]=d>>>0},a.rip=function(l,s,c,f){for(var h=0,d=0,p=0;p<4;p++)for(var g=24;g>=0;g-=8)h<<=1,h|=s>>>g+p&1,h<<=1,h|=l>>>g+p&1;for(p=4;p<8;p++)for(g=24;g>=0;g-=8)d<<=1,d|=s>>>g+p&1,d<<=1,d|=l>>>g+p&1;c[f+0]=h>>>0,c[f+1]=d>>>0},a.pc1=function(l,s,c,f){for(var h=0,d=0,p=7;p>=5;p--){for(var g=0;g<=24;g+=8)h<<=1,h|=s>>g+p&1;for(g=0;g<=24;g+=8)h<<=1,h|=l>>g+p&1}for(g=0;g<=24;g+=8)h<<=1,h|=s>>g+p&1;for(p=1;p<=3;p++){for(g=0;g<=24;g+=8)d<<=1,d|=s>>g+p&1;for(g=0;g<=24;g+=8)d<<=1,d|=l>>g+p&1}for(g=0;g<=24;g+=8)d<<=1,d|=l>>g+p&1;c[f+0]=h>>>0,c[f+1]=d>>>0},a.r28shl=function(l,s){return l<<s&268435455|l>>>28-s};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];a.pc2=function(l,s,c,f){for(var h=0,d=0,p=n.length>>>1,g=0;g<p;g++)h<<=1,h|=l>>>n[g]&1;for(g=p;g<n.length;g++)d<<=1,d|=s>>>n[g]&1;c[f+0]=h>>>0,c[f+1]=d>>>0},a.expand=function(l,s,c){var f=0,h=0;f=(1&l)<<5|l>>>27;for(var d=23;d>=15;d-=4)f<<=6,f|=l>>>d&63;for(d=11;d>=3;d-=4)h|=l>>>d&63,h<<=6;h|=(31&l)<<1|l>>>31,s[c+0]=f>>>0,s[c+1]=h>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];a.substitute=function(l,s){for(var c=0,f=0;f<4;f++)c<<=4,c|=i[64*f+(l>>>18-6*f&63)];for(f=0;f<4;f++)c<<=4,c|=i[256+64*f+(s>>>18-6*f&63)];return c>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];a.permute=function(l){for(var s=0,c=0;c<o.length;c++)s<<=1,s|=l>>>o[c]&1;return s>>>0},a.padSplit=function(l,s,c){for(var f=l.toString(2);f.length<s;)f="0"+f;for(var h=[],d=0;d<s;d+=c)h.push(f.slice(d,d+c));return h.join(" ")}},{}],400:[function(t,r,a){(function(n){(function(){var i=t("./lib/generatePrime"),o=t("./lib/primes.json"),l=t("./lib/dh"),s={binary:!0,hex:!0,base64:!0};a.DiffieHellmanGroup=a.createDiffieHellmanGroup=a.getDiffieHellman=function(c){var f=new n(o[c].prime,"hex"),h=new n(o[c].gen,"hex");return new l(f,h)},a.createDiffieHellman=a.DiffieHellman=function c(f,h,d,p){return n.isBuffer(h)||s[h]===void 0?c(f,"binary",h,d):(h=h||"binary",p=p||"binary",d=d||new n([2]),n.isBuffer(d)||(d=new n(d,p)),typeof f=="number"?new l(i(f,d),d,!0):(n.isBuffer(f)||(f=new n(f,h)),new l(f,d,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,r,a){(function(n){(function(){var i=t("bn.js"),o=new(t("miller-rabin")),l=new i(24),s=new i(11),c=new i(10),f=new i(3),h=new i(7),d=t("./generatePrime"),p=t("randombytes");function g(k,M){return M=M||"utf8",n.isBuffer(k)||(k=new n(k,M)),this._pub=new i(k),this}function m(k,M){return M=M||"utf8",n.isBuffer(k)||(k=new n(k,M)),this._priv=new i(k),this}r.exports=y;var b={};function y(k,M,I){this.setGenerator(M),this.__prime=new i(k),this._prime=i.mont(this.__prime),this._primeLen=k.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,I?(this.setPublicKey=g,this.setPrivateKey=m):this._primeCode=8}function x(k,M){var I=new n(k.toArray());return M?I.toString(M):I}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(k,M){var I=M.toString("hex"),B=[I,k.toString(16)].join("_");if(B in b)return b[B];var j,F=0;if(k.isEven()||!d.simpleSieve||!d.fermatTest(k)||!o.test(k))return F+=1,F+=I==="02"||I==="05"?8:4,b[B]=F,F;switch(o.test(k.shrn(1))||(F+=2),I){case"02":k.mod(l).cmp(s)&&(F+=8);break;case"05":(j=k.mod(c)).cmp(f)&&j.cmp(h)&&(F+=8);break;default:F+=4}return b[B]=F,F}(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new i(p(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(k){var M=(k=(k=new i(k)).toRed(this._prime)).redPow(this._priv).fromRed(),I=new n(M.toArray()),B=this.getPrime();if(I.length<B.length){var j=new n(B.length-I.length);j.fill(0),I=n.concat([j,I])}return I},y.prototype.getPublicKey=function(k){return x(this._pub,k)},y.prototype.getPrivateKey=function(k){return x(this._priv,k)},y.prototype.getPrime=function(k){return x(this.__prime,k)},y.prototype.getGenerator=function(k){return x(this._gen,k)},y.prototype.setGenerator=function(k,M){return M=M||"utf8",n.isBuffer(k)||(k=new n(k,M)),this.__gen=k,this._gen=new i(k),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,r,a){var n=t("randombytes");r.exports=k,k.simpleSieve=y,k.fermatTest=x;var i=t("bn.js"),o=new i(24),l=new(t("miller-rabin")),s=new i(1),c=new i(2),f=new i(5),h=(new i(16),new i(8),new i(10)),d=new i(3),p=(new i(7),new i(11)),g=new i(4),m=(new i(12),null);function b(){if(m!==null)return m;var M=[];M[0]=2;for(var I=1,B=3;B<1048576;B+=2){for(var j=Math.ceil(Math.sqrt(B)),F=0;F<I&&M[F]<=j&&B%M[F]!=0;F++);I!==F&&M[F]<=j||(M[I++]=B)}return m=M,M}function y(M){for(var I=b(),B=0;B<I.length;B++)if(M.modn(I[B])===0)return M.cmpn(I[B])===0;return!0}function x(M){var I=i.mont(M);return c.toRed(I).redPow(M.subn(1)).fromRed().cmpn(1)===0}function k(M,I){if(M<16)return new i(I===2||I===5?[140,123]:[140,39]);var B,j;for(I=new i(I);;){for(B=new i(n(Math.ceil(M/8)));B.bitLength()>M;)B.ishrn(1);if(B.isEven()&&B.iadd(s),B.testn(1)||B.iadd(c),I.cmp(c)){if(!I.cmp(f))for(;B.mod(h).cmp(d);)B.iadd(g)}else for(;B.mod(o).cmp(p);)B.iadd(g);if(y(j=B.shrn(1))&&y(B)&&x(j)&&x(B)&&l.test(j)&&l.test(B))return B}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,r,a){r.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,r,a){arguments[4][184][0].apply(a,arguments)},{buffer:188,dup:184}],405:[function(t,r,a){var n=a;n.version=t("../package.json").version,n.utils=t("./elliptic/utils"),n.rand=t("brorand"),n.curve=t("./elliptic/curve"),n.curves=t("./elliptic/curves"),n.ec=t("./elliptic/ec"),n.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,r,a){var n=t("bn.js"),i=t("../utils"),o=i.getNAF,l=i.getJSF,s=i.assert;function c(h,d){this.type=h,this.p=new n(d.p,16),this.red=d.prime?n.red(d.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=d.n&&new n(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var p=this.n&&this.p.div(this.n);!p||p.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(h,d){this.curve=h,this.type=d,this.precomputed=null}r.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(h,d){s(h.precomputed);var p=h._getDoubles(),g=o(d,1,this._bitLength),m=(1<<p.step+1)-(p.step%2==0?2:1);m/=3;var b,y,x=[];for(b=0;b<g.length;b+=p.step){y=0;for(var k=b+p.step-1;k>=b;k--)y=(y<<1)+g[k];x.push(y)}for(var M=this.jpoint(null,null,null),I=this.jpoint(null,null,null),B=m;B>0;B--){for(b=0;b<x.length;b++)(y=x[b])===B?I=I.mixedAdd(p.points[b]):y===-B&&(I=I.mixedAdd(p.points[b].neg()));M=M.add(I)}return M.toP()},c.prototype._wnafMul=function(h,d){var p=4,g=h._getNAFPoints(p);p=g.wnd;for(var m=g.points,b=o(d,p,this._bitLength),y=this.jpoint(null,null,null),x=b.length-1;x>=0;x--){for(var k=0;x>=0&&b[x]===0;x--)k++;if(x>=0&&k++,y=y.dblp(k),x<0)break;var M=b[x];s(M!==0),y=h.type==="affine"?M>0?y.mixedAdd(m[M-1>>1]):y.mixedAdd(m[-M-1>>1].neg()):M>0?y.add(m[M-1>>1]):y.add(m[-M-1>>1].neg())}return h.type==="affine"?y.toP():y},c.prototype._wnafMulAdd=function(h,d,p,g,m){var b,y,x,k=this._wnafT1,M=this._wnafT2,I=this._wnafT3,B=0;for(b=0;b<g;b++){var j=(x=d[b])._getNAFPoints(h);k[b]=j.wnd,M[b]=j.points}for(b=g-1;b>=1;b-=2){var F=b-1,z=b;if(k[F]===1&&k[z]===1){var $=[d[F],null,null,d[z]];d[F].y.cmp(d[z].y)===0?($[1]=d[F].add(d[z]),$[2]=d[F].toJ().mixedAdd(d[z].neg())):d[F].y.cmp(d[z].y.redNeg())===0?($[1]=d[F].toJ().mixedAdd(d[z]),$[2]=d[F].add(d[z].neg())):($[1]=d[F].toJ().mixedAdd(d[z]),$[2]=d[F].toJ().mixedAdd(d[z].neg()));var H=[-3,-1,-5,-7,0,7,5,1,3],C=l(p[F],p[z]);for(B=Math.max(C[0].length,B),I[F]=new Array(B),I[z]=new Array(B),y=0;y<B;y++){var O=0|C[0][y],A=0|C[1][y];I[F][y]=H[3*(O+1)+(A+1)],I[z][y]=0,M[F]=$}}else I[F]=o(p[F],k[F],this._bitLength),I[z]=o(p[z],k[z],this._bitLength),B=Math.max(I[F].length,B),B=Math.max(I[z].length,B)}var v=this.jpoint(null,null,null),w=this._wnafT4;for(b=B;b>=0;b--){for(var _=0;b>=0;){var S=!0;for(y=0;y<g;y++)w[y]=0|I[y][b],w[y]!==0&&(S=!1);if(!S)break;_++,b--}if(b>=0&&_++,v=v.dblp(_),b<0)break;for(y=0;y<g;y++){var T=w[y];T!==0&&(T>0?x=M[y][T-1>>1]:T<0&&(x=M[y][-T-1>>1].neg()),v=x.type==="affine"?v.mixedAdd(x):v.add(x))}}for(b=0;b<g;b++)M[b]=null;return m?v:v.toP()},c.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(h,d){h=i.toArray(h,d);var p=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*p)return h[0]===6?s(h[h.length-1]%2==0):h[0]===7&&s(h[h.length-1]%2==1),this.point(h.slice(1,1+p),h.slice(1+p,1+2*p));if((h[0]===2||h[0]===3)&&h.length-1===p)return this.pointFromX(h.slice(1,1+p),h[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(h){return this.encode(h,!0)},f.prototype._encode=function(h){var d=this.curve.p.byteLength(),p=this.getX().toArray("be",d);return h?[this.getY().isEven()?2:3].concat(p):[4].concat(p,this.getY().toArray("be",d))},f.prototype.encode=function(h,d){return i.encode(this._encode(d),h)},f.prototype.precompute=function(h){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,h),d.beta=this._getBeta(),this.precomputed=d,this},f.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((h.bitLength()+1)/d.step)},f.prototype._getDoubles=function(h,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var p=[this],g=this,m=0;m<d;m+=h){for(var b=0;b<h;b++)g=g.dbl();p.push(g)}return{step:h,points:p}},f.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],p=(1<<h)-1,g=p===1?null:this.dbl(),m=1;m<p;m++)d[m]=d[m-1].add(g);return{wnd:h,points:d}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(h){for(var d=this,p=0;p<h;p++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(t,r,a){var n=t("../utils"),i=t("bn.js"),o=t("inherits"),l=t("./base"),s=n.assert;function c(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",h),this.a=new i(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function f(h,d,p,g,m){l.BasePoint.call(this,h,"projective"),d===null&&p===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(d,16),this.y=new i(p,16),this.z=g?new i(g,16):this.curve.one,this.t=m&&new i(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,l),r.exports=c,c.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},c.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},c.prototype.jpoint=function(h,d,p,g){return this.point(h,d,p,g)},c.prototype.pointFromX=function(h,d){(h=new i(h,16)).red||(h=h.toRed(this.red));var p=h.redSqr(),g=this.c2.redSub(this.a.redMul(p)),m=this.one.redSub(this.c2.redMul(this.d).redMul(p)),b=g.redMul(m.redInvm()),y=b.redSqrt();if(y.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var x=y.fromRed().isOdd();return(d&&!x||!d&&x)&&(y=y.redNeg()),this.point(h,y)},c.prototype.pointFromY=function(h,d){(h=new i(h,16)).red||(h=h.toRed(this.red));var p=h.redSqr(),g=p.redSub(this.c2),m=p.redMul(this.d).redMul(this.c2).redSub(this.a),b=g.redMul(m.redInvm());if(b.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,h)}var y=b.redSqrt();if(y.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==d&&(y=y.redNeg()),this.point(y,h)},c.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var d=h.x.redSqr(),p=h.y.redSqr(),g=d.redMul(this.a).redAdd(p),m=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(p)));return g.cmp(m)===0},o(f,l.BasePoint),c.prototype.pointFromJSON=function(h){return f.fromJSON(this,h)},c.prototype.point=function(h,d,p,g){return new f(this,h,d,p,g)},f.fromJSON=function(h,d){return new f(h,d[0],d[1],d[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var h=this.x.redSqr(),d=this.y.redSqr(),p=this.z.redSqr();p=p.redIAdd(p);var g=this.curve._mulA(h),m=this.x.redAdd(this.y).redSqr().redISub(h).redISub(d),b=g.redAdd(d),y=b.redSub(p),x=g.redSub(d),k=m.redMul(y),M=b.redMul(x),I=m.redMul(x),B=y.redMul(b);return this.curve.point(k,M,B,I)},f.prototype._projDbl=function(){var h,d,p,g,m,b,y=this.x.redAdd(this.y).redSqr(),x=this.x.redSqr(),k=this.y.redSqr();if(this.curve.twisted){var M=(g=this.curve._mulA(x)).redAdd(k);this.zOne?(h=y.redSub(x).redSub(k).redMul(M.redSub(this.curve.two)),d=M.redMul(g.redSub(k)),p=M.redSqr().redSub(M).redSub(M)):(m=this.z.redSqr(),b=M.redSub(m).redISub(m),h=y.redSub(x).redISub(k).redMul(b),d=M.redMul(g.redSub(k)),p=M.redMul(b))}else g=x.redAdd(k),m=this.curve._mulC(this.z).redSqr(),b=g.redSub(m).redSub(m),h=this.curve._mulC(y.redISub(g)).redMul(b),d=this.curve._mulC(g).redMul(x.redISub(k)),p=g.redMul(b);return this.curve.point(h,d,p)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(h){var d=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),p=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),g=this.t.redMul(this.curve.dd).redMul(h.t),m=this.z.redMul(h.z.redAdd(h.z)),b=p.redSub(d),y=m.redSub(g),x=m.redAdd(g),k=p.redAdd(d),M=b.redMul(y),I=x.redMul(k),B=b.redMul(k),j=y.redMul(x);return this.curve.point(M,I,j,B)},f.prototype._projAdd=function(h){var d,p,g=this.z.redMul(h.z),m=g.redSqr(),b=this.x.redMul(h.x),y=this.y.redMul(h.y),x=this.curve.d.redMul(b).redMul(y),k=m.redSub(x),M=m.redAdd(x),I=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(b).redISub(y),B=g.redMul(k).redMul(I);return this.curve.twisted?(d=g.redMul(M).redMul(y.redSub(this.curve._mulA(b))),p=k.redMul(M)):(d=g.redMul(M).redMul(y.redSub(b)),p=this.curve._mulC(k).redMul(M)),this.curve.point(B,d,p)},f.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},f.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},f.prototype.mulAdd=function(h,d,p){return this.curve._wnafMulAdd(1,[this,d],[h,p],2,!1)},f.prototype.jmulAdd=function(h,d,p){return this.curve._wnafMulAdd(1,[this,d],[h,p],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},f.prototype.eqXToP=function(h){var d=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var p=h.clone(),g=this.curve.redN.redMul(this.z);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(g),this.x.cmp(d)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,r,a){var n=a;n.base=t("./base"),n.short=t("./short"),n.mont=t("./mont"),n.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,r,a){var n=t("bn.js"),i=t("inherits"),o=t("./base"),l=t("../utils");function s(f){o.call(this,"mont",f),this.a=new n(f.a,16).toRed(this.red),this.b=new n(f.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(f,h,d){o.BasePoint.call(this,f,"projective"),h===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(h,16),this.z=new n(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),r.exports=s,s.prototype.validate=function(f){var h=f.normalize().x,d=h.redSqr(),p=d.redMul(h).redAdd(d.redMul(this.a)).redAdd(h);return p.redSqrt().redSqr().cmp(p)===0},i(c,o.BasePoint),s.prototype.decodePoint=function(f,h){return this.point(l.toArray(f,h),1)},s.prototype.point=function(f,h){return new c(this,f,h)},s.prototype.pointFromJSON=function(f){return c.fromJSON(this,f)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(f,h){return new c(f,h[0],h[1]||f.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var f=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),d=f.redSub(h),p=f.redMul(h),g=d.redMul(h.redAdd(this.curve.a24.redMul(d)));return this.curve.point(p,g)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(f,h){var d=this.x.redAdd(this.z),p=this.x.redSub(this.z),g=f.x.redAdd(f.z),m=f.x.redSub(f.z).redMul(d),b=g.redMul(p),y=h.z.redMul(m.redAdd(b).redSqr()),x=h.x.redMul(m.redISub(b).redSqr());return this.curve.point(y,x)},c.prototype.mul=function(f){for(var h=f.clone(),d=this,p=this.curve.point(null,null),g=[];h.cmpn(0)!==0;h.iushrn(1))g.push(h.andln(1));for(var m=g.length-1;m>=0;m--)g[m]===0?(d=d.diffAdd(p,this),p=p.dbl()):(p=d.diffAdd(p,this),d=d.dbl());return p},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,r,a){var n=t("../utils"),i=t("bn.js"),o=t("inherits"),l=t("./base"),s=n.assert;function c(d){l.call(this,"short",d),this.a=new i(d.a,16).toRed(this.red),this.b=new i(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(d,p,g,m){l.BasePoint.call(this,d,"affine"),p===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(p,16),this.y=new i(g,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(d,p,g,m){l.BasePoint.call(this,d,"jacobian"),p===null&&g===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(p,16),this.y=new i(g,16),this.z=new i(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,l),r.exports=c,c.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var p,g;if(d.beta)p=new i(d.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);p=(p=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(d.lambda)g=new i(d.lambda,16);else{var b=this._getEndoRoots(this.n);this.g.mul(b[0]).x.cmp(this.g.x.redMul(p))===0?g=b[0]:(g=b[1],s(this.g.mul(g).x.cmp(this.g.x.redMul(p))===0))}return{beta:p,lambda:g,basis:d.basis?d.basis.map(function(y){return{a:new i(y.a,16),b:new i(y.b,16)}}):this._getEndoBasis(g)}}},c.prototype._getEndoRoots=function(d){var p=d===this.p?this.red:i.mont(d),g=new i(2).toRed(p).redInvm(),m=g.redNeg(),b=new i(3).toRed(p).redNeg().redSqrt().redMul(g);return[m.redAdd(b).fromRed(),m.redSub(b).fromRed()]},c.prototype._getEndoBasis=function(d){for(var p,g,m,b,y,x,k,M,I,B=this.n.ushrn(Math.floor(this.n.bitLength()/2)),j=d,F=this.n.clone(),z=new i(1),$=new i(0),H=new i(0),C=new i(1),O=0;j.cmpn(0)!==0;){var A=F.div(j);M=F.sub(A.mul(j)),I=H.sub(A.mul(z));var v=C.sub(A.mul($));if(!m&&M.cmp(B)<0)p=k.neg(),g=z,m=M.neg(),b=I;else if(m&&++O==2)break;k=M,F=j,j=M,H=z,z=I,C=$,$=v}y=M.neg(),x=I;var w=m.sqr().add(b.sqr());return y.sqr().add(x.sqr()).cmp(w)>=0&&(y=p,x=g),m.negative&&(m=m.neg(),b=b.neg()),y.negative&&(y=y.neg(),x=x.neg()),[{a:m,b},{a:y,b:x}]},c.prototype._endoSplit=function(d){var p=this.endo.basis,g=p[0],m=p[1],b=m.b.mul(d).divRound(this.n),y=g.b.neg().mul(d).divRound(this.n),x=b.mul(g.a),k=y.mul(m.a),M=b.mul(g.b),I=y.mul(m.b);return{k1:d.sub(x).sub(k),k2:M.add(I).neg()}},c.prototype.pointFromX=function(d,p){(d=new i(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),m=g.redSqrt();if(m.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var b=m.fromRed().isOdd();return(p&&!b||!p&&b)&&(m=m.redNeg()),this.point(d,m)},c.prototype.validate=function(d){if(d.inf)return!0;var p=d.x,g=d.y,m=this.a.redMul(p),b=p.redSqr().redMul(p).redIAdd(m).redIAdd(this.b);return g.redSqr().redISub(b).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(d,p,g){for(var m=this._endoWnafT1,b=this._endoWnafT2,y=0;y<d.length;y++){var x=this._endoSplit(p[y]),k=d[y],M=k._getBeta();x.k1.negative&&(x.k1.ineg(),k=k.neg(!0)),x.k2.negative&&(x.k2.ineg(),M=M.neg(!0)),m[2*y]=k,m[2*y+1]=M,b[2*y]=x.k1,b[2*y+1]=x.k2}for(var I=this._wnafMulAdd(1,m,b,2*y,g),B=0;B<2*y;B++)m[B]=null,b[B]=null;return I},o(f,l.BasePoint),c.prototype.point=function(d,p,g){return new f(this,d,p,g)},c.prototype.pointFromJSON=function(d,p){return f.fromJSON(this,d,p)},f.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var p=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var g=this.curve,m=function(b){return g.point(b.x.redMul(g.endo.beta),b.y)};d.beta=p,p.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(m)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(m)}}}return p}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(d,p,g){typeof p=="string"&&(p=JSON.parse(p));var m=d.point(p[0],p[1],g);if(!p[2])return m;function b(x){return d.point(x[0],x[1],g)}var y=p[2];return m.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[m].concat(y.doubles.points.map(b))},naf:y.naf&&{wnd:y.naf.wnd,points:[m].concat(y.naf.points.map(b))}},m},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var p=this.y.redSub(d.y);p.cmpn(0)!==0&&(p=p.redMul(this.x.redSub(d.x).redInvm()));var g=p.redSqr().redISub(this.x).redISub(d.x),m=p.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,m)},f.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var p=this.curve.a,g=this.x.redSqr(),m=d.redInvm(),b=g.redAdd(g).redIAdd(g).redIAdd(p).redMul(m),y=b.redSqr().redISub(this.x.redAdd(this.x)),x=b.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,x)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(d){return d=new i(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},f.prototype.mulAdd=function(d,p,g){var m=[this,p],b=[d,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,b):this.curve._wnafMulAdd(1,m,b,2)},f.prototype.jmulAdd=function(d,p,g){var m=[this,p],b=[d,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,b,!0):this.curve._wnafMulAdd(1,m,b,2,!0)},f.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},f.prototype.neg=function(d){if(this.inf)return this;var p=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var g=this.precomputed,m=function(b){return b.neg()};p.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(m)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(m)}}}return p},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(h,l.BasePoint),c.prototype.jpoint=function(d,p,g){return new h(this,d,p,g)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),p=d.redSqr(),g=this.x.redMul(p),m=this.y.redMul(p).redMul(d);return this.curve.point(g,m)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var p=d.z.redSqr(),g=this.z.redSqr(),m=this.x.redMul(p),b=d.x.redMul(g),y=this.y.redMul(p.redMul(d.z)),x=d.y.redMul(g.redMul(this.z)),k=m.redSub(b),M=y.redSub(x);if(k.cmpn(0)===0)return M.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=k.redSqr(),B=I.redMul(k),j=m.redMul(I),F=M.redSqr().redIAdd(B).redISub(j).redISub(j),z=M.redMul(j.redISub(F)).redISub(y.redMul(B)),$=this.z.redMul(d.z).redMul(k);return this.curve.jpoint(F,z,$)},h.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var p=this.z.redSqr(),g=this.x,m=d.x.redMul(p),b=this.y,y=d.y.redMul(p).redMul(this.z),x=g.redSub(m),k=b.redSub(y);if(x.cmpn(0)===0)return k.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var M=x.redSqr(),I=M.redMul(x),B=g.redMul(M),j=k.redSqr().redIAdd(I).redISub(B).redISub(B),F=k.redMul(B.redISub(j)).redISub(b.redMul(I)),z=this.z.redMul(x);return this.curve.jpoint(j,F,z)},h.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var p;if(this.curve.zeroA||this.curve.threeA){var g=this;for(p=0;p<d;p++)g=g.dbl();return g}var m=this.curve.a,b=this.curve.tinv,y=this.x,x=this.y,k=this.z,M=k.redSqr().redSqr(),I=x.redAdd(x);for(p=0;p<d;p++){var B=y.redSqr(),j=I.redSqr(),F=j.redSqr(),z=B.redAdd(B).redIAdd(B).redIAdd(m.redMul(M)),$=y.redMul(j),H=z.redSqr().redISub($.redAdd($)),C=$.redISub(H),O=z.redMul(C);O=O.redIAdd(O).redISub(F);var A=I.redMul(k);p+1<d&&(M=M.redMul(F)),y=H,k=A,I=O}return this.curve.jpoint(y,I.redMul(b),k)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var d,p,g;if(this.zOne){var m=this.x.redSqr(),b=this.y.redSqr(),y=b.redSqr(),x=this.x.redAdd(b).redSqr().redISub(m).redISub(y);x=x.redIAdd(x);var k=m.redAdd(m).redIAdd(m),M=k.redSqr().redISub(x).redISub(x),I=y.redIAdd(y);I=(I=I.redIAdd(I)).redIAdd(I),d=M,p=k.redMul(x.redISub(M)).redISub(I),g=this.y.redAdd(this.y)}else{var B=this.x.redSqr(),j=this.y.redSqr(),F=j.redSqr(),z=this.x.redAdd(j).redSqr().redISub(B).redISub(F);z=z.redIAdd(z);var $=B.redAdd(B).redIAdd(B),H=$.redSqr(),C=F.redIAdd(F);C=(C=C.redIAdd(C)).redIAdd(C),d=H.redISub(z).redISub(z),p=$.redMul(z.redISub(d)).redISub(C),g=(g=this.y.redMul(this.z)).redIAdd(g)}return this.curve.jpoint(d,p,g)},h.prototype._threeDbl=function(){var d,p,g;if(this.zOne){var m=this.x.redSqr(),b=this.y.redSqr(),y=b.redSqr(),x=this.x.redAdd(b).redSqr().redISub(m).redISub(y);x=x.redIAdd(x);var k=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),M=k.redSqr().redISub(x).redISub(x);d=M;var I=y.redIAdd(y);I=(I=I.redIAdd(I)).redIAdd(I),p=k.redMul(x.redISub(M)).redISub(I),g=this.y.redAdd(this.y)}else{var B=this.z.redSqr(),j=this.y.redSqr(),F=this.x.redMul(j),z=this.x.redSub(B).redMul(this.x.redAdd(B));z=z.redAdd(z).redIAdd(z);var $=F.redIAdd(F),H=($=$.redIAdd($)).redAdd($);d=z.redSqr().redISub(H),g=this.y.redAdd(this.z).redSqr().redISub(j).redISub(B);var C=j.redSqr();C=(C=(C=C.redIAdd(C)).redIAdd(C)).redIAdd(C),p=z.redMul($.redISub(d)).redISub(C)}return this.curve.jpoint(d,p,g)},h.prototype._dbl=function(){var d=this.curve.a,p=this.x,g=this.y,m=this.z,b=m.redSqr().redSqr(),y=p.redSqr(),x=g.redSqr(),k=y.redAdd(y).redIAdd(y).redIAdd(d.redMul(b)),M=p.redAdd(p),I=(M=M.redIAdd(M)).redMul(x),B=k.redSqr().redISub(I.redAdd(I)),j=I.redISub(B),F=x.redSqr();F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var z=k.redMul(j).redISub(F),$=g.redAdd(g).redMul(m);return this.curve.jpoint(B,z,$)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),p=this.y.redSqr(),g=this.z.redSqr(),m=p.redSqr(),b=d.redAdd(d).redIAdd(d),y=b.redSqr(),x=this.x.redAdd(p).redSqr().redISub(d).redISub(m),k=(x=(x=(x=x.redIAdd(x)).redAdd(x).redIAdd(x)).redISub(y)).redSqr(),M=m.redIAdd(m);M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var I=b.redIAdd(x).redSqr().redISub(y).redISub(k).redISub(M),B=p.redMul(I);B=(B=B.redIAdd(B)).redIAdd(B);var j=this.x.redMul(k).redISub(B);j=(j=j.redIAdd(j)).redIAdd(j);var F=this.y.redMul(I.redMul(M.redISub(I)).redISub(x.redMul(k)));F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var z=this.z.redAdd(x).redSqr().redISub(g).redISub(k);return this.curve.jpoint(j,F,z)},h.prototype.mul=function(d,p){return d=new i(d,p),this.curve._wnafMul(this,d)},h.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var p=this.z.redSqr(),g=d.z.redSqr();if(this.x.redMul(g).redISub(d.x.redMul(p)).cmpn(0)!==0)return!1;var m=p.redMul(this.z),b=g.redMul(d.z);return this.y.redMul(b).redISub(d.y.redMul(m)).cmpn(0)===0},h.prototype.eqXToP=function(d){var p=this.z.redSqr(),g=d.toRed(this.curve.red).redMul(p);if(this.x.cmp(g)===0)return!0;for(var m=d.clone(),b=this.curve.redN.redMul(p);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(b),this.x.cmp(g)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,r,a){var n,i=a,o=t("hash.js"),l=t("./curve"),s=t("./utils").assert;function c(h){h.type==="short"?this.curve=new l.short(h):h.type==="edwards"?this.curve=new l.edwards(h):this.curve=new l.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(h,d){Object.defineProperty(i,h,{configurable:!0,enumerable:!0,get:function(){var p=new c(d);return Object.defineProperty(i,h,{configurable:!0,enumerable:!0,value:p}),p}})}i.PresetCurve=c,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=t("./precomputed/secp256k1")}catch{n=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,r,a){var n=t("bn.js"),i=t("hmac-drbg"),o=t("../utils"),l=t("../curves"),s=t("brorand"),c=o.assert,f=t("./key"),h=t("./signature");function d(p){if(!(this instanceof d))return new d(p);typeof p=="string"&&(c(Object.prototype.hasOwnProperty.call(l,p),"Unknown curve "+p),p=l[p]),p instanceof l.PresetCurve&&(p={curve:p}),this.curve=p.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=p.curve.g,this.g.precompute(p.curve.n.bitLength()+1),this.hash=p.hash||p.curve.hash}r.exports=d,d.prototype.keyPair=function(p){return new f(this,p)},d.prototype.keyFromPrivate=function(p,g){return f.fromPrivate(this,p,g)},d.prototype.keyFromPublic=function(p,g){return f.fromPublic(this,p,g)},d.prototype.genKeyPair=function(p){p||(p={});for(var g=new i({hash:this.hash,pers:p.pers,persEnc:p.persEnc||"utf8",entropy:p.entropy||s(this.hash.hmacStrength),entropyEnc:p.entropy&&p.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),b=this.n.sub(new n(2));;){var y=new n(g.generate(m));if(!(y.cmp(b)>0))return y.iaddn(1),this.keyFromPrivate(y)}},d.prototype._truncateToN=function(p,g){var m=8*p.byteLength()-this.n.bitLength();return m>0&&(p=p.ushrn(m)),!g&&p.cmp(this.n)>=0?p.sub(this.n):p},d.prototype.sign=function(p,g,m,b){typeof m=="object"&&(b=m,m=null),b||(b={}),g=this.keyFromPrivate(g,m),p=this._truncateToN(new n(p,16));for(var y=this.n.byteLength(),x=g.getPrivate().toArray("be",y),k=p.toArray("be",y),M=new i({hash:this.hash,entropy:x,nonce:k,pers:b.pers,persEnc:b.persEnc||"utf8"}),I=this.n.sub(new n(1)),B=0;;B++){var j=b.k?b.k(B):new n(M.generate(this.n.byteLength()));if(!((j=this._truncateToN(j,!0)).cmpn(1)<=0||j.cmp(I)>=0)){var F=this.g.mul(j);if(!F.isInfinity()){var z=F.getX(),$=z.umod(this.n);if($.cmpn(0)!==0){var H=j.invm(this.n).mul($.mul(g.getPrivate()).iadd(p));if((H=H.umod(this.n)).cmpn(0)!==0){var C=(F.getY().isOdd()?1:0)|(z.cmp($)!==0?2:0);return b.canonical&&H.cmp(this.nh)>0&&(H=this.n.sub(H),C^=1),new h({r:$,s:H,recoveryParam:C})}}}}}},d.prototype.verify=function(p,g,m,b){p=this._truncateToN(new n(p,16)),m=this.keyFromPublic(m,b);var y=(g=new h(g,"hex")).r,x=g.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||x.cmpn(1)<0||x.cmp(this.n)>=0)return!1;var k,M=x.invm(this.n),I=M.mul(p).umod(this.n),B=M.mul(y).umod(this.n);return this.curve._maxwellTrick?!(k=this.g.jmulAdd(I,m.getPublic(),B)).isInfinity()&&k.eqXToP(y):!(k=this.g.mulAdd(I,m.getPublic(),B)).isInfinity()&&k.getX().umod(this.n).cmp(y)===0},d.prototype.recoverPubKey=function(p,g,m,b){c((3&m)===m,"The recovery param is more than two bits"),g=new h(g,b);var y=this.n,x=new n(p),k=g.r,M=g.s,I=1&m,B=m>>1;if(k.cmp(this.curve.p.umod(this.curve.n))>=0&&B)throw new Error("Unable to find sencond key candinate");k=B?this.curve.pointFromX(k.add(this.curve.n),I):this.curve.pointFromX(k,I);var j=g.r.invm(y),F=y.sub(x).mul(j).umod(y),z=M.mul(j).umod(y);return this.g.mulAdd(F,k,z)},d.prototype.getKeyRecoveryParam=function(p,g,m,b){if((g=new h(g,b)).recoveryParam!==null)return g.recoveryParam;for(var y=0;y<4;y++){var x;try{x=this.recoverPubKey(p,g,y)}catch{continue}if(x.eq(m))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,r,a){var n=t("bn.js"),i=t("../utils").assert;function o(l,s){this.ec=l,this.priv=null,this.pub=null,s.priv&&this._importPrivate(s.priv,s.privEnc),s.pub&&this._importPublic(s.pub,s.pubEnc)}r.exports=o,o.fromPublic=function(l,s,c){return s instanceof o?s:new o(l,{pub:s,pubEnc:c})},o.fromPrivate=function(l,s,c){return s instanceof o?s:new o(l,{priv:s,privEnc:c})},o.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(l,s){return typeof l=="string"&&(s=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),s?this.pub.encode(s,l):this.pub},o.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(l,s){this.priv=new n(l,s||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(l,s){if(l.x||l.y)return this.ec.curve.type==="mont"?i(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||i(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,s)},o.prototype.derive=function(l){return l.validate()||i(l.validate(),"public point not validated"),l.mul(this.priv).getX()},o.prototype.sign=function(l,s,c){return this.ec.sign(l,this,s,c)},o.prototype.verify=function(l,s){return this.ec.verify(l,s,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,r,a){var n=t("bn.js"),i=t("../utils"),o=i.assert;function l(d,p){if(d instanceof l)return d;this._importDER(d,p)||(o(d.r&&d.s,"Signature without r or s"),this.r=new n(d.r,16),this.s=new n(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function s(){this.place=0}function c(d,p){var g=d[p.place++];if(!(128&g))return g;var m=15&g;if(m===0||m>4)return!1;for(var b=0,y=0,x=p.place;y<m;y++,x++)b<<=8,b|=d[x],b>>>=0;return!(b<=127)&&(p.place=x,b)}function f(d){for(var p=0,g=d.length-1;!d[p]&&!(128&d[p+1])&&p<g;)p++;return p===0?d:d.slice(p)}function h(d,p){if(p<128)d.push(p);else{var g=1+(Math.log(p)/Math.LN2>>>3);for(d.push(128|g);--g;)d.push(p>>>(g<<3)&255);d.push(p)}}r.exports=l,l.prototype._importDER=function(d,p){d=i.toArray(d,p);var g=new s;if(d[g.place++]!==48)return!1;var m=c(d,g);if(m===!1||m+g.place!==d.length||d[g.place++]!==2)return!1;var b=c(d,g);if(b===!1)return!1;var y=d.slice(g.place,b+g.place);if(g.place+=b,d[g.place++]!==2)return!1;var x=c(d,g);if(x===!1||d.length!==x+g.place)return!1;var k=d.slice(g.place,x+g.place);if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}if(k[0]===0){if(!(128&k[1]))return!1;k=k.slice(1)}return this.r=new n(y),this.s=new n(k),this.recoveryParam=null,!0},l.prototype.toDER=function(d){var p=this.r.toArray(),g=this.s.toArray();for(128&p[0]&&(p=[0].concat(p)),128&g[0]&&(g=[0].concat(g)),p=f(p),g=f(g);!(g[0]||128&g[1]);)g=g.slice(1);var m=[2];h(m,p.length),(m=m.concat(p)).push(2),h(m,g.length);var b=m.concat(g),y=[48];return h(y,b.length),y=y.concat(b),i.encode(y,d)}},{"../utils":419,"bn.js":420}],415:[function(t,r,a){var n=t("hash.js"),i=t("../curves"),o=t("../utils"),l=o.assert,s=o.parseBytes,c=t("./key"),f=t("./signature");function h(d){if(l(d==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(d);d=i[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=n.sha512}r.exports=h,h.prototype.sign=function(d,p){d=s(d);var g=this.keyFromSecret(p),m=this.hashInt(g.messagePrefix(),d),b=this.g.mul(m),y=this.encodePoint(b),x=this.hashInt(y,g.pubBytes(),d).mul(g.priv()),k=m.add(x).umod(this.curve.n);return this.makeSignature({R:b,S:k,Rencoded:y})},h.prototype.verify=function(d,p,g){d=s(d),p=this.makeSignature(p);var m=this.keyFromPublic(g),b=this.hashInt(p.Rencoded(),m.pubBytes(),d),y=this.g.mul(p.S());return p.R().add(m.pub().mul(b)).eq(y)},h.prototype.hashInt=function(){for(var d=this.hash(),p=0;p<arguments.length;p++)d.update(arguments[p]);return o.intFromLE(d.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(d){return c.fromPublic(this,d)},h.prototype.keyFromSecret=function(d){return c.fromSecret(this,d)},h.prototype.makeSignature=function(d){return d instanceof f?d:new f(this,d)},h.prototype.encodePoint=function(d){var p=d.getY().toArray("le",this.encodingLength);return p[this.encodingLength-1]|=d.getX().isOdd()?128:0,p},h.prototype.decodePoint=function(d){var p=(d=o.parseBytes(d)).length-1,g=d.slice(0,p).concat(-129&d[p]),m=(128&d[p])!=0,b=o.intFromLE(g);return this.curve.pointFromY(b,m)},h.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(d){return o.intFromLE(d)},h.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,r,a){var n=t("../utils"),i=n.assert,o=n.parseBytes,l=n.cachedProperty;function s(c,f){this.eddsa=c,this._secret=o(f.secret),c.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=o(f.pub)}s.fromPublic=function(c,f){return f instanceof s?f:new s(c,{pub:f})},s.fromSecret=function(c,f){return f instanceof s?f:new s(c,{secret:f})},s.prototype.secret=function(){return this._secret},l(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(s,"privBytes",function(){var c=this.eddsa,f=this.hash(),h=c.encodingLength-1,d=f.slice(0,c.encodingLength);return d[0]&=248,d[h]&=127,d[h]|=64,d}),l(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(c){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},s.prototype.verify=function(c,f){return this.eddsa.verify(c,f,this)},s.prototype.getSecret=function(c){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),c)},s.prototype.getPublic=function(c){return n.encode(this.pubBytes(),c)},r.exports=s},{"../utils":419}],417:[function(t,r,a){var n=t("bn.js"),i=t("../utils"),o=i.assert,l=i.cachedProperty,s=i.parseBytes;function c(f,h){this.eddsa=f,typeof h!="object"&&(h=s(h)),Array.isArray(h)&&(h={R:h.slice(0,f.encodingLength),S:h.slice(f.encodingLength)}),o(h.R&&h.S,"Signature without R or S"),f.isPoint(h.R)&&(this._R=h.R),h.S instanceof n&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}l(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},r.exports=c},{"../utils":419,"bn.js":420}],418:[function(t,r,a){r.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,r,a){var n=a,i=t("bn.js"),o=t("minimalistic-assert"),l=t("minimalistic-crypto-utils");n.assert=o,n.toArray=l.toArray,n.zero2=l.zero2,n.toHex=l.toHex,n.encode=l.encode,n.getNAF=function(s,c,f){var h=new Array(Math.max(s.bitLength(),f)+1);h.fill(0);for(var d=1<<c+1,p=s.clone(),g=0;g<h.length;g++){var m,b=p.andln(d-1);p.isOdd()?(m=b>(d>>1)-1?(d>>1)-b:b,p.isubn(m)):m=0,h[g]=m,p.iushrn(1)}return h},n.getJSF=function(s,c){var f=[[],[]];s=s.clone(),c=c.clone();for(var h,d=0,p=0;s.cmpn(-d)>0||c.cmpn(-p)>0;){var g,m,b=s.andln(3)+d&3,y=c.andln(3)+p&3;b===3&&(b=-1),y===3&&(y=-1),g=1&b?(h=s.andln(7)+d&7)!==3&&h!==5||y!==2?b:-b:0,f[0].push(g),m=1&y?(h=c.andln(7)+p&7)!==3&&h!==5||b!==2?y:-y:0,f[1].push(m),2*d===g+1&&(d=1-d),2*p===m+1&&(p=1-p),s.iushrn(1),c.iushrn(1)}return f},n.cachedProperty=function(s,c,f){var h="_"+c;s.prototype[c]=function(){return this[h]!==void 0?this[h]:this[h]=f.call(this)}},n.parseBytes=function(s){return typeof s=="string"?n.toArray(s,"hex"):s},n.intFromLE=function(s){return new i(s,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,r,a){arguments[4][184][0].apply(a,arguments)},{buffer:188,dup:184}],421:[function(t,r,a){r.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,r,a){var n=Object.create||function(j){var F=function(){};return F.prototype=j,new F},i=Object.keys||function(j){var F=[];for(var z in j)Object.prototype.hasOwnProperty.call(j,z)&&F.push(z);return z},o=Function.prototype.bind||function(j){var F=this;return function(){return F.apply(j,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=n(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}r.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var s,c=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),s=f.x===0}catch{s=!1}function h(j){return j._maxListeners===void 0?l.defaultMaxListeners:j._maxListeners}function d(j,F,z){if(F)j.call(z);else for(var $=j.length,H=B(j,$),C=0;C<$;++C)H[C].call(z)}function p(j,F,z,$){if(F)j.call(z,$);else for(var H=j.length,C=B(j,H),O=0;O<H;++O)C[O].call(z,$)}function g(j,F,z,$,H){if(F)j.call(z,$,H);else for(var C=j.length,O=B(j,C),A=0;A<C;++A)O[A].call(z,$,H)}function m(j,F,z,$,H,C){if(F)j.call(z,$,H,C);else for(var O=j.length,A=B(j,O),v=0;v<O;++v)A[v].call(z,$,H,C)}function b(j,F,z,$){if(F)j.apply(z,$);else for(var H=j.length,C=B(j,H),O=0;O<H;++O)C[O].apply(z,$)}function y(j,F,z,$){var H,C,O;if(typeof z!="function")throw new TypeError('"listener" argument must be a function');if((C=j._events)?(C.newListener&&(j.emit("newListener",F,z.listener?z.listener:z),C=j._events),O=C[F]):(C=j._events=n(null),j._eventsCount=0),O){if(typeof O=="function"?O=C[F]=$?[z,O]:[O,z]:$?O.unshift(z):O.push(z),!O.warned&&(H=h(j))&&H>0&&O.length>H){O.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+O.length+' "'+String(F)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');A.name="MaxListenersExceededWarning",A.emitter=j,A.type=F,A.count=O.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",A.name,A.message)}}else O=C[F]=z,++j._eventsCount;return j}function x(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var j=new Array(arguments.length),F=0;F<j.length;++F)j[F]=arguments[F];this.listener.apply(this.target,j)}}function k(j,F,z){var $={fired:!1,wrapFn:void 0,target:j,type:F,listener:z},H=o.call(x,$);return H.listener=z,$.wrapFn=H,H}function M(j,F,z){var $=j._events;if(!$)return[];var H=$[F];return H?typeof H=="function"?z?[H.listener||H]:[H]:z?function(C){for(var O=new Array(C.length),A=0;A<O.length;++A)O[A]=C[A].listener||C[A];return O}(H):B(H,H.length):[]}function I(j){var F=this._events;if(F){var z=F[j];if(typeof z=="function")return 1;if(z)return z.length}return 0}function B(j,F){for(var z=new Array(F),$=0;$<F;++$)z[$]=j[$];return z}s?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(j){if(typeof j!="number"||j<0||j!=j)throw new TypeError('"defaultMaxListeners" must be a positive number');c=j}}):l.defaultMaxListeners=c,l.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||isNaN(j))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=j,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(j){var F,z,$,H,C,O,A=j==="error";if(O=this._events)A=A&&O.error==null;else if(!A)return!1;if(A){if(arguments.length>1&&(F=arguments[1]),F instanceof Error)throw F;var v=new Error('Unhandled "error" event. ('+F+")");throw v.context=F,v}if(!(z=O[j]))return!1;var w=typeof z=="function";switch($=arguments.length){case 1:d(z,w,this);break;case 2:p(z,w,this,arguments[1]);break;case 3:g(z,w,this,arguments[1],arguments[2]);break;case 4:m(z,w,this,arguments[1],arguments[2],arguments[3]);break;default:for(H=new Array($-1),C=1;C<$;C++)H[C-1]=arguments[C];b(z,w,this,H)}return!0},l.prototype.addListener=function(j,F){return y(this,j,F,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(j,F){return y(this,j,F,!0)},l.prototype.once=function(j,F){if(typeof F!="function")throw new TypeError('"listener" argument must be a function');return this.on(j,k(this,j,F)),this},l.prototype.prependOnceListener=function(j,F){if(typeof F!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(j,k(this,j,F)),this},l.prototype.removeListener=function(j,F){var z,$,H,C,O;if(typeof F!="function")throw new TypeError('"listener" argument must be a function');if(!($=this._events))return this;if(!(z=$[j]))return this;if(z===F||z.listener===F)--this._eventsCount==0?this._events=n(null):(delete $[j],$.removeListener&&this.emit("removeListener",j,z.listener||F));else if(typeof z!="function"){for(H=-1,C=z.length-1;C>=0;C--)if(z[C]===F||z[C].listener===F){O=z[C].listener,H=C;break}if(H<0)return this;H===0?z.shift():function(A,v){for(var w=v,_=w+1,S=A.length;_<S;w+=1,_+=1)A[w]=A[_];A.pop()}(z,H),z.length===1&&($[j]=z[0]),$.removeListener&&this.emit("removeListener",j,O||F)}return this},l.prototype.removeAllListeners=function(j){var F,z,$;if(!(z=this._events))return this;if(!z.removeListener)return arguments.length===0?(this._events=n(null),this._eventsCount=0):z[j]&&(--this._eventsCount==0?this._events=n(null):delete z[j]),this;if(arguments.length===0){var H,C=i(z);for($=0;$<C.length;++$)(H=C[$])!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=n(null),this._eventsCount=0,this}if(typeof(F=z[j])=="function")this.removeListener(j,F);else if(F)for($=F.length-1;$>=0;$--)this.removeListener(j,F[$]);return this},l.prototype.listeners=function(j){return M(this,j,!0)},l.prototype.rawListeners=function(j){return M(this,j,!1)},l.listenerCount=function(j,F){return typeof j.listenerCount=="function"?j.listenerCount(F):I.call(j,F)},l.prototype.listenerCount=I,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,r,a){var n=t("safe-buffer").Buffer,i=t("md5.js");r.exports=function(o,l,s,c){if(n.isBuffer(o)||(o=n.from(o,"binary")),l&&(n.isBuffer(l)||(l=n.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=s/8,h=n.alloc(f),d=n.alloc(c||0),p=n.alloc(0);f>0||c>0;){var g=new i;g.update(p),g.update(o),l&&g.update(l),p=g.digest();var m=0;if(f>0){var b=h.length-f;m=Math.min(f,p.length),p.copy(h,b,0,m),f-=m}if(m<p.length&&c>0){var y=d.length-c,x=Math.min(c,p.length-m);p.copy(d,y,m,m+x),c-=x}}return p.fill(0),{key:h,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.CsvParserStream=a.ParserOptions=a.parseFile=a.parseStream=a.parseString=a.parse=a.FormatterOptions=a.CsvFormatterStream=a.writeToPath=a.writeToString=a.writeToBuffer=a.writeToStream=a.write=a.format=void 0;var n=t("@fast-csv/format");Object.defineProperty(a,"format",{enumerable:!0,get:function(){return n.format}}),Object.defineProperty(a,"write",{enumerable:!0,get:function(){return n.write}}),Object.defineProperty(a,"writeToStream",{enumerable:!0,get:function(){return n.writeToStream}}),Object.defineProperty(a,"writeToBuffer",{enumerable:!0,get:function(){return n.writeToBuffer}}),Object.defineProperty(a,"writeToString",{enumerable:!0,get:function(){return n.writeToString}}),Object.defineProperty(a,"writeToPath",{enumerable:!0,get:function(){return n.writeToPath}}),Object.defineProperty(a,"CsvFormatterStream",{enumerable:!0,get:function(){return n.CsvFormatterStream}}),Object.defineProperty(a,"FormatterOptions",{enumerable:!0,get:function(){return n.FormatterOptions}});var i=t("@fast-csv/parse");Object.defineProperty(a,"parse",{enumerable:!0,get:function(){return i.parse}}),Object.defineProperty(a,"parseString",{enumerable:!0,get:function(){return i.parseString}}),Object.defineProperty(a,"parseStream",{enumerable:!0,get:function(){return i.parseStream}}),Object.defineProperty(a,"parseFile",{enumerable:!0,get:function(){return i.parseFile}}),Object.defineProperty(a,"ParserOptions",{enumerable:!0,get:function(){return i.ParserOptions}}),Object.defineProperty(a,"CsvParserStream",{enumerable:!0,get:function(){return i.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,r,a){var n=t("safe-buffer").Buffer,i=t("readable-stream").Transform;function o(l){i.call(this),this._block=n.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(o,i),o.prototype._transform=function(l,s,c){var f=null;try{this.update(l,s)}catch(h){f=h}c(f)},o.prototype._flush=function(l){var s=null;try{this.push(this.digest())}catch(c){s=c}l(s)},o.prototype.update=function(l,s){if(function(g,m){if(!n.isBuffer(g)&&typeof g!="string")throw new TypeError(m+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(l)||(l=n.from(l,s));for(var c=this._block,f=0;this._blockOffset+l.length-f>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)c[h++]=l[f++];this._update(),this._blockOffset=0}for(;f<l.length;)c[this._blockOffset++]=l[f++];for(var d=0,p=8*l.length;p>0;++d)this._length[d]+=p,(p=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*p);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var s=this._digest();l!==void 0&&(s=s.toString(l)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return s},o.prototype._digest=function(){throw new Error("_digest is not implemented")},r.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,r,a){var n=a;n.utils=t("./hash/utils"),n.common=t("./hash/common"),n.sha=t("./hash/sha"),n.ripemd=t("./hash/ripemd"),n.hmac=t("./hash/hmac"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,r,a){var n=t("./utils"),i=t("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}a.BlockHash=o,o.prototype.update=function(l,s){if(l=n.toArray(l,s),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var c=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-c,l.length),this.pending.length===0&&(this.pending=null),l=n.join32(l,0,l.length-c,this.endian);for(var f=0;f<l.length;f+=this._delta32)this._update(l,f,f+this._delta32)}return this},o.prototype.digest=function(l){return this.update(this._pad()),i(this.pending===null),this._digest(l)},o.prototype._pad=function(){var l=this.pendingTotal,s=this._delta8,c=s-(l+this.padLength)%s,f=new Array(c+this.padLength);f[0]=128;for(var h=1;h<c;h++)f[h]=0;if(l<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)f[h++]=0;f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=l>>>24&255,f[h++]=l>>>16&255,f[h++]=l>>>8&255,f[h++]=255&l}else for(f[h++]=255&l,f[h++]=l>>>8&255,f[h++]=l>>>16&255,f[h++]=l>>>24&255,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,d=8;d<this.padLength;d++)f[h++]=0;return f}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,r,a){var n=t("./utils"),i=t("minimalistic-assert");function o(l,s,c){if(!(this instanceof o))return new o(l,s,c);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(s,c))}r.exports=o,o.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),i(l.length<=this.blockSize);for(var s=l.length;s<this.blockSize;s++)l.push(0);for(s=0;s<l.length;s++)l[s]^=54;for(this.inner=new this.Hash().update(l),s=0;s<l.length;s++)l[s]^=106;this.outer=new this.Hash().update(l)},o.prototype.update=function(l,s){return this.inner.update(l,s),this},o.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,r,a){var n=t("./utils"),i=t("./common"),o=n.rotl32,l=n.sum32,s=n.sum32_3,c=n.sum32_4,f=i.BlockHash;function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(k,M,I,B){return k<=15?M^I^B:k<=31?M&I|~M&B:k<=47?(M|~I)^B:k<=63?M&B|I&~B:M^(I|~B)}function p(k){return k<=15?0:k<=31?1518500249:k<=47?1859775393:k<=63?2400959708:2840853838}function g(k){return k<=15?1352829926:k<=31?1548603684:k<=47?1836072691:k<=63?2053994217:0}n.inherits(h,f),a.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(k,M){for(var I=this.h[0],B=this.h[1],j=this.h[2],F=this.h[3],z=this.h[4],$=I,H=B,C=j,O=F,A=z,v=0;v<80;v++){var w=l(o(c(I,d(v,B,j,F),k[m[v]+M],p(v)),y[v]),z);I=z,z=F,F=o(j,10),j=B,B=w,w=l(o(c($,d(79-v,H,C,O),k[b[v]+M],g(v)),x[v]),A),$=A,A=O,O=o(C,10),C=H,H=w}w=s(this.h[1],j,O),this.h[1]=s(this.h[2],F,A),this.h[2]=s(this.h[3],z,$),this.h[3]=s(this.h[4],I,H),this.h[4]=s(this.h[0],B,C),this.h[0]=w},h.prototype._digest=function(k){return k==="hex"?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,r,a){a.sha1=t("./sha/1"),a.sha224=t("./sha/224"),a.sha256=t("./sha/256"),a.sha384=t("./sha/384"),a.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,r,a){var n=t("../utils"),i=t("../common"),o=t("./common"),l=n.rotl32,s=n.sum32,c=n.sum32_5,f=o.ft_1,h=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(p,h),r.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(g,m){for(var b=this.W,y=0;y<16;y++)b[y]=g[m+y];for(;y<b.length;y++)b[y]=l(b[y-3]^b[y-8]^b[y-14]^b[y-16],1);var x=this.h[0],k=this.h[1],M=this.h[2],I=this.h[3],B=this.h[4];for(y=0;y<b.length;y++){var j=~~(y/20),F=c(l(x,5),f(j,k,M,I),B,b[y],d[j]);B=I,I=M,M=l(k,30),k=x,x=F}this.h[0]=s(this.h[0],x),this.h[1]=s(this.h[1],k),this.h[2]=s(this.h[2],M),this.h[3]=s(this.h[3],I),this.h[4]=s(this.h[4],B)},p.prototype._digest=function(g){return g==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,r,a){var n=t("../utils"),i=t("./256");function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),r.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(l){return l==="hex"?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,r,a){var n=t("../utils"),i=t("../common"),o=t("./common"),l=t("minimalistic-assert"),s=n.sum32,c=n.sum32_4,f=n.sum32_5,h=o.ch32,d=o.maj32,p=o.s0_256,g=o.s1_256,m=o.g0_256,b=o.g1_256,y=i.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function k(){if(!(this instanceof k))return new k;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}n.inherits(k,y),r.exports=k,k.blockSize=512,k.outSize=256,k.hmacStrength=192,k.padLength=64,k.prototype._update=function(M,I){for(var B=this.W,j=0;j<16;j++)B[j]=M[I+j];for(;j<B.length;j++)B[j]=c(b(B[j-2]),B[j-7],m(B[j-15]),B[j-16]);var F=this.h[0],z=this.h[1],$=this.h[2],H=this.h[3],C=this.h[4],O=this.h[5],A=this.h[6],v=this.h[7];for(l(this.k.length===B.length),j=0;j<B.length;j++){var w=f(v,g(C),h(C,O,A),this.k[j],B[j]),_=s(p(F),d(F,z,$));v=A,A=O,O=C,C=s(H,w),H=$,$=z,z=F,F=s(w,_)}this.h[0]=s(this.h[0],F),this.h[1]=s(this.h[1],z),this.h[2]=s(this.h[2],$),this.h[3]=s(this.h[3],H),this.h[4]=s(this.h[4],C),this.h[5]=s(this.h[5],O),this.h[6]=s(this.h[6],A),this.h[7]=s(this.h[7],v)},k.prototype._digest=function(M){return M==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,r,a){var n=t("../utils"),i=t("./512");function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),r.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(l){return l==="hex"?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,r,a){var n=t("../utils"),i=t("../common"),o=t("minimalistic-assert"),l=n.rotr64_hi,s=n.rotr64_lo,c=n.shr64_hi,f=n.shr64_lo,h=n.sum64,d=n.sum64_hi,p=n.sum64_lo,g=n.sum64_4_hi,m=n.sum64_4_lo,b=n.sum64_5_hi,y=n.sum64_5_lo,x=i.BlockHash,k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function M(){if(!(this instanceof M))return new M;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=k,this.W=new Array(160)}function I(_,S,T,N,L){var V=_&T^~_&L;return V<0&&(V+=4294967296),V}function B(_,S,T,N,L,V){var q=S&N^~S&V;return q<0&&(q+=4294967296),q}function j(_,S,T,N,L){var V=_&T^_&L^T&L;return V<0&&(V+=4294967296),V}function F(_,S,T,N,L,V){var q=S&N^S&V^N&V;return q<0&&(q+=4294967296),q}function z(_,S){var T=l(_,S,28)^l(S,_,2)^l(S,_,7);return T<0&&(T+=4294967296),T}function $(_,S){var T=s(_,S,28)^s(S,_,2)^s(S,_,7);return T<0&&(T+=4294967296),T}function H(_,S){var T=l(_,S,14)^l(_,S,18)^l(S,_,9);return T<0&&(T+=4294967296),T}function C(_,S){var T=s(_,S,14)^s(_,S,18)^s(S,_,9);return T<0&&(T+=4294967296),T}function O(_,S){var T=l(_,S,1)^l(_,S,8)^c(_,S,7);return T<0&&(T+=4294967296),T}function A(_,S){var T=s(_,S,1)^s(_,S,8)^f(_,S,7);return T<0&&(T+=4294967296),T}function v(_,S){var T=l(_,S,19)^l(S,_,29)^c(_,S,6);return T<0&&(T+=4294967296),T}function w(_,S){var T=s(_,S,19)^s(S,_,29)^f(_,S,6);return T<0&&(T+=4294967296),T}n.inherits(M,x),r.exports=M,M.blockSize=1024,M.outSize=512,M.hmacStrength=192,M.padLength=128,M.prototype._prepareBlock=function(_,S){for(var T=this.W,N=0;N<32;N++)T[N]=_[S+N];for(;N<T.length;N+=2){var L=v(T[N-4],T[N-3]),V=w(T[N-4],T[N-3]),q=T[N-14],Y=T[N-13],D=O(T[N-30],T[N-29]),X=A(T[N-30],T[N-29]),P=T[N-32],R=T[N-31];T[N]=g(L,V,q,Y,D,X,P,R),T[N+1]=m(L,V,q,Y,D,X,P,R)}},M.prototype._update=function(_,S){this._prepareBlock(_,S);var T=this.W,N=this.h[0],L=this.h[1],V=this.h[2],q=this.h[3],Y=this.h[4],D=this.h[5],X=this.h[6],P=this.h[7],R=this.h[8],U=this.h[9],Z=this.h[10],st=this.h[11],W=this.h[12],G=this.h[13],et=this.h[14],it=this.h[15];o(this.k.length===T.length);for(var K=0;K<T.length;K+=2){var rt=et,nt=it,ct=H(R,U),ot=C(R,U),lt=I(R,U,Z,st,W),ut=B(R,U,Z,st,W,G),dt=this.k[K],mt=this.k[K+1],yt=T[K],vt=T[K+1],_t=b(rt,nt,ct,ot,lt,ut,dt,mt,yt,vt),Et=y(rt,nt,ct,ot,lt,ut,dt,mt,yt,vt);rt=z(N,L),nt=$(N,L),ct=j(N,L,V,q,Y),ot=F(N,L,V,q,Y,D);var Pt=d(rt,nt,ct,ot),Bt=p(rt,nt,ct,ot);et=W,it=G,W=Z,G=st,Z=R,st=U,R=d(X,P,_t,Et),U=p(P,P,_t,Et),X=Y,P=D,Y=V,D=q,V=N,q=L,N=d(_t,Et,Pt,Bt),L=p(_t,Et,Pt,Bt)}h(this.h,0,N,L),h(this.h,2,V,q),h(this.h,4,Y,D),h(this.h,6,X,P),h(this.h,8,R,U),h(this.h,10,Z,st),h(this.h,12,W,G),h(this.h,14,et,it)},M.prototype._digest=function(_){return _==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,r,a){var n=t("../utils").rotr32;function i(s,c,f){return s&c^~s&f}function o(s,c,f){return s&c^s&f^c&f}function l(s,c,f){return s^c^f}a.ft_1=function(s,c,f,h){return s===0?i(c,f,h):s===1||s===3?l(c,f,h):s===2?o(c,f,h):void 0},a.ch32=i,a.maj32=o,a.p32=l,a.s0_256=function(s){return n(s,2)^n(s,13)^n(s,22)},a.s1_256=function(s){return n(s,6)^n(s,11)^n(s,25)},a.g0_256=function(s){return n(s,7)^n(s,18)^s>>>3},a.g1_256=function(s){return n(s,17)^n(s,19)^s>>>10}},{"../utils":437}],437:[function(t,r,a){var n=t("minimalistic-assert"),i=t("inherits");function o(f,h){return(64512&f.charCodeAt(h))==55296&&!(h<0||h+1>=f.length)&&(64512&f.charCodeAt(h+1))==56320}function l(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function s(f){return f.length===1?"0"+f:f}function c(f){return f.length===7?"0"+f:f.length===6?"00"+f:f.length===5?"000"+f:f.length===4?"0000"+f:f.length===3?"00000"+f:f.length===2?"000000"+f:f.length===1?"0000000"+f:f}a.inherits=i,a.toArray=function(f,h){if(Array.isArray(f))return f.slice();if(!f)return[];var d=[];if(typeof f=="string")if(h){if(h==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),g=0;g<f.length;g+=2)d.push(parseInt(f[g]+f[g+1],16))}else for(var p=0,g=0;g<f.length;g++){var m=f.charCodeAt(g);m<128?d[p++]=m:m<2048?(d[p++]=m>>6|192,d[p++]=63&m|128):o(f,g)?(m=65536+((1023&m)<<10)+(1023&f.charCodeAt(++g)),d[p++]=m>>18|240,d[p++]=m>>12&63|128,d[p++]=m>>6&63|128,d[p++]=63&m|128):(d[p++]=m>>12|224,d[p++]=m>>6&63|128,d[p++]=63&m|128)}else for(g=0;g<f.length;g++)d[g]=0|f[g];return d},a.toHex=function(f){for(var h="",d=0;d<f.length;d++)h+=s(f[d].toString(16));return h},a.htonl=l,a.toHex32=function(f,h){for(var d="",p=0;p<f.length;p++){var g=f[p];h==="little"&&(g=l(g)),d+=c(g.toString(16))}return d},a.zero2=s,a.zero8=c,a.join32=function(f,h,d,p){var g=d-h;n(g%4==0);for(var m=new Array(g/4),b=0,y=h;b<m.length;b++,y+=4){var x;x=p==="big"?f[y]<<24|f[y+1]<<16|f[y+2]<<8|f[y+3]:f[y+3]<<24|f[y+2]<<16|f[y+1]<<8|f[y],m[b]=x>>>0}return m},a.split32=function(f,h){for(var d=new Array(4*f.length),p=0,g=0;p<f.length;p++,g+=4){var m=f[p];h==="big"?(d[g]=m>>>24,d[g+1]=m>>>16&255,d[g+2]=m>>>8&255,d[g+3]=255&m):(d[g+3]=m>>>24,d[g+2]=m>>>16&255,d[g+1]=m>>>8&255,d[g]=255&m)}return d},a.rotr32=function(f,h){return f>>>h|f<<32-h},a.rotl32=function(f,h){return f<<h|f>>>32-h},a.sum32=function(f,h){return f+h>>>0},a.sum32_3=function(f,h,d){return f+h+d>>>0},a.sum32_4=function(f,h,d,p){return f+h+d+p>>>0},a.sum32_5=function(f,h,d,p,g){return f+h+d+p+g>>>0},a.sum64=function(f,h,d,p){var g=f[h],m=p+f[h+1]>>>0,b=(m<p?1:0)+d+g;f[h]=b>>>0,f[h+1]=m},a.sum64_hi=function(f,h,d,p){return(h+p>>>0<h?1:0)+f+d>>>0},a.sum64_lo=function(f,h,d,p){return h+p>>>0},a.sum64_4_hi=function(f,h,d,p,g,m,b,y){var x=0,k=h;return x+=(k=k+p>>>0)<h?1:0,x+=(k=k+m>>>0)<m?1:0,f+d+g+b+(x+=(k=k+y>>>0)<y?1:0)>>>0},a.sum64_4_lo=function(f,h,d,p,g,m,b,y){return h+p+m+y>>>0},a.sum64_5_hi=function(f,h,d,p,g,m,b,y,x,k){var M=0,I=h;return M+=(I=I+p>>>0)<h?1:0,M+=(I=I+m>>>0)<m?1:0,M+=(I=I+y>>>0)<y?1:0,f+d+g+b+x+(M+=(I=I+k>>>0)<k?1:0)>>>0},a.sum64_5_lo=function(f,h,d,p,g,m,b,y,x,k){return h+p+m+y+k>>>0},a.rotr64_hi=function(f,h,d){return(h<<32-d|f>>>d)>>>0},a.rotr64_lo=function(f,h,d){return(f<<32-d|h>>>d)>>>0},a.shr64_hi=function(f,h,d){return f>>>d},a.shr64_lo=function(f,h,d){return(f<<32-d|h>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,r,a){var n=t("hash.js"),i=t("minimalistic-crypto-utils"),o=t("minimalistic-assert");function l(s){if(!(this instanceof l))return new l(s);this.hash=s.hash,this.predResist=!!s.predResist,this.outLen=this.hash.outSize,this.minEntropy=s.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=i.toArray(s.entropy,s.entropyEnc||"hex"),f=i.toArray(s.nonce,s.nonceEnc||"hex"),h=i.toArray(s.pers,s.persEnc||"hex");o(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,f,h)}r.exports=l,l.prototype._init=function(s,c,f){var h=s.concat(c).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},l.prototype._update=function(s){var c=this._hmac().update(this.V).update([0]);s&&(c=c.update(s)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),s&&(this.K=this._hmac().update(this.V).update([1]).update(s).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(s,c,f,h){typeof c!="string"&&(h=f,f=c,c=null),s=i.toArray(s,c),f=i.toArray(f,h),o(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(s.concat(f||[])),this._reseed=1},l.prototype.generate=function(s,c,f,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(h=f,f=c,c=null),f&&(f=i.toArray(f,h||"hex"),this._update(f));for(var d=[];d.length<s;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var p=d.slice(0,s);return this._update(f),this._reseed++,i.encode(p,c)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,r,a){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */a.read=function(n,i,o,l,s){var c,f,h=8*s-l-1,d=(1<<h)-1,p=d>>1,g=-7,m=o?s-1:0,b=o?-1:1,y=n[i+m];for(m+=b,c=y&(1<<-g)-1,y>>=-g,g+=h;g>0;c=256*c+n[i+m],m+=b,g-=8);for(f=c&(1<<-g)-1,c>>=-g,g+=l;g>0;f=256*f+n[i+m],m+=b,g-=8);if(c===0)c=1-p;else{if(c===d)return f?NaN:1/0*(y?-1:1);f+=Math.pow(2,l),c-=p}return(y?-1:1)*f*Math.pow(2,c-l)},a.write=function(n,i,o,l,s,c){var f,h,d,p=8*c-s-1,g=(1<<p)-1,m=g>>1,b=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=l?0:c-1,x=l?1:-1,k=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(h=isNaN(i)?1:0,f=g):(f=Math.floor(Math.log(i)/Math.LN2),i*(d=Math.pow(2,-f))<1&&(f--,d*=2),(i+=f+m>=1?b/d:b*Math.pow(2,1-m))*d>=2&&(f++,d/=2),f+m>=g?(h=0,f=g):f+m>=1?(h=(i*d-1)*Math.pow(2,s),f+=m):(h=i*Math.pow(2,m-1)*Math.pow(2,s),f=0));s>=8;n[o+y]=255&h,y+=x,h/=256,s-=8);for(f=f<<s|h,p+=s;p>0;n[o+y]=255&f,y+=x,f/=256,p-=8);n[o+y-x]|=128*k}},{}],440:[function(t,r,a){typeof Object.create=="function"?r.exports=function(n,i){i&&(n.super_=i,n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(n,i){if(i){n.super_=i;var o=function(){};o.prototype=i.prototype,n.prototype=new o,n.prototype.constructor=n}}},{}],441:[function(t,r,a){(function(n,i,o,l,s,c,f,h){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(d){typeof a=="object"&&r!==void 0?r.exports=d():(typeof window<"u"?window:i!==void 0?i:typeof self<"u"?self:this).JSZip=d()})(function(){return function d(p,g,m){function b(k,M){if(!g[k]){if(!p[k]){var I=typeof t=="function"&&t;if(!M&&I)return I(k,!0);if(y)return y(k,!0);var B=new Error("Cannot find module '"+k+"'");throw B.code="MODULE_NOT_FOUND",B}var j=g[k]={exports:{}};p[k][0].call(j.exports,function(F){return b(p[k][1][F]||F)},j,j.exports,d,p,g,m)}return g[k].exports}for(var y=typeof t=="function"&&t,x=0;x<m.length;x++)b(m[x]);return b}({1:[function(d,p,g){var m=d("./utils"),b=d("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(x){for(var k,M,I,B,j,F,z,$=[],H=0,C=x.length,O=C,A=m.getTypeOf(x)!=="string";H<x.length;)O=C-H,I=A?(k=x[H++],M=H<C?x[H++]:0,H<C?x[H++]:0):(k=x.charCodeAt(H++),M=H<C?x.charCodeAt(H++):0,H<C?x.charCodeAt(H++):0),B=k>>2,j=(3&k)<<4|M>>4,F=1<O?(15&M)<<2|I>>6:64,z=2<O?63&I:64,$.push(y.charAt(B)+y.charAt(j)+y.charAt(F)+y.charAt(z));return $.join("")},g.decode=function(x){var k,M,I,B,j,F,z=0,$=0,H="data:";if(x.substr(0,H.length)===H)throw new Error("Invalid base64 input, it looks like a data url.");var C,O=3*(x=x.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(x.charAt(x.length-1)===y.charAt(64)&&O--,x.charAt(x.length-2)===y.charAt(64)&&O--,O%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=b.uint8array?new Uint8Array(0|O):new Array(0|O);z<x.length;)k=y.indexOf(x.charAt(z++))<<2|(B=y.indexOf(x.charAt(z++)))>>4,M=(15&B)<<4|(j=y.indexOf(x.charAt(z++)))>>2,I=(3&j)<<6|(F=y.indexOf(x.charAt(z++))),C[$++]=k,j!==64&&(C[$++]=M),F!==64&&(C[$++]=I);return C}},{"./support":30,"./utils":32}],2:[function(d,p,g){var m=d("./external"),b=d("./stream/DataWorker"),y=d("./stream/Crc32Probe"),x=d("./stream/DataLengthProbe");function k(M,I,B,j,F){this.compressedSize=M,this.uncompressedSize=I,this.crc32=B,this.compression=j,this.compressedContent=F}k.prototype={getContentWorker:function(){var M=new b(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new x("data_length")),I=this;return M.on("end",function(){if(this.streamInfo.data_length!==I.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),M},getCompressedWorker:function(){return new b(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},k.createWorkerFrom=function(M,I,B){return M.pipe(new y).pipe(new x("uncompressedSize")).pipe(I.compressWorker(B)).pipe(new x("compressedSize")).withStreamInfo("compression",I)},p.exports=k},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,p,g){var m=d("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},g.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,p,g){var m=d("./utils"),b=function(){for(var y,x=[],k=0;k<256;k++){y=k;for(var M=0;M<8;M++)y=1&y?3988292384^y>>>1:y>>>1;x[k]=y}return x}();p.exports=function(y,x){return y!==void 0&&y.length?m.getTypeOf(y)!=="string"?function(k,M,I,B){var j=b,F=0+I;k^=-1;for(var z=0;z<F;z++)k=k>>>8^j[255&(k^M[z])];return-1^k}(0|x,y,y.length):function(k,M,I,B){var j=b,F=0+I;k^=-1;for(var z=0;z<F;z++)k=k>>>8^j[255&(k^M.charCodeAt(z))];return-1^k}(0|x,y,y.length):0}},{"./utils":32}],5:[function(d,p,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(d,p,g){var m;m=typeof Promise<"u"?Promise:d("lie"),p.exports={Promise:m}},{lie:37}],7:[function(d,p,g){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",b=d("pako"),y=d("./utils"),x=d("./stream/GenericWorker"),k=m?"uint8array":"array";function M(I,B){x.call(this,"FlateWorker/"+I),this._pako=null,this._pakoAction=I,this._pakoOptions=B,this.meta={}}g.magic="\b\0",y.inherits(M,x),M.prototype.processChunk=function(I){this.meta=I.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(k,I.data),!1)},M.prototype.flush=function(){x.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},M.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this._pako=null},M.prototype._createPako=function(){this._pako=new b[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var I=this;this._pako.onData=function(B){I.push({data:B,meta:I.meta})}},g.compressWorker=function(I){return new M("Deflate",I)},g.uncompressWorker=function(){return new M("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,p,g){function m(j,F){var z,$="";for(z=0;z<F;z++)$+=String.fromCharCode(255&j),j>>>=8;return $}function b(j,F,z,$,H,C){var O,A,v=j.file,w=j.compression,_=C!==k.utf8encode,S=y.transformTo("string",C(v.name)),T=y.transformTo("string",k.utf8encode(v.name)),N=v.comment,L=y.transformTo("string",C(N)),V=y.transformTo("string",k.utf8encode(N)),q=T.length!==v.name.length,Y=V.length!==N.length,D="",X="",P="",R=v.dir,U=v.date,Z={crc32:0,compressedSize:0,uncompressedSize:0};F&&!z||(Z.crc32=j.crc32,Z.compressedSize=j.compressedSize,Z.uncompressedSize=j.uncompressedSize);var st=0;F&&(st|=8),_||!q&&!Y||(st|=2048);var W=0,G=0;R&&(W|=16),H==="UNIX"?(G=798,W|=function(it,K){var rt=it;return it||(rt=K?16893:33204),(65535&rt)<<16}(v.unixPermissions,R)):(G=20,W|=function(it){return 63&(it||0)}(v.dosPermissions)),O=U.getUTCHours(),O<<=6,O|=U.getUTCMinutes(),O<<=5,O|=U.getUTCSeconds()/2,A=U.getUTCFullYear()-1980,A<<=4,A|=U.getUTCMonth()+1,A<<=5,A|=U.getUTCDate(),q&&(X=m(1,1)+m(M(S),4)+T,D+="up"+m(X.length,2)+X),Y&&(P=m(1,1)+m(M(L),4)+V,D+="uc"+m(P.length,2)+P);var et="";return et+=`
\0`,et+=m(st,2),et+=w.magic,et+=m(O,2),et+=m(A,2),et+=m(Z.crc32,4),et+=m(Z.compressedSize,4),et+=m(Z.uncompressedSize,4),et+=m(S.length,2),et+=m(D.length,2),{fileRecord:I.LOCAL_FILE_HEADER+et+S+D,dirRecord:I.CENTRAL_FILE_HEADER+m(G,2)+et+m(L.length,2)+"\0\0\0\0"+m(W,4)+m($,4)+S+D+L}}var y=d("../utils"),x=d("../stream/GenericWorker"),k=d("../utf8"),M=d("../crc32"),I=d("../signature");function B(j,F,z,$){x.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=F,this.zipPlatform=z,this.encodeFileName=$,this.streamFiles=j,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(B,x),B.prototype.push=function(j){var F=j.meta.percent||0,z=this.entriesCount,$=this._sources.length;this.accumulate?this.contentBuffer.push(j):(this.bytesWritten+=j.data.length,x.prototype.push.call(this,{data:j.data,meta:{currentFile:this.currentFile,percent:z?(F+100*(z-$-1))/z:100}}))},B.prototype.openedSource=function(j){this.currentSourceOffset=this.bytesWritten,this.currentFile=j.file.name;var F=this.streamFiles&&!j.file.dir;if(F){var z=b(j,F,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:z.fileRecord,meta:{percent:0}})}else this.accumulate=!0},B.prototype.closedSource=function(j){this.accumulate=!1;var F=this.streamFiles&&!j.file.dir,z=b(j,F,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(z.dirRecord),F)this.push({data:function($){return I.DATA_DESCRIPTOR+m($.crc32,4)+m($.compressedSize,4)+m($.uncompressedSize,4)}(j),meta:{percent:100}});else for(this.push({data:z.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},B.prototype.flush=function(){for(var j=this.bytesWritten,F=0;F<this.dirRecords.length;F++)this.push({data:this.dirRecords[F],meta:{percent:100}});var z=this.bytesWritten-j,$=function(H,C,O,A,v){var w=y.transformTo("string",v(A));return I.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(H,2)+m(H,2)+m(C,4)+m(O,4)+m(w.length,2)+w}(this.dirRecords.length,z,j,this.zipComment,this.encodeFileName);this.push({data:$,meta:{percent:100}})},B.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},B.prototype.registerPrevious=function(j){this._sources.push(j);var F=this;return j.on("data",function(z){F.processChunk(z)}),j.on("end",function(){F.closedSource(F.previous.streamInfo),F._sources.length?F.prepareNextSource():F.end()}),j.on("error",function(z){F.error(z)}),this},B.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},B.prototype.error=function(j){var F=this._sources;if(!x.prototype.error.call(this,j))return!1;for(var z=0;z<F.length;z++)try{F[z].error(j)}catch{}return!0},B.prototype.lock=function(){x.prototype.lock.call(this);for(var j=this._sources,F=0;F<j.length;F++)j[F].lock()},p.exports=B},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,p,g){var m=d("../compressions"),b=d("./ZipFileWorker");g.generateWorker=function(y,x,k){var M=new b(x.streamFiles,k,x.platform,x.encodeFileName),I=0;try{y.forEach(function(B,j){I++;var F=function(C,O){var A=C||O,v=m[A];if(!v)throw new Error(A+" is not a valid compression method !");return v}(j.options.compression,x.compression),z=j.options.compressionOptions||x.compressionOptions||{},$=j.dir,H=j.date;j._compressWorker(F,z).withStreamInfo("file",{name:B,dir:$,date:H,comment:j.comment||"",unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions}).pipe(M)}),M.entriesCount=I}catch(B){M.error(B)}return M}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,p,g){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var b=new m;for(var y in this)typeof this[y]!="function"&&(b[y]=this[y]);return b}}(m.prototype=d("./object")).loadAsync=d("./load"),m.support=d("./support"),m.defaults=d("./defaults"),m.version="3.10.1",m.loadAsync=function(b,y){return new m().loadAsync(b,y)},m.external=d("./external"),p.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,p,g){var m=d("./utils"),b=d("./external"),y=d("./utf8"),x=d("./zipEntries"),k=d("./stream/Crc32Probe"),M=d("./nodejsUtils");function I(B){return new b.Promise(function(j,F){var z=B.decompressed.getContentWorker().pipe(new k);z.on("error",function($){F($)}).on("end",function(){z.streamInfo.crc32!==B.decompressed.crc32?F(new Error("Corrupted zip : CRC32 mismatch")):j()}).resume()})}p.exports=function(B,j){var F=this;return j=m.extend(j||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),M.isNode&&M.isStream(B)?b.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",B,!0,j.optimizedBinaryString,j.base64).then(function(z){var $=new x(j);return $.load(z),$}).then(function(z){var $=[b.Promise.resolve(z)],H=z.files;if(j.checkCRC32)for(var C=0;C<H.length;C++)$.push(I(H[C]));return b.Promise.all($)}).then(function(z){for(var $=z.shift(),H=$.files,C=0;C<H.length;C++){var O=H[C],A=O.fileNameStr,v=m.resolve(O.fileNameStr);F.file(v,O.decompressed,{binary:!0,optimizedBinaryString:!0,date:O.date,dir:O.dir,comment:O.fileCommentStr.length?O.fileCommentStr:null,unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions,createFolders:j.createFolders}),O.dir||(F.file(v).unsafeOriginalName=A)}return $.zipComment.length&&(F.comment=$.zipComment),F})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,p,g){var m=d("../utils"),b=d("../stream/GenericWorker");function y(x,k){b.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(k)}m.inherits(y,b),y.prototype._bindStream=function(x){var k=this;(this._stream=x).pause(),x.on("data",function(M){k.push({data:M,meta:{percent:0}})}).on("error",function(M){k.isPaused?this.generatedError=M:k.error(M)}).on("end",function(){k.isPaused?k._upstreamEnded=!0:k.end()})},y.prototype.pause=function(){return!!b.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},p.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,p,g){var m=d("readable-stream").Readable;function b(y,x,k){m.call(this,x),this._helper=y;var M=this;y.on("data",function(I,B){M.push(I)||M._helper.pause(),k&&k(B)}).on("error",function(I){M.emit("error",I)}).on("end",function(){M.push(null)})}d("../utils").inherits(b,m),b.prototype._read=function(){this._helper.resume()},p.exports=b},{"../utils":32,"readable-stream":16}],14:[function(d,p,g){p.exports={isNode:o!==void 0,newBufferFrom:function(m,b){if(o.from&&o.from!==Uint8Array.from)return o.from(m,b);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new o(m,b)},allocBuffer:function(m){if(o.alloc)return o.alloc(m);var b=new o(m);return b.fill(0),b},isBuffer:function(m){return o.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(d,p,g){function m(v,w,_){var S,T=y.getTypeOf(w),N=y.extend(_||{},M);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(v=H(v)),N.createFolders&&(S=$(v))&&C.call(this,S,!0);var L=T==="string"&&N.binary===!1&&N.base64===!1;_&&_.binary!==void 0||(N.binary=!L),(w instanceof I&&w.uncompressedSize===0||N.dir||!w||w.length===0)&&(N.base64=!1,N.binary=!0,w="",N.compression="STORE",T="string");var V;V=w instanceof I||w instanceof x?w:F.isNode&&F.isStream(w)?new z(v,w):y.prepareContent(v,w,N.binary,N.optimizedBinaryString,N.base64);var q=new B(v,V,N);this.files[v]=q}var b=d("./utf8"),y=d("./utils"),x=d("./stream/GenericWorker"),k=d("./stream/StreamHelper"),M=d("./defaults"),I=d("./compressedObject"),B=d("./zipObject"),j=d("./generate"),F=d("./nodejsUtils"),z=d("./nodejs/NodejsStreamInputAdapter"),$=function(v){v.slice(-1)==="/"&&(v=v.substring(0,v.length-1));var w=v.lastIndexOf("/");return 0<w?v.substring(0,w):""},H=function(v){return v.slice(-1)!=="/"&&(v+="/"),v},C=function(v,w){return w=w!==void 0?w:M.createFolders,v=H(v),this.files[v]||m.call(this,v,null,{dir:!0,createFolders:w}),this.files[v]};function O(v){return Object.prototype.toString.call(v)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(v){var w,_,S;for(w in this.files)S=this.files[w],(_=w.slice(this.root.length,w.length))&&w.slice(0,this.root.length)===this.root&&v(_,S)},filter:function(v){var w=[];return this.forEach(function(_,S){v(_,S)&&w.push(S)}),w},file:function(v,w,_){if(arguments.length!==1)return v=this.root+v,m.call(this,v,w,_),this;if(O(v)){var S=v;return this.filter(function(N,L){return!L.dir&&S.test(N)})}var T=this.files[this.root+v];return T&&!T.dir?T:null},folder:function(v){if(!v)return this;if(O(v))return this.filter(function(T,N){return N.dir&&v.test(T)});var w=this.root+v,_=C.call(this,w),S=this.clone();return S.root=_.name,S},remove:function(v){v=this.root+v;var w=this.files[v];if(w||(v.slice(-1)!=="/"&&(v+="/"),w=this.files[v]),w&&!w.dir)delete this.files[v];else for(var _=this.filter(function(T,N){return N.name.slice(0,v.length)===v}),S=0;S<_.length;S++)delete this.files[_[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(v){var w,_={};try{if((_=y.extend(v||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:b.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");y.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var S=_.comment||this.comment||"";w=j.generateWorker(this,_,S)}catch(T){(w=new x("error")).error(T)}return new k(w,_.type||"string",_.mimeType)},generateAsync:function(v,w){return this.generateInternalStream(v).accumulate(w)},generateNodeStream:function(v,w){return(v=v||{}).type||(v.type="nodebuffer"),this.generateInternalStream(v).toNodejsStream(w)}};p.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,p,g){p.exports=d("stream")},{stream:void 0}],17:[function(d,p,g){var m=d("./DataReader");function b(y){m.call(this,y);for(var x=0;x<this.data.length;x++)y[x]=255&y[x]}d("../utils").inherits(b,m),b.prototype.byteAt=function(y){return this.data[this.zero+y]},b.prototype.lastIndexOfSignature=function(y){for(var x=y.charCodeAt(0),k=y.charCodeAt(1),M=y.charCodeAt(2),I=y.charCodeAt(3),B=this.length-4;0<=B;--B)if(this.data[B]===x&&this.data[B+1]===k&&this.data[B+2]===M&&this.data[B+3]===I)return B-this.zero;return-1},b.prototype.readAndCheckSignature=function(y){var x=y.charCodeAt(0),k=y.charCodeAt(1),M=y.charCodeAt(2),I=y.charCodeAt(3),B=this.readData(4);return x===B[0]&&k===B[1]&&M===B[2]&&I===B[3]},b.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var x=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,x},p.exports=b},{"../utils":32,"./DataReader":18}],18:[function(d,p,g){var m=d("../utils");function b(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}b.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var x,k=0;for(this.checkOffset(y),x=this.index+y-1;x>=this.index;x--)k=(k<<8)+this.byteAt(x);return this.index+=y,k},readString:function(y){return m.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},p.exports=b},{"../utils":32}],19:[function(d,p,g){var m=d("./Uint8ArrayReader");function b(y){m.call(this,y)}d("../utils").inherits(b,m),b.prototype.readData=function(y){this.checkOffset(y);var x=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,x},p.exports=b},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,p,g){var m=d("./DataReader");function b(y){m.call(this,y)}d("../utils").inherits(b,m),b.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},b.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},b.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},b.prototype.readData=function(y){this.checkOffset(y);var x=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,x},p.exports=b},{"../utils":32,"./DataReader":18}],21:[function(d,p,g){var m=d("./ArrayReader");function b(y){m.call(this,y)}d("../utils").inherits(b,m),b.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var x=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,x},p.exports=b},{"../utils":32,"./ArrayReader":17}],22:[function(d,p,g){var m=d("../utils"),b=d("../support"),y=d("./ArrayReader"),x=d("./StringReader"),k=d("./NodeBufferReader"),M=d("./Uint8ArrayReader");p.exports=function(I){var B=m.getTypeOf(I);return m.checkSupport(B),B!=="string"||b.uint8array?B==="nodebuffer"?new k(I):b.uint8array?new M(m.transformTo("uint8array",I)):new y(m.transformTo("array",I)):new x(I)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,p,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,p,g){var m=d("./GenericWorker"),b=d("../utils");function y(x){m.call(this,"ConvertWorker to "+x),this.destType=x}b.inherits(y,m),y.prototype.processChunk=function(x){this.push({data:b.transformTo(this.destType,x.data),meta:x.meta})},p.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(d,p,g){var m=d("./GenericWorker"),b=d("../crc32");function y(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(y,m),y.prototype.processChunk=function(x){this.streamInfo.crc32=b(x.data,this.streamInfo.crc32||0),this.push(x)},p.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,p,g){var m=d("../utils"),b=d("./GenericWorker");function y(x){b.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}m.inherits(y,b),y.prototype.processChunk=function(x){if(x){var k=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=k+x.data.length}b.prototype.processChunk.call(this,x)},p.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(d,p,g){var m=d("../utils"),b=d("./GenericWorker");function y(x){b.call(this,"DataWorker");var k=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then(function(M){k.dataIsReady=!0,k.data=M,k.max=M&&M.length||0,k.type=m.getTypeOf(M),k.isPaused||k._tickAndRepeat()},function(M){k.error(M)})}m.inherits(y,b),y.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=null,k=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,k);break;case"uint8array":x=this.data.subarray(this.index,k);break;case"array":case"nodebuffer":x=this.data.slice(this.index,k)}return this.index=k,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},p.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(d,p,g){function m(b){this.name=b||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(b){this.emit("data",b)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(b){this.emit("error",b)}return!0},error:function(b){return!this.isFinished&&(this.isPaused?this.generatedError=b:(this.isFinished=!0,this.emit("error",b),this.previous&&this.previous.error(b),this.cleanUp()),!0)},on:function(b,y){return this._listeners[b].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(b,y){if(this._listeners[b])for(var x=0;x<this._listeners[b].length;x++)this._listeners[b][x].call(this,y)},pipe:function(b){return b.registerPrevious(this)},registerPrevious:function(b){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=b.streamInfo,this.mergeStreamInfo(),this.previous=b;var y=this;return b.on("data",function(x){y.processChunk(x)}),b.on("end",function(){y.end()}),b.on("error",function(x){y.error(x)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var b=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),b=!0),this.previous&&this.previous.resume(),!b},flush:function(){},processChunk:function(b){this.push(b)},withStreamInfo:function(b,y){return this.extraStreamInfo[b]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var b in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,b)&&(this.streamInfo[b]=this.extraStreamInfo[b])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var b="Worker "+this.name;return this.previous?this.previous+" -> "+b:b}},p.exports=m},{}],29:[function(d,p,g){var m=d("../utils"),b=d("./ConvertWorker"),y=d("./GenericWorker"),x=d("../base64"),k=d("../support"),M=d("../external"),I=null;if(k.nodestream)try{I=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function B(j,F,z){var $=F;switch(F){case"blob":case"arraybuffer":$="uint8array";break;case"base64":$="string"}try{this._internalType=$,this._outputType=F,this._mimeType=z,m.checkSupport($),this._worker=j.pipe(new b($)),j.lock()}catch(H){this._worker=new y("error"),this._worker.error(H)}}B.prototype={accumulate:function(j){return function(F,z){return new M.Promise(function($,H){var C=[],O=F._internalType,A=F._outputType,v=F._mimeType;F.on("data",function(w,_){C.push(w),z&&z(_)}).on("error",function(w){C=[],H(w)}).on("end",function(){try{var w=function(_,S,T){switch(_){case"blob":return m.newBlob(m.transformTo("arraybuffer",S),T);case"base64":return x.encode(S);default:return m.transformTo(_,S)}}(A,function(_,S){var T,N=0,L=null,V=0;for(T=0;T<S.length;T++)V+=S[T].length;switch(_){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(L=new Uint8Array(V),T=0;T<S.length;T++)L.set(S[T],N),N+=S[T].length;return L;case"nodebuffer":return o.concat(S);default:throw new Error("concat : unsupported type '"+_+"'")}}(O,C),v);$(w)}catch(_){H(_)}C=[]}).resume()})}(this,j)},on:function(j,F){var z=this;return j==="data"?this._worker.on(j,function($){F.call(z,$.data,$.meta)}):this._worker.on(j,function(){m.delay(F,arguments,z)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new I(this,{objectMode:this._outputType!=="nodebuffer"},j)}},p.exports=B},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,p,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=o!==void 0,g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var m=new ArrayBuffer(0);try{g.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);b.append(m),g.blob=b.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!d("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(d,p,g){for(var m=d("./utils"),b=d("./support"),y=d("./nodejsUtils"),x=d("./stream/GenericWorker"),k=new Array(256),M=0;M<256;M++)k[M]=252<=M?6:248<=M?5:240<=M?4:224<=M?3:192<=M?2:1;function I(){x.call(this,"utf-8 decode"),this.leftOver=null}function B(){x.call(this,"utf-8 encode")}k[254]=k[254]=1,g.utf8encode=function(j){return b.nodebuffer?y.newBufferFrom(j,"utf-8"):function(F){var z,$,H,C,O,A=F.length,v=0;for(C=0;C<A;C++)(64512&($=F.charCodeAt(C)))==55296&&C+1<A&&(64512&(H=F.charCodeAt(C+1)))==56320&&($=65536+($-55296<<10)+(H-56320),C++),v+=$<128?1:$<2048?2:$<65536?3:4;for(z=b.uint8array?new Uint8Array(v):new Array(v),C=O=0;O<v;C++)(64512&($=F.charCodeAt(C)))==55296&&C+1<A&&(64512&(H=F.charCodeAt(C+1)))==56320&&($=65536+($-55296<<10)+(H-56320),C++),$<128?z[O++]=$:($<2048?z[O++]=192|$>>>6:($<65536?z[O++]=224|$>>>12:(z[O++]=240|$>>>18,z[O++]=128|$>>>12&63),z[O++]=128|$>>>6&63),z[O++]=128|63&$);return z}(j)},g.utf8decode=function(j){return b.nodebuffer?m.transformTo("nodebuffer",j).toString("utf-8"):function(F){var z,$,H,C,O=F.length,A=new Array(2*O);for(z=$=0;z<O;)if((H=F[z++])<128)A[$++]=H;else if(4<(C=k[H]))A[$++]=65533,z+=C-1;else{for(H&=C===2?31:C===3?15:7;1<C&&z<O;)H=H<<6|63&F[z++],C--;1<C?A[$++]=65533:H<65536?A[$++]=H:(H-=65536,A[$++]=55296|H>>10&1023,A[$++]=56320|1023&H)}return A.length!==$&&(A.subarray?A=A.subarray(0,$):A.length=$),m.applyFromCharCode(A)}(j=m.transformTo(b.uint8array?"uint8array":"array",j))},m.inherits(I,x),I.prototype.processChunk=function(j){var F=m.transformTo(b.uint8array?"uint8array":"array",j.data);if(this.leftOver&&this.leftOver.length){if(b.uint8array){var z=F;(F=new Uint8Array(z.length+this.leftOver.length)).set(this.leftOver,0),F.set(z,this.leftOver.length)}else F=this.leftOver.concat(F);this.leftOver=null}var $=function(C,O){var A;for((O=O||C.length)>C.length&&(O=C.length),A=O-1;0<=A&&(192&C[A])==128;)A--;return A<0||A===0?O:A+k[C[A]]>O?A:O}(F),H=F;$!==F.length&&(b.uint8array?(H=F.subarray(0,$),this.leftOver=F.subarray($,F.length)):(H=F.slice(0,$),this.leftOver=F.slice($,F.length))),this.push({data:g.utf8decode(H),meta:j.meta})},I.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=I,m.inherits(B,x),B.prototype.processChunk=function(j){this.push({data:g.utf8encode(j.data),meta:j.meta})},g.Utf8EncodeWorker=B},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,p,g){var m=d("./support"),b=d("./base64"),y=d("./nodejsUtils"),x=d("./external");function k(z){return z}function M(z,$){for(var H=0;H<z.length;++H)$[H]=255&z.charCodeAt(H);return $}d("setimmediate"),g.newBlob=function(z,$){g.checkSupport("blob");try{return new Blob([z],{type:$})}catch{try{var H=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return H.append(z),H.getBlob($)}catch{throw new Error("Bug : can't construct the Blob.")}}};var I={stringifyByChunk:function(z,$,H){var C=[],O=0,A=z.length;if(A<=H)return String.fromCharCode.apply(null,z);for(;O<A;)$==="array"||$==="nodebuffer"?C.push(String.fromCharCode.apply(null,z.slice(O,Math.min(O+H,A)))):C.push(String.fromCharCode.apply(null,z.subarray(O,Math.min(O+H,A)))),O+=H;return C.join("")},stringifyByChar:function(z){for(var $="",H=0;H<z.length;H++)$+=String.fromCharCode(z[H]);return $},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}}()}};function B(z){var $=65536,H=g.getTypeOf(z),C=!0;if(H==="uint8array"?C=I.applyCanBeUsed.uint8array:H==="nodebuffer"&&(C=I.applyCanBeUsed.nodebuffer),C)for(;1<$;)try{return I.stringifyByChunk(z,H,$)}catch{$=Math.floor($/2)}return I.stringifyByChar(z)}function j(z,$){for(var H=0;H<z.length;H++)$[H]=z[H];return $}g.applyFromCharCode=B;var F={};F.string={string:k,array:function(z){return M(z,new Array(z.length))},arraybuffer:function(z){return F.string.uint8array(z).buffer},uint8array:function(z){return M(z,new Uint8Array(z.length))},nodebuffer:function(z){return M(z,y.allocBuffer(z.length))}},F.array={string:B,array:k,arraybuffer:function(z){return new Uint8Array(z).buffer},uint8array:function(z){return new Uint8Array(z)},nodebuffer:function(z){return y.newBufferFrom(z)}},F.arraybuffer={string:function(z){return B(new Uint8Array(z))},array:function(z){return j(new Uint8Array(z),new Array(z.byteLength))},arraybuffer:k,uint8array:function(z){return new Uint8Array(z)},nodebuffer:function(z){return y.newBufferFrom(new Uint8Array(z))}},F.uint8array={string:B,array:function(z){return j(z,new Array(z.length))},arraybuffer:function(z){return z.buffer},uint8array:k,nodebuffer:function(z){return y.newBufferFrom(z)}},F.nodebuffer={string:B,array:function(z){return j(z,new Array(z.length))},arraybuffer:function(z){return F.nodebuffer.uint8array(z).buffer},uint8array:function(z){return j(z,new Uint8Array(z.length))},nodebuffer:k},g.transformTo=function(z,$){if($=$||"",!z)return $;g.checkSupport(z);var H=g.getTypeOf($);return F[H][z]($)},g.resolve=function(z){for(var $=z.split("/"),H=[],C=0;C<$.length;C++){var O=$[C];O==="."||O===""&&C!==0&&C!==$.length-1||(O===".."?H.pop():H.push(O))}return H.join("/")},g.getTypeOf=function(z){return typeof z=="string"?"string":Object.prototype.toString.call(z)==="[object Array]"?"array":m.nodebuffer&&y.isBuffer(z)?"nodebuffer":m.uint8array&&z instanceof Uint8Array?"uint8array":m.arraybuffer&&z instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(z){if(!m[z.toLowerCase()])throw new Error(z+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(z){var $,H,C="";for(H=0;H<(z||"").length;H++)C+="\\x"+(($=z.charCodeAt(H))<16?"0":"")+$.toString(16).toUpperCase();return C},g.delay=function(z,$,H){h(function(){z.apply(H||null,$||[])})},g.inherits=function(z,$){function H(){}H.prototype=$.prototype,z.prototype=new H},g.extend=function(){var z,$,H={};for(z=0;z<arguments.length;z++)for($ in arguments[z])Object.prototype.hasOwnProperty.call(arguments[z],$)&&H[$]===void 0&&(H[$]=arguments[z][$]);return H},g.prepareContent=function(z,$,H,C,O){return x.Promise.resolve($).then(function(A){return m.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new x.Promise(function(v,w){var _=new FileReader;_.onload=function(S){v(S.target.result)},_.onerror=function(S){w(S.target.error)},_.readAsArrayBuffer(A)}):A}).then(function(A){var v=g.getTypeOf(A);return v?(v==="arraybuffer"?A=g.transformTo("uint8array",A):v==="string"&&(O?A=b.decode(A):H&&C!==!0&&(A=function(w){return M(w,m.uint8array?new Uint8Array(w.length):new Array(w.length))}(A))),A):x.Promise.reject(new Error("Can't read the data of '"+z+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,p,g){var m=d("./reader/readerFor"),b=d("./utils"),y=d("./signature"),x=d("./zipEntry"),k=d("./support");function M(I){this.files=[],this.loadOptions=I}M.prototype={checkSignature:function(I){if(!this.reader.readAndCheckSignature(I)){this.reader.index-=4;var B=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+b.pretty(B)+", expected "+b.pretty(I)+")")}},isSignature:function(I,B){var j=this.reader.index;this.reader.setIndex(I);var F=this.reader.readString(4)===B;return this.reader.setIndex(j),F},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var I=this.reader.readData(this.zipCommentLength),B=k.uint8array?"uint8array":"array",j=b.transformTo(B,I);this.zipComment=this.loadOptions.decodeFileName(j)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var I,B,j,F=this.zip64EndOfCentralSize-44;0<F;)I=this.reader.readInt(2),B=this.reader.readInt(4),j=this.reader.readData(B),this.zip64ExtensibleData[I]={id:I,length:B,value:j}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var I,B;for(I=0;I<this.files.length;I++)B=this.files[I],this.reader.setIndex(B.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),B.readLocalPart(this.reader),B.handleUTF8(),B.processAttributes()},readCentralDir:function(){var I;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(I=new x({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(I);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var I=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(I<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(I);var B=I;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===b.MAX_VALUE_16BITS||this.diskWithCentralDirStart===b.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===b.MAX_VALUE_16BITS||this.centralDirRecords===b.MAX_VALUE_16BITS||this.centralDirSize===b.MAX_VALUE_32BITS||this.centralDirOffset===b.MAX_VALUE_32BITS){if(this.zip64=!0,(I=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(I),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var j=this.centralDirOffset+this.centralDirSize;this.zip64&&(j+=20,j+=12+this.zip64EndOfCentralSize);var F=B-j;if(0<F)this.isSignature(B,y.CENTRAL_FILE_HEADER)||(this.reader.zero=F);else if(F<0)throw new Error("Corrupted zip: missing "+Math.abs(F)+" bytes.")},prepareReader:function(I){this.reader=m(I)},load:function(I){this.prepareReader(I),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},p.exports=M},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,p,g){var m=d("./reader/readerFor"),b=d("./utils"),y=d("./compressedObject"),x=d("./crc32"),k=d("./utf8"),M=d("./compressions"),I=d("./support");function B(j,F){this.options=j,this.loadOptions=F}B.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(j){var F,z;if(j.skip(22),this.fileNameLength=j.readInt(2),z=j.readInt(2),this.fileName=j.readData(this.fileNameLength),j.skip(z),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((F=function($){for(var H in M)if(Object.prototype.hasOwnProperty.call(M,H)&&M[H].magic===$)return M[H];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+b.pretty(this.compressionMethod)+" unknown (inner file : "+b.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,F,j.readData(this.compressedSize))},readCentralPart:function(j){this.versionMadeBy=j.readInt(2),j.skip(2),this.bitFlag=j.readInt(2),this.compressionMethod=j.readString(2),this.date=j.readDate(),this.crc32=j.readInt(4),this.compressedSize=j.readInt(4),this.uncompressedSize=j.readInt(4);var F=j.readInt(2);if(this.extraFieldsLength=j.readInt(2),this.fileCommentLength=j.readInt(2),this.diskNumberStart=j.readInt(2),this.internalFileAttributes=j.readInt(2),this.externalFileAttributes=j.readInt(4),this.localHeaderOffset=j.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");j.skip(F),this.readExtraFields(j),this.parseZIP64ExtraField(j),this.fileComment=j.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var j=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),j==0&&(this.dosPermissions=63&this.externalFileAttributes),j==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var j=m(this.extraFields[1].value);this.uncompressedSize===b.MAX_VALUE_32BITS&&(this.uncompressedSize=j.readInt(8)),this.compressedSize===b.MAX_VALUE_32BITS&&(this.compressedSize=j.readInt(8)),this.localHeaderOffset===b.MAX_VALUE_32BITS&&(this.localHeaderOffset=j.readInt(8)),this.diskNumberStart===b.MAX_VALUE_32BITS&&(this.diskNumberStart=j.readInt(4))}},readExtraFields:function(j){var F,z,$,H=j.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});j.index+4<H;)F=j.readInt(2),z=j.readInt(2),$=j.readData(z),this.extraFields[F]={id:F,length:z,value:$};j.setIndex(H)},handleUTF8:function(){var j=I.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=k.utf8decode(this.fileName),this.fileCommentStr=k.utf8decode(this.fileComment);else{var F=this.findExtraFieldUnicodePath();if(F!==null)this.fileNameStr=F;else{var z=b.transformTo(j,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(z)}var $=this.findExtraFieldUnicodeComment();if($!==null)this.fileCommentStr=$;else{var H=b.transformTo(j,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(H)}}},findExtraFieldUnicodePath:function(){var j=this.extraFields[28789];if(j){var F=m(j.value);return F.readInt(1)!==1||x(this.fileName)!==F.readInt(4)?null:k.utf8decode(F.readData(j.length-5))}return null},findExtraFieldUnicodeComment:function(){var j=this.extraFields[25461];if(j){var F=m(j.value);return F.readInt(1)!==1||x(this.fileComment)!==F.readInt(4)?null:k.utf8decode(F.readData(j.length-5))}return null}},p.exports=B},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,p,g){function m(F,z,$){this.name=F,this.dir=$.dir,this.date=$.date,this.comment=$.comment,this.unixPermissions=$.unixPermissions,this.dosPermissions=$.dosPermissions,this._data=z,this._dataBinary=$.binary,this.options={compression:$.compression,compressionOptions:$.compressionOptions}}var b=d("./stream/StreamHelper"),y=d("./stream/DataWorker"),x=d("./utf8"),k=d("./compressedObject"),M=d("./stream/GenericWorker");m.prototype={internalStream:function(F){var z=null,$="string";try{if(!F)throw new Error("No output type specified.");var H=($=F.toLowerCase())==="string"||$==="text";$!=="binarystring"&&$!=="text"||($="string"),z=this._decompressWorker();var C=!this._dataBinary;C&&!H&&(z=z.pipe(new x.Utf8EncodeWorker)),!C&&H&&(z=z.pipe(new x.Utf8DecodeWorker))}catch(O){(z=new M("error")).error(O)}return new b(z,$,"")},async:function(F,z){return this.internalStream(F).accumulate(z)},nodeStream:function(F,z){return this.internalStream(F||"nodebuffer").toNodejsStream(z)},_compressWorker:function(F,z){if(this._data instanceof k&&this._data.compression.magic===F.magic)return this._data.getCompressedWorker();var $=this._decompressWorker();return this._dataBinary||($=$.pipe(new x.Utf8EncodeWorker)),k.createWorkerFrom($,F,z)},_decompressWorker:function(){return this._data instanceof k?this._data.getContentWorker():this._data instanceof M?this._data:new y(this._data)}};for(var I=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],B=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},j=0;j<I.length;j++)m.prototype[I[j]]=B;p.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,p,g){(function(m){var b,y,x=m.MutationObserver||m.WebKitMutationObserver;if(x){var k=0,M=new x(F),I=m.document.createTextNode("");M.observe(I,{characterData:!0}),b=function(){I.data=k=++k%2}}else if(m.setImmediate||m.MessageChannel===void 0)b="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var z=m.document.createElement("script");z.onreadystatechange=function(){F(),z.onreadystatechange=null,z.parentNode.removeChild(z),z=null},m.document.documentElement.appendChild(z)}:function(){setTimeout(F,0)};else{var B=new m.MessageChannel;B.port1.onmessage=F,b=function(){B.port2.postMessage(0)}}var j=[];function F(){var z,$;y=!0;for(var H=j.length;H;){for($=j,j=[],z=-1;++z<H;)$[z]();H=j.length}y=!1}p.exports=function(z){j.push(z)!==1||y||b()}}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,p,g){var m=d("immediate");function b(){}var y={},x=["REJECTED"],k=["FULFILLED"],M=["PENDING"];function I(H){if(typeof H!="function")throw new TypeError("resolver must be a function");this.state=M,this.queue=[],this.outcome=void 0,H!==b&&z(this,H)}function B(H,C,O){this.promise=H,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}function j(H,C,O){m(function(){var A;try{A=C(O)}catch(v){return y.reject(H,v)}A===H?y.reject(H,new TypeError("Cannot resolve promise with itself")):y.resolve(H,A)})}function F(H){var C=H&&H.then;if(H&&(typeof H=="object"||typeof H=="function")&&typeof C=="function")return function(){C.apply(H,arguments)}}function z(H,C){var O=!1;function A(_){O||(O=!0,y.reject(H,_))}function v(_){O||(O=!0,y.resolve(H,_))}var w=$(function(){C(v,A)});w.status==="error"&&A(w.value)}function $(H,C){var O={};try{O.value=H(C),O.status="success"}catch(A){O.status="error",O.value=A}return O}(p.exports=I).prototype.finally=function(H){if(typeof H!="function")return this;var C=this.constructor;return this.then(function(O){return C.resolve(H()).then(function(){return O})},function(O){return C.resolve(H()).then(function(){throw O})})},I.prototype.catch=function(H){return this.then(null,H)},I.prototype.then=function(H,C){if(typeof H!="function"&&this.state===k||typeof C!="function"&&this.state===x)return this;var O=new this.constructor(b);return this.state!==M?j(O,this.state===k?H:C,this.outcome):this.queue.push(new B(O,H,C)),O},B.prototype.callFulfilled=function(H){y.resolve(this.promise,H)},B.prototype.otherCallFulfilled=function(H){j(this.promise,this.onFulfilled,H)},B.prototype.callRejected=function(H){y.reject(this.promise,H)},B.prototype.otherCallRejected=function(H){j(this.promise,this.onRejected,H)},y.resolve=function(H,C){var O=$(F,C);if(O.status==="error")return y.reject(H,O.value);var A=O.value;if(A)z(H,A);else{H.state=k,H.outcome=C;for(var v=-1,w=H.queue.length;++v<w;)H.queue[v].callFulfilled(C)}return H},y.reject=function(H,C){H.state=x,H.outcome=C;for(var O=-1,A=H.queue.length;++O<A;)H.queue[O].callRejected(C);return H},I.resolve=function(H){return H instanceof this?H:y.resolve(new this(b),H)},I.reject=function(H){var C=new this(b);return y.reject(C,H)},I.all=function(H){var C=this;if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=H.length,A=!1;if(!O)return this.resolve([]);for(var v=new Array(O),w=0,_=-1,S=new this(b);++_<O;)T(H[_],_);return S;function T(N,L){C.resolve(N).then(function(V){v[L]=V,++w!==O||A||(A=!0,y.resolve(S,v))},function(V){A||(A=!0,y.reject(S,V))})}},I.race=function(H){if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=H.length,O=!1;if(!C)return this.resolve([]);for(var A,v=-1,w=new this(b);++v<C;)A=H[v],this.resolve(A).then(function(_){O||(O=!0,y.resolve(w,_))},function(_){O||(O=!0,y.reject(w,_))});return w}},{immediate:36}],38:[function(d,p,g){var m={};(0,d("./lib/utils/common").assign)(m,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),p.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,p,g){var m=d("./zlib/deflate"),b=d("./utils/common"),y=d("./utils/strings"),x=d("./zlib/messages"),k=d("./zlib/zstream"),M=Object.prototype.toString;function I(j){if(!(this instanceof I))return new I(j);this.options=b.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},j||{});var F=this.options;F.raw&&0<F.windowBits?F.windowBits=-F.windowBits:F.gzip&&0<F.windowBits&&F.windowBits<16&&(F.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var z=m.deflateInit2(this.strm,F.level,F.method,F.windowBits,F.memLevel,F.strategy);if(z!==0)throw new Error(x[z]);if(F.header&&m.deflateSetHeader(this.strm,F.header),F.dictionary){var $;if($=typeof F.dictionary=="string"?y.string2buf(F.dictionary):M.call(F.dictionary)==="[object ArrayBuffer]"?new Uint8Array(F.dictionary):F.dictionary,(z=m.deflateSetDictionary(this.strm,$))!==0)throw new Error(x[z]);this._dict_set=!0}}function B(j,F){var z=new I(F);if(z.push(j,!0),z.err)throw z.msg||x[z.err];return z.result}I.prototype.push=function(j,F){var z,$,H=this.strm,C=this.options.chunkSize;if(this.ended)return!1;$=F===~~F?F:F===!0?4:0,typeof j=="string"?H.input=y.string2buf(j):M.call(j)==="[object ArrayBuffer]"?H.input=new Uint8Array(j):H.input=j,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new b.Buf8(C),H.next_out=0,H.avail_out=C),(z=m.deflate(H,$))!==1&&z!==0)return this.onEnd(z),!(this.ended=!0);H.avail_out!==0&&(H.avail_in!==0||$!==4&&$!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(b.shrinkBuf(H.output,H.next_out))):this.onData(b.shrinkBuf(H.output,H.next_out)))}while((0<H.avail_in||H.avail_out===0)&&z!==1);return $===4?(z=m.deflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===0):$!==2||(this.onEnd(0),!(H.avail_out=0))},I.prototype.onData=function(j){this.chunks.push(j)},I.prototype.onEnd=function(j){j===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg},g.Deflate=I,g.deflate=B,g.deflateRaw=function(j,F){return(F=F||{}).raw=!0,B(j,F)},g.gzip=function(j,F){return(F=F||{}).gzip=!0,B(j,F)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,p,g){var m=d("./zlib/inflate"),b=d("./utils/common"),y=d("./utils/strings"),x=d("./zlib/constants"),k=d("./zlib/messages"),M=d("./zlib/zstream"),I=d("./zlib/gzheader"),B=Object.prototype.toString;function j(z){if(!(this instanceof j))return new j(z);this.options=b.assign({chunkSize:16384,windowBits:0,to:""},z||{});var $=this.options;$.raw&&0<=$.windowBits&&$.windowBits<16&&($.windowBits=-$.windowBits,$.windowBits===0&&($.windowBits=-15)),!(0<=$.windowBits&&$.windowBits<16)||z&&z.windowBits||($.windowBits+=32),15<$.windowBits&&$.windowBits<48&&!(15&$.windowBits)&&($.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new M,this.strm.avail_out=0;var H=m.inflateInit2(this.strm,$.windowBits);if(H!==x.Z_OK)throw new Error(k[H]);this.header=new I,m.inflateGetHeader(this.strm,this.header)}function F(z,$){var H=new j($);if(H.push(z,!0),H.err)throw H.msg||k[H.err];return H.result}j.prototype.push=function(z,$){var H,C,O,A,v,w,_=this.strm,S=this.options.chunkSize,T=this.options.dictionary,N=!1;if(this.ended)return!1;C=$===~~$?$:$===!0?x.Z_FINISH:x.Z_NO_FLUSH,typeof z=="string"?_.input=y.binstring2buf(z):B.call(z)==="[object ArrayBuffer]"?_.input=new Uint8Array(z):_.input=z,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new b.Buf8(S),_.next_out=0,_.avail_out=S),(H=m.inflate(_,x.Z_NO_FLUSH))===x.Z_NEED_DICT&&T&&(w=typeof T=="string"?y.string2buf(T):B.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,H=m.inflateSetDictionary(this.strm,w)),H===x.Z_BUF_ERROR&&N===!0&&(H=x.Z_OK,N=!1),H!==x.Z_STREAM_END&&H!==x.Z_OK)return this.onEnd(H),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&H!==x.Z_STREAM_END&&(_.avail_in!==0||C!==x.Z_FINISH&&C!==x.Z_SYNC_FLUSH)||(this.options.to==="string"?(O=y.utf8border(_.output,_.next_out),A=_.next_out-O,v=y.buf2string(_.output,O),_.next_out=A,_.avail_out=S-A,A&&b.arraySet(_.output,_.output,O,A,0),this.onData(v)):this.onData(b.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(N=!0)}while((0<_.avail_in||_.avail_out===0)&&H!==x.Z_STREAM_END);return H===x.Z_STREAM_END&&(C=x.Z_FINISH),C===x.Z_FINISH?(H=m.inflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===x.Z_OK):C!==x.Z_SYNC_FLUSH||(this.onEnd(x.Z_OK),!(_.avail_out=0))},j.prototype.onData=function(z){this.chunks.push(z)},j.prototype.onEnd=function(z){z===x.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=z,this.msg=this.strm.msg},g.Inflate=j,g.inflate=F,g.inflateRaw=function(z,$){return($=$||{}).raw=!0,F(z,$)},g.ungzip=F},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,p,g){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(x){for(var k=Array.prototype.slice.call(arguments,1);k.length;){var M=k.shift();if(M){if(typeof M!="object")throw new TypeError(M+"must be non-object");for(var I in M)M.hasOwnProperty(I)&&(x[I]=M[I])}}return x},g.shrinkBuf=function(x,k){return x.length===k?x:x.subarray?x.subarray(0,k):(x.length=k,x)};var b={arraySet:function(x,k,M,I,B){if(k.subarray&&x.subarray)x.set(k.subarray(M,M+I),B);else for(var j=0;j<I;j++)x[B+j]=k[M+j]},flattenChunks:function(x){var k,M,I,B,j,F;for(k=I=0,M=x.length;k<M;k++)I+=x[k].length;for(F=new Uint8Array(I),k=B=0,M=x.length;k<M;k++)j=x[k],F.set(j,B),B+=j.length;return F}},y={arraySet:function(x,k,M,I,B){for(var j=0;j<I;j++)x[B+j]=k[M+j]},flattenChunks:function(x){return[].concat.apply([],x)}};g.setTyped=function(x){x?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,b)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,y))},g.setTyped(m)},{}],42:[function(d,p,g){var m=d("./common"),b=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{b=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var x=new m.Buf8(256),k=0;k<256;k++)x[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;function M(I,B){if(B<65537&&(I.subarray&&y||!I.subarray&&b))return String.fromCharCode.apply(null,m.shrinkBuf(I,B));for(var j="",F=0;F<B;F++)j+=String.fromCharCode(I[F]);return j}x[254]=x[254]=1,g.string2buf=function(I){var B,j,F,z,$,H=I.length,C=0;for(z=0;z<H;z++)(64512&(j=I.charCodeAt(z)))==55296&&z+1<H&&(64512&(F=I.charCodeAt(z+1)))==56320&&(j=65536+(j-55296<<10)+(F-56320),z++),C+=j<128?1:j<2048?2:j<65536?3:4;for(B=new m.Buf8(C),z=$=0;$<C;z++)(64512&(j=I.charCodeAt(z)))==55296&&z+1<H&&(64512&(F=I.charCodeAt(z+1)))==56320&&(j=65536+(j-55296<<10)+(F-56320),z++),j<128?B[$++]=j:(j<2048?B[$++]=192|j>>>6:(j<65536?B[$++]=224|j>>>12:(B[$++]=240|j>>>18,B[$++]=128|j>>>12&63),B[$++]=128|j>>>6&63),B[$++]=128|63&j);return B},g.buf2binstring=function(I){return M(I,I.length)},g.binstring2buf=function(I){for(var B=new m.Buf8(I.length),j=0,F=B.length;j<F;j++)B[j]=I.charCodeAt(j);return B},g.buf2string=function(I,B){var j,F,z,$,H=B||I.length,C=new Array(2*H);for(j=F=0;j<H;)if((z=I[j++])<128)C[F++]=z;else if(4<($=x[z]))C[F++]=65533,j+=$-1;else{for(z&=$===2?31:$===3?15:7;1<$&&j<H;)z=z<<6|63&I[j++],$--;1<$?C[F++]=65533:z<65536?C[F++]=z:(z-=65536,C[F++]=55296|z>>10&1023,C[F++]=56320|1023&z)}return M(C,F)},g.utf8border=function(I,B){var j;for((B=B||I.length)>I.length&&(B=I.length),j=B-1;0<=j&&(192&I[j])==128;)j--;return j<0||j===0?B:j+x[I[j]]>B?j:B}},{"./common":41}],43:[function(d,p,g){p.exports=function(m,b,y,x){for(var k=65535&m|0,M=m>>>16&65535|0,I=0;y!==0;){for(y-=I=2e3<y?2e3:y;M=M+(k=k+b[x++]|0)|0,--I;);k%=65521,M%=65521}return k|M<<16|0}},{}],44:[function(d,p,g){p.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,p,g){var m=function(){for(var b,y=[],x=0;x<256;x++){b=x;for(var k=0;k<8;k++)b=1&b?3988292384^b>>>1:b>>>1;y[x]=b}return y}();p.exports=function(b,y,x,k){var M=m,I=k+x;b^=-1;for(var B=k;B<I;B++)b=b>>>8^M[255&(b^y[B])];return-1^b}},{}],46:[function(d,p,g){var m,b=d("../utils/common"),y=d("./trees"),x=d("./adler32"),k=d("./crc32"),M=d("./messages"),I=-2,B=258,j=262,F=113;function z(D,X){return D.msg=M[X],X}function $(D){return(D<<1)-(4<D?9:0)}function H(D){for(var X=D.length;0<=--X;)D[X]=0}function C(D){var X=D.state,P=X.pending;P>D.avail_out&&(P=D.avail_out),P!==0&&(b.arraySet(D.output,X.pending_buf,X.pending_out,P,D.next_out),D.next_out+=P,X.pending_out+=P,D.total_out+=P,D.avail_out-=P,X.pending-=P,X.pending===0&&(X.pending_out=0))}function O(D,X){y._tr_flush_block(D,0<=D.block_start?D.block_start:-1,D.strstart-D.block_start,X),D.block_start=D.strstart,C(D.strm)}function A(D,X){D.pending_buf[D.pending++]=X}function v(D,X){D.pending_buf[D.pending++]=X>>>8&255,D.pending_buf[D.pending++]=255&X}function w(D,X){var P,R,U=D.max_chain_length,Z=D.strstart,st=D.prev_length,W=D.nice_match,G=D.strstart>D.w_size-j?D.strstart-(D.w_size-j):0,et=D.window,it=D.w_mask,K=D.prev,rt=D.strstart+B,nt=et[Z+st-1],ct=et[Z+st];D.prev_length>=D.good_match&&(U>>=2),W>D.lookahead&&(W=D.lookahead);do if(et[(P=X)+st]===ct&&et[P+st-1]===nt&&et[P]===et[Z]&&et[++P]===et[Z+1]){Z+=2,P++;do;while(et[++Z]===et[++P]&&et[++Z]===et[++P]&&et[++Z]===et[++P]&&et[++Z]===et[++P]&&et[++Z]===et[++P]&&et[++Z]===et[++P]&&et[++Z]===et[++P]&&et[++Z]===et[++P]&&Z<rt);if(R=B-(rt-Z),Z=rt-B,st<R){if(D.match_start=X,W<=(st=R))break;nt=et[Z+st-1],ct=et[Z+st]}}while((X=K[X&it])>G&&--U!=0);return st<=D.lookahead?st:D.lookahead}function _(D){var X,P,R,U,Z,st,W,G,et,it,K=D.w_size;do{if(U=D.window_size-D.lookahead-D.strstart,D.strstart>=K+(K-j)){for(b.arraySet(D.window,D.window,K,K,0),D.match_start-=K,D.strstart-=K,D.block_start-=K,X=P=D.hash_size;R=D.head[--X],D.head[X]=K<=R?R-K:0,--P;);for(X=P=K;R=D.prev[--X],D.prev[X]=K<=R?R-K:0,--P;);U+=K}if(D.strm.avail_in===0)break;if(st=D.strm,W=D.window,G=D.strstart+D.lookahead,it=void 0,(et=U)<(it=st.avail_in)&&(it=et),P=it===0?0:(st.avail_in-=it,b.arraySet(W,st.input,st.next_in,it,G),st.state.wrap===1?st.adler=x(st.adler,W,it,G):st.state.wrap===2&&(st.adler=k(st.adler,W,it,G)),st.next_in+=it,st.total_in+=it,it),D.lookahead+=P,D.lookahead+D.insert>=3)for(Z=D.strstart-D.insert,D.ins_h=D.window[Z],D.ins_h=(D.ins_h<<D.hash_shift^D.window[Z+1])&D.hash_mask;D.insert&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[Z+3-1])&D.hash_mask,D.prev[Z&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=Z,Z++,D.insert--,!(D.lookahead+D.insert<3)););}while(D.lookahead<j&&D.strm.avail_in!==0)}function S(D,X){for(var P,R;;){if(D.lookahead<j){if(_(D),D.lookahead<j&&X===0)return 1;if(D.lookahead===0)break}if(P=0,D.lookahead>=3&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+3-1])&D.hash_mask,P=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),P!==0&&D.strstart-P<=D.w_size-j&&(D.match_length=w(D,P)),D.match_length>=3)if(R=y._tr_tally(D,D.strstart-D.match_start,D.match_length-3),D.lookahead-=D.match_length,D.match_length<=D.max_lazy_match&&D.lookahead>=3){for(D.match_length--;D.strstart++,D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+3-1])&D.hash_mask,P=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart,--D.match_length!=0;);D.strstart++}else D.strstart+=D.match_length,D.match_length=0,D.ins_h=D.window[D.strstart],D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+1])&D.hash_mask;else R=y._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++;if(R&&(O(D,!1),D.strm.avail_out===0))return 1}return D.insert=D.strstart<2?D.strstart:2,X===4?(O(D,!0),D.strm.avail_out===0?3:4):D.last_lit&&(O(D,!1),D.strm.avail_out===0)?1:2}function T(D,X){for(var P,R,U;;){if(D.lookahead<j){if(_(D),D.lookahead<j&&X===0)return 1;if(D.lookahead===0)break}if(P=0,D.lookahead>=3&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+3-1])&D.hash_mask,P=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),D.prev_length=D.match_length,D.prev_match=D.match_start,D.match_length=2,P!==0&&D.prev_length<D.max_lazy_match&&D.strstart-P<=D.w_size-j&&(D.match_length=w(D,P),D.match_length<=5&&(D.strategy===1||D.match_length===3&&4096<D.strstart-D.match_start)&&(D.match_length=2)),D.prev_length>=3&&D.match_length<=D.prev_length){for(U=D.strstart+D.lookahead-3,R=y._tr_tally(D,D.strstart-1-D.prev_match,D.prev_length-3),D.lookahead-=D.prev_length-1,D.prev_length-=2;++D.strstart<=U&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+3-1])&D.hash_mask,P=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),--D.prev_length!=0;);if(D.match_available=0,D.match_length=2,D.strstart++,R&&(O(D,!1),D.strm.avail_out===0))return 1}else if(D.match_available){if((R=y._tr_tally(D,0,D.window[D.strstart-1]))&&O(D,!1),D.strstart++,D.lookahead--,D.strm.avail_out===0)return 1}else D.match_available=1,D.strstart++,D.lookahead--}return D.match_available&&(R=y._tr_tally(D,0,D.window[D.strstart-1]),D.match_available=0),D.insert=D.strstart<2?D.strstart:2,X===4?(O(D,!0),D.strm.avail_out===0?3:4):D.last_lit&&(O(D,!1),D.strm.avail_out===0)?1:2}function N(D,X,P,R,U){this.good_length=D,this.max_lazy=X,this.nice_length=P,this.max_chain=R,this.func=U}function L(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new b.Buf16(1146),this.dyn_dtree=new b.Buf16(122),this.bl_tree=new b.Buf16(78),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new b.Buf16(16),this.heap=new b.Buf16(573),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new b.Buf16(573),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(D){var X;return D&&D.state?(D.total_in=D.total_out=0,D.data_type=2,(X=D.state).pending=0,X.pending_out=0,X.wrap<0&&(X.wrap=-X.wrap),X.status=X.wrap?42:F,D.adler=X.wrap===2?0:1,X.last_flush=0,y._tr_init(X),0):z(D,I)}function q(D){var X=V(D);return X===0&&function(P){P.window_size=2*P.w_size,H(P.head),P.max_lazy_match=m[P.level].max_lazy,P.good_match=m[P.level].good_length,P.nice_match=m[P.level].nice_length,P.max_chain_length=m[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=2,P.match_available=0,P.ins_h=0}(D.state),X}function Y(D,X,P,R,U,Z){if(!D)return I;var st=1;if(X===-1&&(X=6),R<0?(st=0,R=-R):15<R&&(st=2,R-=16),U<1||9<U||P!==8||R<8||15<R||X<0||9<X||Z<0||4<Z)return z(D,I);R===8&&(R=9);var W=new L;return(D.state=W).strm=D,W.wrap=st,W.gzhead=null,W.w_bits=R,W.w_size=1<<W.w_bits,W.w_mask=W.w_size-1,W.hash_bits=U+7,W.hash_size=1<<W.hash_bits,W.hash_mask=W.hash_size-1,W.hash_shift=~~((W.hash_bits+3-1)/3),W.window=new b.Buf8(2*W.w_size),W.head=new b.Buf16(W.hash_size),W.prev=new b.Buf16(W.w_size),W.lit_bufsize=1<<U+6,W.pending_buf_size=4*W.lit_bufsize,W.pending_buf=new b.Buf8(W.pending_buf_size),W.d_buf=1*W.lit_bufsize,W.l_buf=3*W.lit_bufsize,W.level=X,W.strategy=Z,W.method=P,q(D)}m=[new N(0,0,0,0,function(D,X){var P=65535;for(P>D.pending_buf_size-5&&(P=D.pending_buf_size-5);;){if(D.lookahead<=1){if(_(D),D.lookahead===0&&X===0)return 1;if(D.lookahead===0)break}D.strstart+=D.lookahead,D.lookahead=0;var R=D.block_start+P;if((D.strstart===0||D.strstart>=R)&&(D.lookahead=D.strstart-R,D.strstart=R,O(D,!1),D.strm.avail_out===0)||D.strstart-D.block_start>=D.w_size-j&&(O(D,!1),D.strm.avail_out===0))return 1}return D.insert=0,X===4?(O(D,!0),D.strm.avail_out===0?3:4):(D.strstart>D.block_start&&(O(D,!1),D.strm.avail_out),1)}),new N(4,4,8,4,S),new N(4,5,16,8,S),new N(4,6,32,32,S),new N(4,4,16,16,T),new N(8,16,32,32,T),new N(8,16,128,128,T),new N(8,32,128,256,T),new N(32,128,258,1024,T),new N(32,258,258,4096,T)],g.deflateInit=function(D,X){return Y(D,X,8,15,8,0)},g.deflateInit2=Y,g.deflateReset=q,g.deflateResetKeep=V,g.deflateSetHeader=function(D,X){return D&&D.state?D.state.wrap!==2?I:(D.state.gzhead=X,0):I},g.deflate=function(D,X){var P,R,U,Z;if(!D||!D.state||5<X||X<0)return D?z(D,I):I;if(R=D.state,!D.output||!D.input&&D.avail_in!==0||R.status===666&&X!==4)return z(D,D.avail_out===0?-5:I);if(R.strm=D,P=R.last_flush,R.last_flush=X,R.status===42)if(R.wrap===2)D.adler=0,A(R,31),A(R,139),A(R,8),R.gzhead?(A(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),A(R,255&R.gzhead.time),A(R,R.gzhead.time>>8&255),A(R,R.gzhead.time>>16&255),A(R,R.gzhead.time>>24&255),A(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),A(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(A(R,255&R.gzhead.extra.length),A(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(D.adler=k(D.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(A(R,0),A(R,0),A(R,0),A(R,0),A(R,0),A(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),A(R,3),R.status=F);else{var st=8+(R.w_bits-8<<4)<<8;st|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(st|=32),st+=31-st%31,R.status=F,v(R,st),R.strstart!==0&&(v(R,D.adler>>>16),v(R,65535&D.adler)),D.adler=1}if(R.status===69)if(R.gzhead.extra){for(U=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>U&&(D.adler=k(D.adler,R.pending_buf,R.pending-U,U)),C(D),U=R.pending,R.pending!==R.pending_buf_size));)A(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>U&&(D.adler=k(D.adler,R.pending_buf,R.pending-U,U)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){U=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>U&&(D.adler=k(D.adler,R.pending_buf,R.pending-U,U)),C(D),U=R.pending,R.pending===R.pending_buf_size)){Z=1;break}Z=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,A(R,Z)}while(Z!==0);R.gzhead.hcrc&&R.pending>U&&(D.adler=k(D.adler,R.pending_buf,R.pending-U,U)),Z===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){U=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>U&&(D.adler=k(D.adler,R.pending_buf,R.pending-U,U)),C(D),U=R.pending,R.pending===R.pending_buf_size)){Z=1;break}Z=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,A(R,Z)}while(Z!==0);R.gzhead.hcrc&&R.pending>U&&(D.adler=k(D.adler,R.pending_buf,R.pending-U,U)),Z===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&C(D),R.pending+2<=R.pending_buf_size&&(A(R,255&D.adler),A(R,D.adler>>8&255),D.adler=0,R.status=F)):R.status=F),R.pending!==0){if(C(D),D.avail_out===0)return R.last_flush=-1,0}else if(D.avail_in===0&&$(X)<=$(P)&&X!==4)return z(D,-5);if(R.status===666&&D.avail_in!==0)return z(D,-5);if(D.avail_in!==0||R.lookahead!==0||X!==0&&R.status!==666){var W=R.strategy===2?function(G,et){for(var it;;){if(G.lookahead===0&&(_(G),G.lookahead===0)){if(et===0)return 1;break}if(G.match_length=0,it=y._tr_tally(G,0,G.window[G.strstart]),G.lookahead--,G.strstart++,it&&(O(G,!1),G.strm.avail_out===0))return 1}return G.insert=0,et===4?(O(G,!0),G.strm.avail_out===0?3:4):G.last_lit&&(O(G,!1),G.strm.avail_out===0)?1:2}(R,X):R.strategy===3?function(G,et){for(var it,K,rt,nt,ct=G.window;;){if(G.lookahead<=B){if(_(G),G.lookahead<=B&&et===0)return 1;if(G.lookahead===0)break}if(G.match_length=0,G.lookahead>=3&&0<G.strstart&&(K=ct[rt=G.strstart-1])===ct[++rt]&&K===ct[++rt]&&K===ct[++rt]){nt=G.strstart+B;do;while(K===ct[++rt]&&K===ct[++rt]&&K===ct[++rt]&&K===ct[++rt]&&K===ct[++rt]&&K===ct[++rt]&&K===ct[++rt]&&K===ct[++rt]&&rt<nt);G.match_length=B-(nt-rt),G.match_length>G.lookahead&&(G.match_length=G.lookahead)}if(G.match_length>=3?(it=y._tr_tally(G,1,G.match_length-3),G.lookahead-=G.match_length,G.strstart+=G.match_length,G.match_length=0):(it=y._tr_tally(G,0,G.window[G.strstart]),G.lookahead--,G.strstart++),it&&(O(G,!1),G.strm.avail_out===0))return 1}return G.insert=0,et===4?(O(G,!0),G.strm.avail_out===0?3:4):G.last_lit&&(O(G,!1),G.strm.avail_out===0)?1:2}(R,X):m[R.level].func(R,X);if(W!==3&&W!==4||(R.status=666),W===1||W===3)return D.avail_out===0&&(R.last_flush=-1),0;if(W===2&&(X===1?y._tr_align(R):X!==5&&(y._tr_stored_block(R,0,0,!1),X===3&&(H(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),C(D),D.avail_out===0))return R.last_flush=-1,0}return X!==4?0:R.wrap<=0?1:(R.wrap===2?(A(R,255&D.adler),A(R,D.adler>>8&255),A(R,D.adler>>16&255),A(R,D.adler>>24&255),A(R,255&D.total_in),A(R,D.total_in>>8&255),A(R,D.total_in>>16&255),A(R,D.total_in>>24&255)):(v(R,D.adler>>>16),v(R,65535&D.adler)),C(D),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?0:1)},g.deflateEnd=function(D){var X;return D&&D.state?(X=D.state.status)!==42&&X!==69&&X!==73&&X!==91&&X!==103&&X!==F&&X!==666?z(D,I):(D.state=null,X===F?z(D,-3):0):I},g.deflateSetDictionary=function(D,X){var P,R,U,Z,st,W,G,et,it=X.length;if(!D||!D.state||(Z=(P=D.state).wrap)===2||Z===1&&P.status!==42||P.lookahead)return I;for(Z===1&&(D.adler=x(D.adler,X,it,0)),P.wrap=0,it>=P.w_size&&(Z===0&&(H(P.head),P.strstart=0,P.block_start=0,P.insert=0),et=new b.Buf8(P.w_size),b.arraySet(et,X,it-P.w_size,P.w_size,0),X=et,it=P.w_size),st=D.avail_in,W=D.next_in,G=D.input,D.avail_in=it,D.next_in=0,D.input=X,_(P);P.lookahead>=3;){for(R=P.strstart,U=P.lookahead-2;P.ins_h=(P.ins_h<<P.hash_shift^P.window[R+3-1])&P.hash_mask,P.prev[R&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=R,R++,--U;);P.strstart=R,P.lookahead=2,_(P)}return P.strstart+=P.lookahead,P.block_start=P.strstart,P.insert=P.lookahead,P.lookahead=0,P.match_length=P.prev_length=2,P.match_available=0,D.next_in=W,D.input=G,D.avail_in=st,P.wrap=Z,0},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,p,g){p.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,p,g){p.exports=function(m,b){var y,x,k,M,I,B,j,F,z,$,H,C,O,A,v,w,_,S,T,N,L,V,q,Y,D;y=m.state,x=m.next_in,Y=m.input,k=x+(m.avail_in-5),M=m.next_out,D=m.output,I=M-(b-m.avail_out),B=M+(m.avail_out-257),j=y.dmax,F=y.wsize,z=y.whave,$=y.wnext,H=y.window,C=y.hold,O=y.bits,A=y.lencode,v=y.distcode,w=(1<<y.lenbits)-1,_=(1<<y.distbits)-1;t:do{O<15&&(C+=Y[x++]<<O,O+=8,C+=Y[x++]<<O,O+=8),S=A[C&w];e:for(;;){if(C>>>=T=S>>>24,O-=T,(T=S>>>16&255)==0)D[M++]=65535&S;else{if(!(16&T)){if(!(64&T)){S=A[(65535&S)+(C&(1<<T)-1)];continue e}if(32&T){y.mode=12;break t}m.msg="invalid literal/length code",y.mode=30;break t}N=65535&S,(T&=15)&&(O<T&&(C+=Y[x++]<<O,O+=8),N+=C&(1<<T)-1,C>>>=T,O-=T),O<15&&(C+=Y[x++]<<O,O+=8,C+=Y[x++]<<O,O+=8),S=v[C&_];r:for(;;){if(C>>>=T=S>>>24,O-=T,!(16&(T=S>>>16&255))){if(!(64&T)){S=v[(65535&S)+(C&(1<<T)-1)];continue r}m.msg="invalid distance code",y.mode=30;break t}if(L=65535&S,O<(T&=15)&&(C+=Y[x++]<<O,(O+=8)<T&&(C+=Y[x++]<<O,O+=8)),j<(L+=C&(1<<T)-1)){m.msg="invalid distance too far back",y.mode=30;break t}if(C>>>=T,O-=T,(T=M-I)<L){if(z<(T=L-T)&&y.sane){m.msg="invalid distance too far back",y.mode=30;break t}if(q=H,(V=0)===$){if(V+=F-T,T<N){for(N-=T;D[M++]=H[V++],--T;);V=M-L,q=D}}else if($<T){if(V+=F+$-T,(T-=$)<N){for(N-=T;D[M++]=H[V++],--T;);if(V=0,$<N){for(N-=T=$;D[M++]=H[V++],--T;);V=M-L,q=D}}}else if(V+=$-T,T<N){for(N-=T;D[M++]=H[V++],--T;);V=M-L,q=D}for(;2<N;)D[M++]=q[V++],D[M++]=q[V++],D[M++]=q[V++],N-=3;N&&(D[M++]=q[V++],1<N&&(D[M++]=q[V++]))}else{for(V=M-L;D[M++]=D[V++],D[M++]=D[V++],D[M++]=D[V++],2<(N-=3););N&&(D[M++]=D[V++],1<N&&(D[M++]=D[V++]))}break}}break}}while(x<k&&M<B);x-=N=O>>3,C&=(1<<(O-=N<<3))-1,m.next_in=x,m.next_out=M,m.avail_in=x<k?k-x+5:5-(x-k),m.avail_out=M<B?B-M+257:257-(M-B),y.hold=C,y.bits=O}},{}],49:[function(d,p,g){var m=d("../utils/common"),b=d("./adler32"),y=d("./crc32"),x=d("./inffast"),k=d("./inftrees"),M=-2;function I(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function B(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function j(w){var _;return w&&w.state?(_=w.state,w.total_in=w.total_out=_.total=0,w.msg="",_.wrap&&(w.adler=1&_.wrap),_.mode=1,_.last=0,_.havedict=0,_.dmax=32768,_.head=null,_.hold=0,_.bits=0,_.lencode=_.lendyn=new m.Buf32(852),_.distcode=_.distdyn=new m.Buf32(592),_.sane=1,_.back=-1,0):M}function F(w){var _;return w&&w.state?((_=w.state).wsize=0,_.whave=0,_.wnext=0,j(w)):M}function z(w,_){var S,T;return w&&w.state?(T=w.state,_<0?(S=0,_=-_):(S=1+(_>>4),_<48&&(_&=15)),_&&(_<8||15<_)?M:(T.window!==null&&T.wbits!==_&&(T.window=null),T.wrap=S,T.wbits=_,F(w))):M}function $(w,_){var S,T;return w?(T=new B,(w.state=T).window=null,(S=z(w,_))!==0&&(w.state=null),S):M}var H,C,O=!0;function A(w){if(O){var _;for(H=new m.Buf32(512),C=new m.Buf32(32),_=0;_<144;)w.lens[_++]=8;for(;_<256;)w.lens[_++]=9;for(;_<280;)w.lens[_++]=7;for(;_<288;)w.lens[_++]=8;for(k(1,w.lens,0,288,H,0,w.work,{bits:9}),_=0;_<32;)w.lens[_++]=5;k(2,w.lens,0,32,C,0,w.work,{bits:5}),O=!1}w.lencode=H,w.lenbits=9,w.distcode=C,w.distbits=5}function v(w,_,S,T){var N,L=w.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new m.Buf8(L.wsize)),T>=L.wsize?(m.arraySet(L.window,_,S-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(T<(N=L.wsize-L.wnext)&&(N=T),m.arraySet(L.window,_,S-T,N,L.wnext),(T-=N)?(m.arraySet(L.window,_,S-T,T,0),L.wnext=T,L.whave=L.wsize):(L.wnext+=N,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=N))),0}g.inflateReset=F,g.inflateReset2=z,g.inflateResetKeep=j,g.inflateInit=function(w){return $(w,15)},g.inflateInit2=$,g.inflate=function(w,_){var S,T,N,L,V,q,Y,D,X,P,R,U,Z,st,W,G,et,it,K,rt,nt,ct,ot,lt,ut=0,dt=new m.Buf8(4),mt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&w.avail_in!==0)return M;(S=w.state).mode===12&&(S.mode=13),V=w.next_out,N=w.output,Y=w.avail_out,L=w.next_in,T=w.input,q=w.avail_in,D=S.hold,X=S.bits,P=q,R=Y,ct=0;t:for(;;)switch(S.mode){case 1:if(S.wrap===0){S.mode=13;break}for(;X<16;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}if(2&S.wrap&&D===35615){dt[S.check=0]=255&D,dt[1]=D>>>8&255,S.check=y(S.check,dt,2,0),X=D=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&D)<<8)+(D>>8))%31){w.msg="incorrect header check",S.mode=30;break}if((15&D)!=8){w.msg="unknown compression method",S.mode=30;break}if(X-=4,nt=8+(15&(D>>>=4)),S.wbits===0)S.wbits=nt;else if(nt>S.wbits){w.msg="invalid window size",S.mode=30;break}S.dmax=1<<nt,w.adler=S.check=1,S.mode=512&D?10:12,X=D=0;break;case 2:for(;X<16;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}if(S.flags=D,(255&S.flags)!=8){w.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){w.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=D>>8&1),512&S.flags&&(dt[0]=255&D,dt[1]=D>>>8&255,S.check=y(S.check,dt,2,0)),X=D=0,S.mode=3;case 3:for(;X<32;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}S.head&&(S.head.time=D),512&S.flags&&(dt[0]=255&D,dt[1]=D>>>8&255,dt[2]=D>>>16&255,dt[3]=D>>>24&255,S.check=y(S.check,dt,4,0)),X=D=0,S.mode=4;case 4:for(;X<16;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}S.head&&(S.head.xflags=255&D,S.head.os=D>>8),512&S.flags&&(dt[0]=255&D,dt[1]=D>>>8&255,S.check=y(S.check,dt,2,0)),X=D=0,S.mode=5;case 5:if(1024&S.flags){for(;X<16;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}S.length=D,S.head&&(S.head.extra_len=D),512&S.flags&&(dt[0]=255&D,dt[1]=D>>>8&255,S.check=y(S.check,dt,2,0)),X=D=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(q<(U=S.length)&&(U=q),U&&(S.head&&(nt=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),m.arraySet(S.head.extra,T,L,U,nt)),512&S.flags&&(S.check=y(S.check,T,U,L)),q-=U,L+=U,S.length-=U),S.length))break t;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(q===0)break t;for(U=0;nt=T[L+U++],S.head&&nt&&S.length<65536&&(S.head.name+=String.fromCharCode(nt)),nt&&U<q;);if(512&S.flags&&(S.check=y(S.check,T,U,L)),q-=U,L+=U,nt)break t}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(q===0)break t;for(U=0;nt=T[L+U++],S.head&&nt&&S.length<65536&&(S.head.comment+=String.fromCharCode(nt)),nt&&U<q;);if(512&S.flags&&(S.check=y(S.check,T,U,L)),q-=U,L+=U,nt)break t}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;X<16;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}if(D!==(65535&S.check)){w.msg="header crc mismatch",S.mode=30;break}X=D=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),w.adler=S.check=0,S.mode=12;break;case 10:for(;X<32;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}w.adler=S.check=I(D),X=D=0,S.mode=11;case 11:if(S.havedict===0)return w.next_out=V,w.avail_out=Y,w.next_in=L,w.avail_in=q,S.hold=D,S.bits=X,2;w.adler=S.check=1,S.mode=12;case 12:if(_===5||_===6)break t;case 13:if(S.last){D>>>=7&X,X-=7&X,S.mode=27;break}for(;X<3;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}switch(S.last=1&D,X-=1,3&(D>>>=1)){case 0:S.mode=14;break;case 1:if(A(S),S.mode=20,_!==6)break;D>>>=2,X-=2;break t;case 2:S.mode=17;break;case 3:w.msg="invalid block type",S.mode=30}D>>>=2,X-=2;break;case 14:for(D>>>=7&X,X-=7&X;X<32;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}if((65535&D)!=(D>>>16^65535)){w.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&D,X=D=0,S.mode=15,_===6)break t;case 15:S.mode=16;case 16:if(U=S.length){if(q<U&&(U=q),Y<U&&(U=Y),U===0)break t;m.arraySet(N,T,L,U,V),q-=U,L+=U,Y-=U,V+=U,S.length-=U;break}S.mode=12;break;case 17:for(;X<14;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}if(S.nlen=257+(31&D),D>>>=5,X-=5,S.ndist=1+(31&D),D>>>=5,X-=5,S.ncode=4+(15&D),D>>>=4,X-=4,286<S.nlen||30<S.ndist){w.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;X<3;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}S.lens[mt[S.have++]]=7&D,D>>>=3,X-=3}for(;S.have<19;)S.lens[mt[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,ot={bits:S.lenbits},ct=k(0,S.lens,0,19,S.lencode,0,S.work,ot),S.lenbits=ot.bits,ct){w.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;G=(ut=S.lencode[D&(1<<S.lenbits)-1])>>>16&255,et=65535&ut,!((W=ut>>>24)<=X);){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}if(et<16)D>>>=W,X-=W,S.lens[S.have++]=et;else{if(et===16){for(lt=W+2;X<lt;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}if(D>>>=W,X-=W,S.have===0){w.msg="invalid bit length repeat",S.mode=30;break}nt=S.lens[S.have-1],U=3+(3&D),D>>>=2,X-=2}else if(et===17){for(lt=W+3;X<lt;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}X-=W,nt=0,U=3+(7&(D>>>=W)),D>>>=3,X-=3}else{for(lt=W+7;X<lt;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}X-=W,nt=0,U=11+(127&(D>>>=W)),D>>>=7,X-=7}if(S.have+U>S.nlen+S.ndist){w.msg="invalid bit length repeat",S.mode=30;break}for(;U--;)S.lens[S.have++]=nt}}if(S.mode===30)break;if(S.lens[256]===0){w.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,ot={bits:S.lenbits},ct=k(1,S.lens,0,S.nlen,S.lencode,0,S.work,ot),S.lenbits=ot.bits,ct){w.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,ot={bits:S.distbits},ct=k(2,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,ot),S.distbits=ot.bits,ct){w.msg="invalid distances set",S.mode=30;break}if(S.mode=20,_===6)break t;case 20:S.mode=21;case 21:if(6<=q&&258<=Y){w.next_out=V,w.avail_out=Y,w.next_in=L,w.avail_in=q,S.hold=D,S.bits=X,x(w,R),V=w.next_out,N=w.output,Y=w.avail_out,L=w.next_in,T=w.input,q=w.avail_in,D=S.hold,X=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;G=(ut=S.lencode[D&(1<<S.lenbits)-1])>>>16&255,et=65535&ut,!((W=ut>>>24)<=X);){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}if(G&&!(240&G)){for(it=W,K=G,rt=et;G=(ut=S.lencode[rt+((D&(1<<it+K)-1)>>it)])>>>16&255,et=65535&ut,!(it+(W=ut>>>24)<=X);){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}D>>>=it,X-=it,S.back+=it}if(D>>>=W,X-=W,S.back+=W,S.length=et,G===0){S.mode=26;break}if(32&G){S.back=-1,S.mode=12;break}if(64&G){w.msg="invalid literal/length code",S.mode=30;break}S.extra=15&G,S.mode=22;case 22:if(S.extra){for(lt=S.extra;X<lt;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}S.length+=D&(1<<S.extra)-1,D>>>=S.extra,X-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;G=(ut=S.distcode[D&(1<<S.distbits)-1])>>>16&255,et=65535&ut,!((W=ut>>>24)<=X);){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}if(!(240&G)){for(it=W,K=G,rt=et;G=(ut=S.distcode[rt+((D&(1<<it+K)-1)>>it)])>>>16&255,et=65535&ut,!(it+(W=ut>>>24)<=X);){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}D>>>=it,X-=it,S.back+=it}if(D>>>=W,X-=W,S.back+=W,64&G){w.msg="invalid distance code",S.mode=30;break}S.offset=et,S.extra=15&G,S.mode=24;case 24:if(S.extra){for(lt=S.extra;X<lt;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}S.offset+=D&(1<<S.extra)-1,D>>>=S.extra,X-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){w.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(Y===0)break t;if(U=R-Y,S.offset>U){if((U=S.offset-U)>S.whave&&S.sane){w.msg="invalid distance too far back",S.mode=30;break}Z=U>S.wnext?(U-=S.wnext,S.wsize-U):S.wnext-U,U>S.length&&(U=S.length),st=S.window}else st=N,Z=V-S.offset,U=S.length;for(Y<U&&(U=Y),Y-=U,S.length-=U;N[V++]=st[Z++],--U;);S.length===0&&(S.mode=21);break;case 26:if(Y===0)break t;N[V++]=S.length,Y--,S.mode=21;break;case 27:if(S.wrap){for(;X<32;){if(q===0)break t;q--,D|=T[L++]<<X,X+=8}if(R-=Y,w.total_out+=R,S.total+=R,R&&(w.adler=S.check=S.flags?y(S.check,N,R,V-R):b(S.check,N,R,V-R)),R=Y,(S.flags?D:I(D))!==S.check){w.msg="incorrect data check",S.mode=30;break}X=D=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;X<32;){if(q===0)break t;q--,D+=T[L++]<<X,X+=8}if(D!==(4294967295&S.total)){w.msg="incorrect length check",S.mode=30;break}X=D=0}S.mode=29;case 29:ct=1;break t;case 30:ct=-3;break t;case 31:return-4;case 32:default:return M}return w.next_out=V,w.avail_out=Y,w.next_in=L,w.avail_in=q,S.hold=D,S.bits=X,(S.wsize||R!==w.avail_out&&S.mode<30&&(S.mode<27||_!==4))&&v(w,w.output,w.next_out,R-w.avail_out)?(S.mode=31,-4):(P-=w.avail_in,R-=w.avail_out,w.total_in+=P,w.total_out+=R,S.total+=R,S.wrap&&R&&(w.adler=S.check=S.flags?y(S.check,N,R,w.next_out-R):b(S.check,N,R,w.next_out-R)),w.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(P==0&&R===0||_===4)&&ct===0&&(ct=-5),ct)},g.inflateEnd=function(w){if(!w||!w.state)return M;var _=w.state;return _.window&&(_.window=null),w.state=null,0},g.inflateGetHeader=function(w,_){var S;return w&&w.state&&2&(S=w.state).wrap?((S.head=_).done=!1,0):M},g.inflateSetDictionary=function(w,_){var S,T=_.length;return w&&w.state?(S=w.state).wrap!==0&&S.mode!==11?M:S.mode===11&&b(1,_,T,0)!==S.check?-3:v(w,_,T,T)?(S.mode=31,-4):(S.havedict=1,0):M},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,p,g){var m=d("../utils/common"),b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];p.exports=function(M,I,B,j,F,z,$,H){var C,O,A,v,w,_,S,T,N,L=H.bits,V=0,q=0,Y=0,D=0,X=0,P=0,R=0,U=0,Z=0,st=0,W=null,G=0,et=new m.Buf16(16),it=new m.Buf16(16),K=null,rt=0;for(V=0;V<=15;V++)et[V]=0;for(q=0;q<j;q++)et[I[B+q]]++;for(X=L,D=15;1<=D&&et[D]===0;D--);if(D<X&&(X=D),D===0)return F[z++]=20971520,F[z++]=20971520,H.bits=1,0;for(Y=1;Y<D&&et[Y]===0;Y++);for(X<Y&&(X=Y),V=U=1;V<=15;V++)if(U<<=1,(U-=et[V])<0)return-1;if(0<U&&(M===0||D!==1))return-1;for(it[1]=0,V=1;V<15;V++)it[V+1]=it[V]+et[V];for(q=0;q<j;q++)I[B+q]!==0&&($[it[I[B+q]]++]=q);if(_=M===0?(W=K=$,19):M===1?(W=b,G-=257,K=y,rt-=257,256):(W=x,K=k,-1),V=Y,w=z,R=q=st=0,A=-1,v=(Z=1<<(P=X))-1,M===1&&852<Z||M===2&&592<Z)return 1;for(;;){for(S=V-R,N=$[q]<_?(T=0,$[q]):$[q]>_?(T=K[rt+$[q]],W[G+$[q]]):(T=96,0),C=1<<V-R,Y=O=1<<P;F[w+(st>>R)+(O-=C)]=S<<24|T<<16|N|0,O!==0;);for(C=1<<V-1;st&C;)C>>=1;if(C!==0?(st&=C-1,st+=C):st=0,q++,--et[V]==0){if(V===D)break;V=I[B+$[q]]}if(X<V&&(st&v)!==A){for(R===0&&(R=X),w+=Y,U=1<<(P=V-R);P+R<D&&!((U-=et[P+R])<=0);)P++,U<<=1;if(Z+=1<<P,M===1&&852<Z||M===2&&592<Z)return 1;F[A=st&v]=X<<24|P<<16|w-z|0}}return st!==0&&(F[w+st]=V-R<<24|64<<16|0),H.bits=X,0}},{"../utils/common":41}],51:[function(d,p,g){p.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,p,g){var m=d("../utils/common");function b(K){for(var rt=K.length;0<=--rt;)K[rt]=0}var y=256,x=286,k=30,M=15,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(576);b(z);var $=new Array(60);b($);var H=new Array(512);b(H);var C=new Array(256);b(C);var O=new Array(29);b(O);var A,v,w,_=new Array(k);function S(K,rt,nt,ct,ot){this.static_tree=K,this.extra_bits=rt,this.extra_base=nt,this.elems=ct,this.max_length=ot,this.has_stree=K&&K.length}function T(K,rt){this.dyn_tree=K,this.max_code=0,this.stat_desc=rt}function N(K){return K<256?H[K]:H[256+(K>>>7)]}function L(K,rt){K.pending_buf[K.pending++]=255&rt,K.pending_buf[K.pending++]=rt>>>8&255}function V(K,rt,nt){K.bi_valid>16-nt?(K.bi_buf|=rt<<K.bi_valid&65535,L(K,K.bi_buf),K.bi_buf=rt>>16-K.bi_valid,K.bi_valid+=nt-16):(K.bi_buf|=rt<<K.bi_valid&65535,K.bi_valid+=nt)}function q(K,rt,nt){V(K,nt[2*rt],nt[2*rt+1])}function Y(K,rt){for(var nt=0;nt|=1&K,K>>>=1,nt<<=1,0<--rt;);return nt>>>1}function D(K,rt,nt){var ct,ot,lt=new Array(16),ut=0;for(ct=1;ct<=M;ct++)lt[ct]=ut=ut+nt[ct-1]<<1;for(ot=0;ot<=rt;ot++){var dt=K[2*ot+1];dt!==0&&(K[2*ot]=Y(lt[dt]++,dt))}}function X(K){var rt;for(rt=0;rt<x;rt++)K.dyn_ltree[2*rt]=0;for(rt=0;rt<k;rt++)K.dyn_dtree[2*rt]=0;for(rt=0;rt<19;rt++)K.bl_tree[2*rt]=0;K.dyn_ltree[512]=1,K.opt_len=K.static_len=0,K.last_lit=K.matches=0}function P(K){8<K.bi_valid?L(K,K.bi_buf):0<K.bi_valid&&(K.pending_buf[K.pending++]=K.bi_buf),K.bi_buf=0,K.bi_valid=0}function R(K,rt,nt,ct){var ot=2*rt,lt=2*nt;return K[ot]<K[lt]||K[ot]===K[lt]&&ct[rt]<=ct[nt]}function U(K,rt,nt){for(var ct=K.heap[nt],ot=nt<<1;ot<=K.heap_len&&(ot<K.heap_len&&R(rt,K.heap[ot+1],K.heap[ot],K.depth)&&ot++,!R(rt,ct,K.heap[ot],K.depth));)K.heap[nt]=K.heap[ot],nt=ot,ot<<=1;K.heap[nt]=ct}function Z(K,rt,nt){var ct,ot,lt,ut,dt=0;if(K.last_lit!==0)for(;ct=K.pending_buf[K.d_buf+2*dt]<<8|K.pending_buf[K.d_buf+2*dt+1],ot=K.pending_buf[K.l_buf+dt],dt++,ct===0?q(K,ot,rt):(q(K,(lt=C[ot])+y+1,rt),(ut=I[lt])!==0&&V(K,ot-=O[lt],ut),q(K,lt=N(--ct),nt),(ut=B[lt])!==0&&V(K,ct-=_[lt],ut)),dt<K.last_lit;);q(K,256,rt)}function st(K,rt){var nt,ct,ot,lt=rt.dyn_tree,ut=rt.stat_desc.static_tree,dt=rt.stat_desc.has_stree,mt=rt.stat_desc.elems,yt=-1;for(K.heap_len=0,K.heap_max=573,nt=0;nt<mt;nt++)lt[2*nt]!==0?(K.heap[++K.heap_len]=yt=nt,K.depth[nt]=0):lt[2*nt+1]=0;for(;K.heap_len<2;)lt[2*(ot=K.heap[++K.heap_len]=yt<2?++yt:0)]=1,K.depth[ot]=0,K.opt_len--,dt&&(K.static_len-=ut[2*ot+1]);for(rt.max_code=yt,nt=K.heap_len>>1;1<=nt;nt--)U(K,lt,nt);for(ot=mt;nt=K.heap[1],K.heap[1]=K.heap[K.heap_len--],U(K,lt,1),ct=K.heap[1],K.heap[--K.heap_max]=nt,K.heap[--K.heap_max]=ct,lt[2*ot]=lt[2*nt]+lt[2*ct],K.depth[ot]=(K.depth[nt]>=K.depth[ct]?K.depth[nt]:K.depth[ct])+1,lt[2*nt+1]=lt[2*ct+1]=ot,K.heap[1]=ot++,U(K,lt,1),2<=K.heap_len;);K.heap[--K.heap_max]=K.heap[1],function(vt,_t){var Et,Pt,Bt,Ht,Ot,St,Nt=_t.dyn_tree,Lt=_t.max_code,It=_t.stat_desc.static_tree,pe=_t.stat_desc.has_stree,je=_t.stat_desc.extra_bits,Xt=_t.stat_desc.extra_base,Re=_t.stat_desc.max_length,ve=0;for(Ht=0;Ht<=M;Ht++)vt.bl_count[Ht]=0;for(Nt[2*vt.heap[vt.heap_max]+1]=0,Et=vt.heap_max+1;Et<573;Et++)Re<(Ht=Nt[2*Nt[2*(Pt=vt.heap[Et])+1]+1]+1)&&(Ht=Re,ve++),Nt[2*Pt+1]=Ht,Lt<Pt||(vt.bl_count[Ht]++,Ot=0,Xt<=Pt&&(Ot=je[Pt-Xt]),St=Nt[2*Pt],vt.opt_len+=St*(Ht+Ot),pe&&(vt.static_len+=St*(It[2*Pt+1]+Ot)));if(ve!==0){do{for(Ht=Re-1;vt.bl_count[Ht]===0;)Ht--;vt.bl_count[Ht]--,vt.bl_count[Ht+1]+=2,vt.bl_count[Re]--,ve-=2}while(0<ve);for(Ht=Re;Ht!==0;Ht--)for(Pt=vt.bl_count[Ht];Pt!==0;)Lt<(Bt=vt.heap[--Et])||(Nt[2*Bt+1]!==Ht&&(vt.opt_len+=(Ht-Nt[2*Bt+1])*Nt[2*Bt],Nt[2*Bt+1]=Ht),Pt--)}}(K,rt),D(lt,yt,K.bl_count)}function W(K,rt,nt){var ct,ot,lt=-1,ut=rt[1],dt=0,mt=7,yt=4;for(ut===0&&(mt=138,yt=3),rt[2*(nt+1)+1]=65535,ct=0;ct<=nt;ct++)ot=ut,ut=rt[2*(ct+1)+1],++dt<mt&&ot===ut||(dt<yt?K.bl_tree[2*ot]+=dt:ot!==0?(ot!==lt&&K.bl_tree[2*ot]++,K.bl_tree[32]++):dt<=10?K.bl_tree[34]++:K.bl_tree[36]++,lt=ot,yt=(dt=0)===ut?(mt=138,3):ot===ut?(mt=6,3):(mt=7,4))}function G(K,rt,nt){var ct,ot,lt=-1,ut=rt[1],dt=0,mt=7,yt=4;for(ut===0&&(mt=138,yt=3),ct=0;ct<=nt;ct++)if(ot=ut,ut=rt[2*(ct+1)+1],!(++dt<mt&&ot===ut)){if(dt<yt)for(;q(K,ot,K.bl_tree),--dt!=0;);else ot!==0?(ot!==lt&&(q(K,ot,K.bl_tree),dt--),q(K,16,K.bl_tree),V(K,dt-3,2)):dt<=10?(q(K,17,K.bl_tree),V(K,dt-3,3)):(q(K,18,K.bl_tree),V(K,dt-11,7));lt=ot,yt=(dt=0)===ut?(mt=138,3):ot===ut?(mt=6,3):(mt=7,4)}}b(_);var et=!1;function it(K,rt,nt,ct){V(K,0+(ct?1:0),3),function(ot,lt,ut,dt){P(ot),L(ot,ut),L(ot,~ut),m.arraySet(ot.pending_buf,ot.window,lt,ut,ot.pending),ot.pending+=ut}(K,rt,nt)}g._tr_init=function(K){et||(function(){var rt,nt,ct,ot,lt,ut=new Array(16);for(ot=ct=0;ot<28;ot++)for(O[ot]=ct,rt=0;rt<1<<I[ot];rt++)C[ct++]=ot;for(C[ct-1]=ot,ot=lt=0;ot<16;ot++)for(_[ot]=lt,rt=0;rt<1<<B[ot];rt++)H[lt++]=ot;for(lt>>=7;ot<k;ot++)for(_[ot]=lt<<7,rt=0;rt<1<<B[ot]-7;rt++)H[256+lt++]=ot;for(nt=0;nt<=M;nt++)ut[nt]=0;for(rt=0;rt<=143;)z[2*rt+1]=8,rt++,ut[8]++;for(;rt<=255;)z[2*rt+1]=9,rt++,ut[9]++;for(;rt<=279;)z[2*rt+1]=7,rt++,ut[7]++;for(;rt<=287;)z[2*rt+1]=8,rt++,ut[8]++;for(D(z,287,ut),rt=0;rt<k;rt++)$[2*rt+1]=5,$[2*rt]=Y(rt,5);A=new S(z,I,257,x,M),v=new S($,B,0,k,M),w=new S(new Array(0),j,0,19,7)}(),et=!0),K.l_desc=new T(K.dyn_ltree,A),K.d_desc=new T(K.dyn_dtree,v),K.bl_desc=new T(K.bl_tree,w),K.bi_buf=0,K.bi_valid=0,X(K)},g._tr_stored_block=it,g._tr_flush_block=function(K,rt,nt,ct){var ot,lt,ut=0;0<K.level?(K.strm.data_type===2&&(K.strm.data_type=function(dt){var mt,yt=4093624447;for(mt=0;mt<=31;mt++,yt>>>=1)if(1&yt&&dt.dyn_ltree[2*mt]!==0)return 0;if(dt.dyn_ltree[18]!==0||dt.dyn_ltree[20]!==0||dt.dyn_ltree[26]!==0)return 1;for(mt=32;mt<y;mt++)if(dt.dyn_ltree[2*mt]!==0)return 1;return 0}(K)),st(K,K.l_desc),st(K,K.d_desc),ut=function(dt){var mt;for(W(dt,dt.dyn_ltree,dt.l_desc.max_code),W(dt,dt.dyn_dtree,dt.d_desc.max_code),st(dt,dt.bl_desc),mt=18;3<=mt&&dt.bl_tree[2*F[mt]+1]===0;mt--);return dt.opt_len+=3*(mt+1)+5+5+4,mt}(K),ot=K.opt_len+3+7>>>3,(lt=K.static_len+3+7>>>3)<=ot&&(ot=lt)):ot=lt=nt+5,nt+4<=ot&&rt!==-1?it(K,rt,nt,ct):K.strategy===4||lt===ot?(V(K,2+(ct?1:0),3),Z(K,z,$)):(V(K,4+(ct?1:0),3),function(dt,mt,yt,vt){var _t;for(V(dt,mt-257,5),V(dt,yt-1,5),V(dt,vt-4,4),_t=0;_t<vt;_t++)V(dt,dt.bl_tree[2*F[_t]+1],3);G(dt,dt.dyn_ltree,mt-1),G(dt,dt.dyn_dtree,yt-1)}(K,K.l_desc.max_code+1,K.d_desc.max_code+1,ut+1),Z(K,K.dyn_ltree,K.dyn_dtree)),X(K),ct&&P(K)},g._tr_tally=function(K,rt,nt){return K.pending_buf[K.d_buf+2*K.last_lit]=rt>>>8&255,K.pending_buf[K.d_buf+2*K.last_lit+1]=255&rt,K.pending_buf[K.l_buf+K.last_lit]=255&nt,K.last_lit++,rt===0?K.dyn_ltree[2*nt]++:(K.matches++,rt--,K.dyn_ltree[2*(C[nt]+y+1)]++,K.dyn_dtree[2*N(rt)]++),K.last_lit===K.lit_bufsize-1},g._tr_align=function(K){V(K,2,3),q(K,256,z),function(rt){rt.bi_valid===16?(L(rt,rt.bi_buf),rt.bi_buf=0,rt.bi_valid=0):8<=rt.bi_valid&&(rt.pending_buf[rt.pending++]=255&rt.bi_buf,rt.bi_buf>>=8,rt.bi_valid-=8)}(K)}},{"../utils/common":41}],53:[function(d,p,g){p.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,p,g){(function(m){(function(b,y){if(!b.setImmediate){var x,k,M,I,B=1,j={},F=!1,z=b.document,$=Object.getPrototypeOf&&Object.getPrototypeOf(b);$=$&&$.setTimeout?$:b,x={}.toString.call(b.process)==="[object process]"?function(A){n.nextTick(function(){C(A)})}:function(){if(b.postMessage&&!b.importScripts){var A=!0,v=b.onmessage;return b.onmessage=function(){A=!1},b.postMessage("","*"),b.onmessage=v,A}}()?(I="setImmediate$"+Math.random()+"$",b.addEventListener?b.addEventListener("message",O,!1):b.attachEvent("onmessage",O),function(A){b.postMessage(I+A,"*")}):b.MessageChannel?((M=new MessageChannel).port1.onmessage=function(A){C(A.data)},function(A){M.port2.postMessage(A)}):z&&"onreadystatechange"in z.createElement("script")?(k=z.documentElement,function(A){var v=z.createElement("script");v.onreadystatechange=function(){C(A),v.onreadystatechange=null,k.removeChild(v),v=null},k.appendChild(v)}):function(A){setTimeout(C,0,A)},$.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var v=new Array(arguments.length-1),w=0;w<v.length;w++)v[w]=arguments[w+1];var _={callback:A,args:v};return j[B]=_,x(B),B++},$.clearImmediate=H}function H(A){delete j[A]}function C(A){if(F)setTimeout(C,0,A);else{var v=j[A];if(v){F=!0;try{(function(w){var _=w.callback,S=w.args;switch(S.length){case 0:_();break;case 1:_(S[0]);break;case 2:_(S[0],S[1]);break;case 3:_(S[0],S[1],S[2]);break;default:_.apply(void 0,S)}})(v)}finally{H(A),F=!1}}}}function O(A){A.source===b&&typeof A.data=="string"&&A.data.indexOf(I)===0&&C(+A.data.slice(I.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,t("_process"),typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,r,a){(function(n){(function(){var i=/[\\^$.*+?()[\]{}|]/g,o=RegExp(i.source),l=typeof n=="object"&&n&&n.Object===Object&&n,s=typeof self=="object"&&self&&self.Object===Object&&self,c=l||s||Function("return this")(),f=Object.prototype.toString,h=c.Symbol,d=h?h.prototype:void 0,p=d?d.toString:void 0;function g(m){if(typeof m=="string")return m;if(function(y){return typeof y=="symbol"||function(x){return!!x&&typeof x=="object"}(y)&&f.call(y)=="[object Symbol]"}(m))return p?p.call(m):"";var b=m+"";return b=="0"&&1/m==-1/0?"-0":b}r.exports=function(m){var b;return(m=(b=m)==null?"":g(b))&&o.test(m)?m.replace(i,"\\$&"):m}}).call(this)}).call(this,typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,r,a){(function(n){(function(){var i="[object Arguments]",o="[object Map]",l="[object Object]",s="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,h=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b[i]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b["[object Function]"]=b[o]=b["[object Number]"]=b[l]=b["[object RegExp]"]=b[s]=b["[object String]"]=b["[object WeakMap]"]=!1;var y=typeof n=="object"&&n&&n.Object===Object&&n,x=typeof self=="object"&&self&&self.Object===Object&&self,k=y||x||Function("return this")(),M=typeof a=="object"&&a&&!a.nodeType&&a,I=M&&typeof r=="object"&&r&&!r.nodeType&&r,B=I&&I.exports===M&&y.process,j=function(){try{return B&&B.binding("util")}catch{}}(),F=j&&j.isTypedArray;function z(at,pt,wt,xt){for(var $t=-1,Ct=at?at.length:0;++$t<Ct;){var Mt=at[$t];pt(xt,Mt,wt(Mt),at)}return xt}function $(at,pt){for(var wt=-1,xt=at?at.length:0;++wt<xt;)if(pt(at[wt],wt,at))return!0;return!1}function H(at){var pt=!1;if(at!=null&&typeof at.toString!="function")try{pt=!!(at+"")}catch{}return pt}function C(at){var pt=-1,wt=Array(at.size);return at.forEach(function(xt,$t){wt[++pt]=[$t,xt]}),wt}function O(at){var pt=-1,wt=Array(at.size);return at.forEach(function(xt){wt[++pt]=xt}),wt}var A,v,w,_=Array.prototype,S=Function.prototype,T=Object.prototype,N=k["__core-js_shared__"],L=(A=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",V=S.toString,q=T.hasOwnProperty,Y=T.toString,D=RegExp("^"+V.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=k.Symbol,P=k.Uint8Array,R=T.propertyIsEnumerable,U=_.splice,Z=(v=Object.keys,w=Object,function(at){return v(w(at))}),st=Jt(k,"DataView"),W=Jt(k,"Map"),G=Jt(k,"Promise"),et=Jt(k,"Set"),it=Jt(k,"WeakMap"),K=Jt(Object,"create"),rt=ft(st),nt=ft(W),ct=ft(G),ot=ft(et),lt=ft(it),ut=X?X.prototype:void 0,dt=ut?ut.valueOf:void 0,mt=ut?ut.toString:void 0;function yt(at){var pt=-1,wt=at?at.length:0;for(this.clear();++pt<wt;){var xt=at[pt];this.set(xt[0],xt[1])}}function vt(at){var pt=-1,wt=at?at.length:0;for(this.clear();++pt<wt;){var xt=at[pt];this.set(xt[0],xt[1])}}function _t(at){var pt=-1,wt=at?at.length:0;for(this.clear();++pt<wt;){var xt=at[pt];this.set(xt[0],xt[1])}}function Et(at){var pt=-1,wt=at?at.length:0;for(this.__data__=new _t;++pt<wt;)this.add(at[pt])}function Pt(at){this.__data__=new vt(at)}function Bt(at,pt){var wt=Zt(at)||te(at)?function(Mt,Se){for(var he=-1,ge=Array(Mt);++he<Mt;)ge[he]=Se(he);return ge}(at.length,String):[],xt=wt.length,$t=!!xt;for(var Ct in at)!q.call(at,Ct)||$t&&(Ct=="length"||$e(Ct,xt))||wt.push(Ct);return wt}function Ht(at,pt){for(var wt=at.length;wt--;)if(Rt(at[wt][0],pt))return wt;return-1}function Ot(at,pt,wt,xt){return Nt(at,function($t,Ct,Mt){pt(xt,$t,wt($t),Mt)}),xt}yt.prototype.clear=function(){this.__data__=K?K(null):{}},yt.prototype.delete=function(at){return this.has(at)&&delete this.__data__[at]},yt.prototype.get=function(at){var pt=this.__data__;if(K){var wt=pt[at];return wt==="__lodash_hash_undefined__"?void 0:wt}return q.call(pt,at)?pt[at]:void 0},yt.prototype.has=function(at){var pt=this.__data__;return K?pt[at]!==void 0:q.call(pt,at)},yt.prototype.set=function(at,pt){return this.__data__[at]=K&&pt===void 0?"__lodash_hash_undefined__":pt,this},vt.prototype.clear=function(){this.__data__=[]},vt.prototype.delete=function(at){var pt=this.__data__,wt=Ht(pt,at);return!(wt<0)&&(wt==pt.length-1?pt.pop():U.call(pt,wt,1),!0)},vt.prototype.get=function(at){var pt=this.__data__,wt=Ht(pt,at);return wt<0?void 0:pt[wt][1]},vt.prototype.has=function(at){return Ht(this.__data__,at)>-1},vt.prototype.set=function(at,pt){var wt=this.__data__,xt=Ht(wt,at);return xt<0?wt.push([at,pt]):wt[xt][1]=pt,this},_t.prototype.clear=function(){this.__data__={hash:new yt,map:new(W||vt),string:new yt}},_t.prototype.delete=function(at){return Oe(this,at).delete(at)},_t.prototype.get=function(at){return Oe(this,at).get(at)},_t.prototype.has=function(at){return Oe(this,at).has(at)},_t.prototype.set=function(at,pt){return Oe(this,at).set(at,pt),this},Et.prototype.add=Et.prototype.push=function(at){return this.__data__.set(at,"__lodash_hash_undefined__"),this},Et.prototype.has=function(at){return this.__data__.has(at)},Pt.prototype.clear=function(){this.__data__=new vt},Pt.prototype.delete=function(at){return this.__data__.delete(at)},Pt.prototype.get=function(at){return this.__data__.get(at)},Pt.prototype.has=function(at){return this.__data__.has(at)},Pt.prototype.set=function(at,pt){var wt=this.__data__;if(wt instanceof vt){var xt=wt.__data__;if(!W||xt.length<199)return xt.push([at,pt]),this;wt=this.__data__=new _t(xt)}return wt.set(at,pt),this};var St,Nt=(St=function(at,pt){return at&&Lt(at,pt,br)},function(at,pt){if(at==null)return at;if(!Wt(at))return St(at,pt);for(var wt=at.length,xt=-1,$t=Object(at);++xt<wt&&pt($t[xt],xt,$t)!==!1;);return at}),Lt=function(at){return function(pt,wt,xt){for(var $t=-1,Ct=Object(pt),Mt=xt(pt),Se=Mt.length;Se--;){var he=Mt[++$t];if(wt(Ct[he],he,Ct)===!1)break}return pt}}();function It(at,pt){for(var wt=0,xt=(pt=Qt(pt,at)?[pt]:ne(pt)).length;at!=null&&wt<xt;)at=at[ht(pt[wt++])];return wt&&wt==xt?at:void 0}function pe(at,pt){return at!=null&&pt in Object(at)}function je(at,pt,wt,xt,$t){return at===pt||(at==null||pt==null||!me(at)&&!cr(pt)?at!=at&&pt!=pt:function(Ct,Mt,Se,he,ge,Yt){var Be=Zt(Ct),ze=Zt(Mt),We="[object Array]",ir="[object Array]";Be||(We=(We=ke(Ct))==i?l:We),ze||(ir=(ir=ke(Mt))==i?l:ir);var kr=We==l&&!H(Ct),Wr=ir==l&&!H(Mt),zn=We==ir;if(zn&&!kr)return Yt||(Yt=new Pt),Be||gr(Ct)?Ke(Ct,Mt,Se,he,ge,Yt):function(He,Ce,Os,Ca,sd,pn,Hi){switch(Os){case"[object DataView]":if(He.byteLength!=Ce.byteLength||He.byteOffset!=Ce.byteOffset)return!1;He=He.buffer,Ce=Ce.buffer;case"[object ArrayBuffer]":return!(He.byteLength!=Ce.byteLength||!Ca(new P(He),new P(Ce)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Rt(+He,+Ce);case"[object Error]":return He.name==Ce.name&&He.message==Ce.message;case"[object RegExp]":case"[object String]":return He==Ce+"";case o:var Ps=C;case s:var wc=2&pn;if(Ps||(Ps=O),He.size!=Ce.size&&!wc)return!1;var ad=Hi.get(He);if(ad)return ad==Ce;pn|=1,Hi.set(He,Ce);var Qo=Ke(Ps(He),Ps(Ce),Ca,sd,pn,Hi);return Hi.delete(He),Qo;case"[object Symbol]":if(dt)return dt.call(He)==dt.call(Ce)}return!1}(Ct,Mt,We,Se,he,ge,Yt);if(!(2&ge)){var Ea=kr&&q.call(Ct,"__wrapped__"),Zo=Wr&&q.call(Mt,"__wrapped__");if(Ea||Zo){var Yo=Ea?Ct.value():Ct,Jo=Zo?Mt.value():Mt;return Yt||(Yt=new Pt),Se(Yo,Jo,he,ge,Yt)}}return zn?(Yt||(Yt=new Pt),function(He,Ce,Os,Ca,sd,pn){var Hi=2&sd,Ps=br(He),wc=Ps.length,ad=br(Ce).length;if(wc!=ad&&!Hi)return!1;for(var Qo=wc;Qo--;){var Is=Ps[Qo];if(!(Hi?Is in Ce:q.call(Ce,Is)))return!1}var ug=pn.get(He);if(ug&&pn.get(Ce))return ug==Ce;var od=!0;pn.set(He,Ce),pn.set(Ce,He);for(var yp=Hi;++Qo<wc;){Is=Ps[Qo];var ld=He[Is],cd=Ce[Is];if(Ca)var dg=Hi?Ca(cd,ld,Is,Ce,He,pn):Ca(ld,cd,Is,He,Ce,pn);if(!(dg===void 0?ld===cd||Os(ld,cd,Ca,sd,pn):dg)){od=!1;break}yp||(yp=Is=="constructor")}if(od&&!yp){var hd=He.constructor,ud=Ce.constructor;hd==ud||!("constructor"in He)||!("constructor"in Ce)||typeof hd=="function"&&hd instanceof hd&&typeof ud=="function"&&ud instanceof ud||(od=!1)}return pn.delete(He),pn.delete(Ce),od}(Ct,Mt,Se,he,ge,Yt)):!1}(at,pt,je,wt,xt,$t))}function Xt(at){return!(!me(at)||function(pt){return!!L&&L in pt}(at))&&(se(at)||H(at)?D:g).test(ft(at))}function Re(at){return typeof at=="function"?at:at==null?en:typeof at=="object"?Zt(at)?function(xt,$t){return Qt(xt)&&Ne($t)?Ve(ht(xt),$t):function(Ct){var Mt=function(Se,he,ge){var Yt=Se==null?void 0:It(Se,he);return Yt===void 0?ge:Yt}(Ct,xt);return Mt===void 0&&Mt===$t?function(Se,he){return Se!=null&&function(ge,Yt,Be){Yt=Qt(Yt,ge)?[Yt]:ne(Yt);for(var ze,We=-1,ir=Yt.length;++We<ir;){var kr=ht(Yt[We]);if(!(ze=ge!=null&&Be(ge,kr)))break;ge=ge[kr]}return ze||!!(ir=ge?ge.length:0)&&ee(ir)&&$e(kr,ir)&&(Zt(ge)||te(ge))}(Se,he,pe)}(Ct,xt):je($t,Mt,void 0,3)}}(at[0],at[1]):function(xt){var $t=function(Ct){for(var Mt=br(Ct),Se=Mt.length;Se--;){var he=Mt[Se],ge=Ct[he];Mt[Se]=[he,ge,Ne(ge)]}return Mt}(xt);return $t.length==1&&$t[0][2]?Ve($t[0][0],$t[0][1]):function(Ct){return Ct===xt||function(Mt,Se,he,ge){var Yt=he.length,Be=Yt;if(Mt==null)return!Be;for(Mt=Object(Mt);Yt--;){var ze=he[Yt];if(ze[2]?ze[1]!==Mt[ze[0]]:!(ze[0]in Mt))return!1}for(;++Yt<Be;){var We=(ze=he[Yt])[0],ir=Mt[We],kr=ze[1];if(ze[2]){if(ir===void 0&&!(We in Mt))return!1}else{var Wr=new Pt,zn;if(!(zn===void 0?je(kr,ir,ge,3,Wr):zn))return!1}}return!0}(Ct,xt,$t)}}(at):Qt(pt=at)?(wt=ht(pt),function(xt){return xt==null?void 0:xt[wt]}):function(xt){return function($t){return It($t,xt)}}(pt);var pt,wt}function ve(at){if(wt=(pt=at)&&pt.constructor,xt=typeof wt=="function"&&wt.prototype||T,pt!==xt)return Z(at);var pt,wt,xt,$t=[];for(var Ct in Object(at))q.call(at,Ct)&&Ct!="constructor"&&$t.push(Ct);return $t}function ne(at){return Zt(at)?at:ae(at)}function Ke(at,pt,wt,xt,$t,Ct){var Mt=2&$t,Se=at.length,he=pt.length;if(Se!=he&&!(Mt&&he>Se))return!1;var ge=Ct.get(at);if(ge&&Ct.get(pt))return ge==pt;var Yt=-1,Be=!0,ze=1&$t?new Et:void 0;for(Ct.set(at,pt),Ct.set(pt,at);++Yt<Se;){var We=at[Yt],ir=pt[Yt];if(xt)var kr=Mt?xt(ir,We,Yt,pt,at,Ct):xt(We,ir,Yt,at,pt,Ct);if(kr!==void 0){if(kr)continue;Be=!1;break}if(ze){if(!$(pt,function(Wr,zn){if(!ze.has(zn)&&(We===Wr||wt(We,Wr,xt,$t,Ct)))return ze.add(zn)})){Be=!1;break}}else if(We!==ir&&!wt(We,ir,xt,$t,Ct)){Be=!1;break}}return Ct.delete(at),Ct.delete(pt),Be}function Oe(at,pt){var wt,xt,$t=at.__data__;return((xt=typeof(wt=pt))=="string"||xt=="number"||xt=="symbol"||xt=="boolean"?wt!=="__proto__":wt===null)?$t[typeof pt=="string"?"string":"hash"]:$t.map}function Jt(at,pt){var wt=function(xt,$t){return xt==null?void 0:xt[$t]}(at,pt);return Xt(wt)?wt:void 0}var ke=function(at){return Y.call(at)};function $e(at,pt){return!!(pt=pt??9007199254740991)&&(typeof at=="number"||m.test(at))&&at>-1&&at%1==0&&at<pt}function Qt(at,pt){if(Zt(at))return!1;var wt=typeof at;return!(wt!="number"&&wt!="symbol"&&wt!="boolean"&&at!=null&&!Qe(at))||f.test(at)||!c.test(at)||pt!=null&&at in Object(pt)}function Ne(at){return at==at&&!me(at)}function Ve(at,pt){return function(wt){return wt!=null&&wt[at]===pt&&(pt!==void 0||at in Object(wt))}}(st&&ke(new st(new ArrayBuffer(1)))!="[object DataView]"||W&&ke(new W)!=o||G&&ke(G.resolve())!="[object Promise]"||et&&ke(new et)!=s||it&&ke(new it)!="[object WeakMap]")&&(ke=function(at){var pt=Y.call(at),wt=pt==l?at.constructor:void 0,xt=wt?ft(wt):void 0;if(xt)switch(xt){case rt:return"[object DataView]";case nt:return o;case ct:return"[object Promise]";case ot:return s;case lt:return"[object WeakMap]"}return pt});var ae=Kt(function(at){var pt;at=(pt=at)==null?"":function(xt){if(typeof xt=="string")return xt;if(Qe(xt))return mt?mt.call(xt):"";var $t=xt+"";return $t=="0"&&1/xt==-1/0?"-0":$t}(pt);var wt=[];return h.test(at)&&wt.push(""),at.replace(d,function(xt,$t,Ct,Mt){wt.push(Ct?Mt.replace(p,"$1"):$t||xt)}),wt});function ht(at){if(typeof at=="string"||Qe(at))return at;var pt=at+"";return pt=="0"&&1/at==-1/0?"-0":pt}function ft(at){if(at!=null){try{return V.call(at)}catch{}try{return at+""}catch{}}return""}var bt,Tt=(bt=function(at,pt,wt){q.call(at,wt)?at[wt].push(pt):at[wt]=[pt]},function(at,pt){var wt=Zt(at)?z:Ot,xt={};return wt(at,bt,Re(pt),xt)});function Kt(at,pt){if(typeof at!="function"||pt&&typeof pt!="function")throw new TypeError("Expected a function");var wt=function(){var xt=arguments,$t=pt?pt.apply(this,xt):xt[0],Ct=wt.cache;if(Ct.has($t))return Ct.get($t);var Mt=at.apply(this,xt);return wt.cache=Ct.set($t,Mt),Mt};return wt.cache=new(Kt.Cache||_t),wt}function Rt(at,pt){return at===pt||at!=at&&pt!=pt}function te(at){return function(pt){return cr(pt)&&Wt(pt)}(at)&&q.call(at,"callee")&&(!R.call(at,"callee")||Y.call(at)==i)}Kt.Cache=_t;var Zt=Array.isArray;function Wt(at){return at!=null&&ee(at.length)&&!se(at)}function se(at){var pt=me(at)?Y.call(at):"";return pt=="[object Function]"||pt=="[object GeneratorFunction]"}function ee(at){return typeof at=="number"&&at>-1&&at%1==0&&at<=9007199254740991}function me(at){var pt=typeof at;return!!at&&(pt=="object"||pt=="function")}function cr(at){return!!at&&typeof at=="object"}function Qe(at){return typeof at=="symbol"||cr(at)&&Y.call(at)=="[object Symbol]"}var gr=F?function(at){return function(pt){return at(pt)}}(F):function(at){return cr(at)&&ee(at.length)&&!!b[Y.call(at)]};function br(at){return Wt(at)?Bt(at):ve(at)}function en(at){return at}r.exports=Tt}).call(this)}).call(this,typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,r,a){var n=Object.prototype.toString;r.exports=function(i){return i===!0||i===!1||function(o){return!!o&&typeof o=="object"}(i)&&n.call(i)=="[object Boolean]"}},{}],445:[function(t,r,a){(function(n){(function(){var i="[object Arguments]",o="[object Map]",l="[object Object]",s="[object Set]",c=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[i]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[o]=h["[object Number]"]=h[l]=h["[object RegExp]"]=h[s]=h["[object String]"]=h["[object WeakMap]"]=!1;var d=typeof n=="object"&&n&&n.Object===Object&&n,p=typeof self=="object"&&self&&self.Object===Object&&self,g=d||p||Function("return this")(),m=typeof a=="object"&&a&&!a.nodeType&&a,b=m&&typeof r=="object"&&r&&!r.nodeType&&r,y=b&&b.exports===m,x=y&&d.process,k=function(){try{return x&&x.binding&&x.binding("util")}catch{}}(),M=k&&k.isTypedArray;function I(ht,ft){for(var bt=-1,Tt=ht==null?0:ht.length;++bt<Tt;)if(ft(ht[bt],bt,ht))return!0;return!1}function B(ht){var ft=-1,bt=Array(ht.size);return ht.forEach(function(Tt,Kt){bt[++ft]=[Kt,Tt]}),bt}function j(ht){var ft=-1,bt=Array(ht.size);return ht.forEach(function(Tt){bt[++ft]=Tt}),bt}var F,z,$,H=Array.prototype,C=Function.prototype,O=Object.prototype,A=g["__core-js_shared__"],v=C.toString,w=O.hasOwnProperty,_=(F=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",S=O.toString,T=RegExp("^"+v.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=y?g.Buffer:void 0,L=g.Symbol,V=g.Uint8Array,q=O.propertyIsEnumerable,Y=H.splice,D=L?L.toStringTag:void 0,X=Object.getOwnPropertySymbols,P=N?N.isBuffer:void 0,R=(z=Object.keys,$=Object,function(ht){return z($(ht))}),U=pe(g,"DataView"),Z=pe(g,"Map"),st=pe(g,"Promise"),W=pe(g,"Set"),G=pe(g,"WeakMap"),et=pe(Object,"create"),it=ve(U),K=ve(Z),rt=ve(st),nt=ve(W),ct=ve(G),ot=L?L.prototype:void 0,lt=ot?ot.valueOf:void 0;function ut(ht){var ft=-1,bt=ht==null?0:ht.length;for(this.clear();++ft<bt;){var Tt=ht[ft];this.set(Tt[0],Tt[1])}}function dt(ht){var ft=-1,bt=ht==null?0:ht.length;for(this.clear();++ft<bt;){var Tt=ht[ft];this.set(Tt[0],Tt[1])}}function mt(ht){var ft=-1,bt=ht==null?0:ht.length;for(this.clear();++ft<bt;){var Tt=ht[ft];this.set(Tt[0],Tt[1])}}function yt(ht){var ft=-1,bt=ht==null?0:ht.length;for(this.__data__=new mt;++ft<bt;)this.add(ht[ft])}function vt(ht){var ft=this.__data__=new dt(ht);this.size=ft.size}function _t(ht,ft){var bt=Oe(ht),Tt=!bt&&Ke(ht),Kt=!bt&&!Tt&&Jt(ht),Rt=!bt&&!Tt&&!Kt&&Ve(ht),te=bt||Tt||Kt||Rt,Zt=te?function(ee,me){for(var cr=-1,Qe=Array(ee);++cr<ee;)Qe[cr]=me(cr);return Qe}(ht.length,String):[],Wt=Zt.length;for(var se in ht)!w.call(ht,se)||te&&(se=="length"||Kt&&(se=="offset"||se=="parent")||Rt&&(se=="buffer"||se=="byteLength"||se=="byteOffset")||Re(se,Wt))||Zt.push(se);return Zt}function Et(ht,ft){for(var bt=ht.length;bt--;)if(ne(ht[bt][0],ft))return bt;return-1}function Pt(ht){return ht==null?ht===void 0?"[object Undefined]":"[object Null]":D&&D in Object(ht)?function(ft){var bt=w.call(ft,D),Tt=ft[D];try{ft[D]=void 0;var Kt=!0}catch{}var Rt=S.call(ft);return Kt&&(bt?ft[D]=Tt:delete ft[D]),Rt}(ht):function(ft){return S.call(ft)}(ht)}function Bt(ht){return Ne(ht)&&Pt(ht)==i}function Ht(ht,ft,bt,Tt,Kt){return ht===ft||(ht==null||ft==null||!Ne(ht)&&!Ne(ft)?ht!=ht&&ft!=ft:function(Rt,te,Zt,Wt,se,ee){var me=Oe(Rt),cr=Oe(te),Qe=me?"[object Array]":Xt(Rt),gr=cr?"[object Array]":Xt(te),br=(Qe=Qe==i?l:Qe)==l,en=(gr=gr==i?l:gr)==l,at=Qe==gr;if(at&&Jt(Rt)){if(!Jt(te))return!1;me=!0,br=!1}if(at&&!br)return ee||(ee=new vt),me||Ve(Rt)?Nt(Rt,te,Zt,Wt,se,ee):function(Ct,Mt,Se,he,ge,Yt,Be){switch(Se){case"[object DataView]":if(Ct.byteLength!=Mt.byteLength||Ct.byteOffset!=Mt.byteOffset)return!1;Ct=Ct.buffer,Mt=Mt.buffer;case"[object ArrayBuffer]":return!(Ct.byteLength!=Mt.byteLength||!Yt(new V(Ct),new V(Mt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ne(+Ct,+Mt);case"[object Error]":return Ct.name==Mt.name&&Ct.message==Mt.message;case"[object RegExp]":case"[object String]":return Ct==Mt+"";case o:var ze=B;case s:var We=1&he;if(ze||(ze=j),Ct.size!=Mt.size&&!We)return!1;var ir=Be.get(Ct);if(ir)return ir==Mt;he|=2,Be.set(Ct,Mt);var kr=Nt(ze(Ct),ze(Mt),he,ge,Yt,Be);return Be.delete(Ct),kr;case"[object Symbol]":if(lt)return lt.call(Ct)==lt.call(Mt)}return!1}(Rt,te,Qe,Zt,Wt,se,ee);if(!(1&Zt)){var pt=br&&w.call(Rt,"__wrapped__"),wt=en&&w.call(te,"__wrapped__");if(pt||wt){var xt=pt?Rt.value():Rt,$t=wt?te.value():te;return ee||(ee=new vt),se(xt,$t,Zt,Wt,ee)}}return at?(ee||(ee=new vt),function(Ct,Mt,Se,he,ge,Yt){var Be=1&Se,ze=Lt(Ct),We=ze.length,ir=Lt(Mt).length;if(We!=ir&&!Be)return!1;for(var kr=We;kr--;){var Wr=ze[kr];if(!(Be?Wr in Mt:w.call(Mt,Wr)))return!1}var zn=Yt.get(Ct);if(zn&&Yt.get(Mt))return zn==Mt;var Ea=!0;Yt.set(Ct,Mt),Yt.set(Mt,Ct);for(var Zo=Be;++kr<We;){Wr=ze[kr];var Yo=Ct[Wr],Jo=Mt[Wr];if(he)var He=Be?he(Jo,Yo,Wr,Mt,Ct,Yt):he(Yo,Jo,Wr,Ct,Mt,Yt);if(!(He===void 0?Yo===Jo||ge(Yo,Jo,Se,he,Yt):He)){Ea=!1;break}Zo||(Zo=Wr=="constructor")}if(Ea&&!Zo){var Ce=Ct.constructor,Os=Mt.constructor;Ce==Os||!("constructor"in Ct)||!("constructor"in Mt)||typeof Ce=="function"&&Ce instanceof Ce&&typeof Os=="function"&&Os instanceof Os||(Ea=!1)}return Yt.delete(Ct),Yt.delete(Mt),Ea}(Rt,te,Zt,Wt,se,ee)):!1}(ht,ft,bt,Tt,Ht,Kt))}function Ot(ht){return!(!Qt(ht)||function(ft){return!!_&&_ in ft}(ht))&&(ke(ht)?T:c).test(ve(ht))}function St(ht){if(bt=(ft=ht)&&ft.constructor,Tt=typeof bt=="function"&&bt.prototype||O,ft!==Tt)return R(ht);var ft,bt,Tt,Kt=[];for(var Rt in Object(ht))w.call(ht,Rt)&&Rt!="constructor"&&Kt.push(Rt);return Kt}function Nt(ht,ft,bt,Tt,Kt,Rt){var te=1&bt,Zt=ht.length,Wt=ft.length;if(Zt!=Wt&&!(te&&Wt>Zt))return!1;var se=Rt.get(ht);if(se&&Rt.get(ft))return se==ft;var ee=-1,me=!0,cr=2&bt?new yt:void 0;for(Rt.set(ht,ft),Rt.set(ft,ht);++ee<Zt;){var Qe=ht[ee],gr=ft[ee];if(Tt)var br=te?Tt(gr,Qe,ee,ft,ht,Rt):Tt(Qe,gr,ee,ht,ft,Rt);if(br!==void 0){if(br)continue;me=!1;break}if(cr){if(!I(ft,function(en,at){if(pt=at,!cr.has(pt)&&(Qe===en||Kt(Qe,en,bt,Tt,Rt)))return cr.push(at);var pt})){me=!1;break}}else if(Qe!==gr&&!Kt(Qe,gr,bt,Tt,Rt)){me=!1;break}}return Rt.delete(ht),Rt.delete(ft),me}function Lt(ht){return function(ft,bt,Tt){var Kt=bt(ft);return Oe(ft)?Kt:function(Rt,te){for(var Zt=-1,Wt=te.length,se=Rt.length;++Zt<Wt;)Rt[se+Zt]=te[Zt];return Rt}(Kt,Tt(ft))}(ht,ae,je)}function It(ht,ft){var bt,Tt,Kt=ht.__data__;return((Tt=typeof(bt=ft))=="string"||Tt=="number"||Tt=="symbol"||Tt=="boolean"?bt!=="__proto__":bt===null)?Kt[typeof ft=="string"?"string":"hash"]:Kt.map}function pe(ht,ft){var bt=function(Tt,Kt){return Tt==null?void 0:Tt[Kt]}(ht,ft);return Ot(bt)?bt:void 0}ut.prototype.clear=function(){this.__data__=et?et(null):{},this.size=0},ut.prototype.delete=function(ht){var ft=this.has(ht)&&delete this.__data__[ht];return this.size-=ft?1:0,ft},ut.prototype.get=function(ht){var ft=this.__data__;if(et){var bt=ft[ht];return bt==="__lodash_hash_undefined__"?void 0:bt}return w.call(ft,ht)?ft[ht]:void 0},ut.prototype.has=function(ht){var ft=this.__data__;return et?ft[ht]!==void 0:w.call(ft,ht)},ut.prototype.set=function(ht,ft){var bt=this.__data__;return this.size+=this.has(ht)?0:1,bt[ht]=et&&ft===void 0?"__lodash_hash_undefined__":ft,this},dt.prototype.clear=function(){this.__data__=[],this.size=0},dt.prototype.delete=function(ht){var ft=this.__data__,bt=Et(ft,ht);return!(bt<0)&&(bt==ft.length-1?ft.pop():Y.call(ft,bt,1),--this.size,!0)},dt.prototype.get=function(ht){var ft=this.__data__,bt=Et(ft,ht);return bt<0?void 0:ft[bt][1]},dt.prototype.has=function(ht){return Et(this.__data__,ht)>-1},dt.prototype.set=function(ht,ft){var bt=this.__data__,Tt=Et(bt,ht);return Tt<0?(++this.size,bt.push([ht,ft])):bt[Tt][1]=ft,this},mt.prototype.clear=function(){this.size=0,this.__data__={hash:new ut,map:new(Z||dt),string:new ut}},mt.prototype.delete=function(ht){var ft=It(this,ht).delete(ht);return this.size-=ft?1:0,ft},mt.prototype.get=function(ht){return It(this,ht).get(ht)},mt.prototype.has=function(ht){return It(this,ht).has(ht)},mt.prototype.set=function(ht,ft){var bt=It(this,ht),Tt=bt.size;return bt.set(ht,ft),this.size+=bt.size==Tt?0:1,this},yt.prototype.add=yt.prototype.push=function(ht){return this.__data__.set(ht,"__lodash_hash_undefined__"),this},yt.prototype.has=function(ht){return this.__data__.has(ht)},vt.prototype.clear=function(){this.__data__=new dt,this.size=0},vt.prototype.delete=function(ht){var ft=this.__data__,bt=ft.delete(ht);return this.size=ft.size,bt},vt.prototype.get=function(ht){return this.__data__.get(ht)},vt.prototype.has=function(ht){return this.__data__.has(ht)},vt.prototype.set=function(ht,ft){var bt=this.__data__;if(bt instanceof dt){var Tt=bt.__data__;if(!Z||Tt.length<199)return Tt.push([ht,ft]),this.size=++bt.size,this;bt=this.__data__=new mt(Tt)}return bt.set(ht,ft),this.size=bt.size,this};var je=X?function(ht){return ht==null?[]:(ht=Object(ht),function(ft,bt){for(var Tt=-1,Kt=ft==null?0:ft.length,Rt=0,te=[];++Tt<Kt;){var Zt=ft[Tt];bt(Zt,Tt,ft)&&(te[Rt++]=Zt)}return te}(X(ht),function(ft){return q.call(ht,ft)}))}:function(){return[]},Xt=Pt;function Re(ht,ft){return!!(ft=ft??9007199254740991)&&(typeof ht=="number"||f.test(ht))&&ht>-1&&ht%1==0&&ht<ft}function ve(ht){if(ht!=null){try{return v.call(ht)}catch{}try{return ht+""}catch{}}return""}function ne(ht,ft){return ht===ft||ht!=ht&&ft!=ft}(U&&Xt(new U(new ArrayBuffer(1)))!="[object DataView]"||Z&&Xt(new Z)!=o||st&&Xt(st.resolve())!="[object Promise]"||W&&Xt(new W)!=s||G&&Xt(new G)!="[object WeakMap]")&&(Xt=function(ht){var ft=Pt(ht),bt=ft==l?ht.constructor:void 0,Tt=bt?ve(bt):"";if(Tt)switch(Tt){case it:return"[object DataView]";case K:return o;case rt:return"[object Promise]";case nt:return s;case ct:return"[object WeakMap]"}return ft});var Ke=Bt(function(){return arguments}())?Bt:function(ht){return Ne(ht)&&w.call(ht,"callee")&&!q.call(ht,"callee")},Oe=Array.isArray,Jt=P||function(){return!1};function ke(ht){if(!Qt(ht))return!1;var ft=Pt(ht);return ft=="[object Function]"||ft=="[object GeneratorFunction]"||ft=="[object AsyncFunction]"||ft=="[object Proxy]"}function $e(ht){return typeof ht=="number"&&ht>-1&&ht%1==0&&ht<=9007199254740991}function Qt(ht){var ft=typeof ht;return ht!=null&&(ft=="object"||ft=="function")}function Ne(ht){return ht!=null&&typeof ht=="object"}var Ve=M?function(ht){return function(ft){return ht(ft)}}(M):function(ht){return Ne(ht)&&$e(ht.length)&&!!h[Pt(ht)]};function ae(ht){return(ft=ht)!=null&&$e(ft.length)&&!ke(ft)?_t(ht):St(ht);var ft}r.exports=function(ht,ft){return Ht(ht,ft)}}).call(this)}).call(this,typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,r,a){(function(n){(function(){var i=typeof n=="object"&&n&&n.Object===Object&&n,o=typeof self=="object"&&self&&self.Object===Object&&self,l=i||o||Function("return this")(),s=Object.prototype,c=s.hasOwnProperty,f=s.toString,h=l.Symbol,d=h?h.toStringTag:void 0;function p(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":d&&d in Object(g)?function(m){var b=c.call(m,d),y=m[d];try{m[d]=void 0;var x=!0}catch{}var k=f.call(m);return x&&(b?m[d]=y:delete m[d]),k}(g):function(m){return f.call(m)}(g)}r.exports=function(g){if(!function(b){var y=typeof b;return b!=null&&(y=="object"||y=="function")}(g))return!1;var m=p(g);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,r,a){r.exports=function(n){return n==null}},{}],448:[function(t,r,a){r.exports=function(n){return n===void 0}},{}],449:[function(t,r,a){(function(n){(function(){var i=/^\[object .+?Constructor\]$/,o=typeof n=="object"&&n&&n.Object===Object&&n,l=typeof self=="object"&&self&&self.Object===Object&&self,s=o||l||Function("return this")();function c(L,V){return!!(L&&L.length)&&function(q,Y,D){if(Y!=Y)return function(R,U,Z,st){for(var W=R.length,G=Z+-1;++G<W;)if(U(R[G],G,R))return G;return-1}(q,f,D);for(var X=D-1,P=q.length;++X<P;)if(q[X]===Y)return X;return-1}(L,V,0)>-1}function f(L){return L!=L}function h(L,V){return L.has(V)}function d(L){var V=-1,q=Array(L.size);return L.forEach(function(Y){q[++V]=Y}),q}var p,g=Array.prototype,m=Function.prototype,b=Object.prototype,y=s["__core-js_shared__"],x=(p=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",k=m.toString,M=b.hasOwnProperty,I=b.toString,B=RegExp("^"+k.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=g.splice,F=T(s,"Map"),z=T(s,"Set"),$=T(Object,"create");function H(L){var V=-1,q=L?L.length:0;for(this.clear();++V<q;){var Y=L[V];this.set(Y[0],Y[1])}}function C(L){var V=-1,q=L?L.length:0;for(this.clear();++V<q;){var Y=L[V];this.set(Y[0],Y[1])}}function O(L){var V=-1,q=L?L.length:0;for(this.clear();++V<q;){var Y=L[V];this.set(Y[0],Y[1])}}function A(L){var V=-1,q=L?L.length:0;for(this.__data__=new O;++V<q;)this.add(L[V])}function v(L,V){for(var q,Y,D=L.length;D--;)if((q=L[D][0])===(Y=V)||q!=q&&Y!=Y)return D;return-1}function w(L){return!(!N(L)||(V=L,x&&x in V))&&(function(q){var Y=N(q)?I.call(q):"";return Y=="[object Function]"||Y=="[object GeneratorFunction]"}(L)||function(q){var Y=!1;if(q!=null&&typeof q.toString!="function")try{Y=!!(q+"")}catch{}return Y}(L)?B:i).test(function(q){if(q!=null){try{return k.call(q)}catch{}try{return q+""}catch{}}return""}(L));var V}H.prototype.clear=function(){this.__data__=$?$(null):{}},H.prototype.delete=function(L){return this.has(L)&&delete this.__data__[L]},H.prototype.get=function(L){var V=this.__data__;if($){var q=V[L];return q==="__lodash_hash_undefined__"?void 0:q}return M.call(V,L)?V[L]:void 0},H.prototype.has=function(L){var V=this.__data__;return $?V[L]!==void 0:M.call(V,L)},H.prototype.set=function(L,V){return this.__data__[L]=$&&V===void 0?"__lodash_hash_undefined__":V,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function(L){var V=this.__data__,q=v(V,L);return!(q<0)&&(q==V.length-1?V.pop():j.call(V,q,1),!0)},C.prototype.get=function(L){var V=this.__data__,q=v(V,L);return q<0?void 0:V[q][1]},C.prototype.has=function(L){return v(this.__data__,L)>-1},C.prototype.set=function(L,V){var q=this.__data__,Y=v(q,L);return Y<0?q.push([L,V]):q[Y][1]=V,this},O.prototype.clear=function(){this.__data__={hash:new H,map:new(F||C),string:new H}},O.prototype.delete=function(L){return S(this,L).delete(L)},O.prototype.get=function(L){return S(this,L).get(L)},O.prototype.has=function(L){return S(this,L).has(L)},O.prototype.set=function(L,V){return S(this,L).set(L,V),this},A.prototype.add=A.prototype.push=function(L){return this.__data__.set(L,"__lodash_hash_undefined__"),this},A.prototype.has=function(L){return this.__data__.has(L)};var _=z&&1/d(new z([,-0]))[1]==1/0?function(L){return new z(L)}:function(){};function S(L,V){var q,Y,D=L.__data__;return((Y=typeof(q=V))=="string"||Y=="number"||Y=="symbol"||Y=="boolean"?q!=="__proto__":q===null)?D[typeof V=="string"?"string":"hash"]:D.map}function T(L,V){var q=function(Y,D){return Y==null?void 0:Y[D]}(L,V);return w(q)?q:void 0}function N(L){var V=typeof L;return!!L&&(V=="object"||V=="function")}r.exports=function(L){return L&&L.length?function(V,q,Y){var D=-1,X=c,P=V.length,R=!0,U=[],Z=U;if(P>=200){var st=_(V);if(st)return d(st);R=!1,X=h,Z=new A}else Z=U;t:for(;++D<P;){var W=V[D],G=W;if(W=W!==0?W:0,R&&G==G){for(var et=Z.length;et--;)if(Z[et]===G)continue t;U.push(W)}else X(Z,G,Y)||(Z!==U&&Z.push(G),U.push(W))}return U}(L):[]}}).call(this)}).call(this,typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,r,a){var n=t("inherits"),i=t("hash-base"),o=t("safe-buffer").Buffer,l=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(g,m){return g<<m|g>>>32-m}function f(g,m,b,y,x,k,M){return c(g+(m&b|~m&y)+x+k|0,M)+m|0}function h(g,m,b,y,x,k,M){return c(g+(m&y|b&~y)+x+k|0,M)+m|0}function d(g,m,b,y,x,k,M){return c(g+(m^b^y)+x+k|0,M)+m|0}function p(g,m,b,y,x,k,M){return c(g+(b^(m|~y))+x+k|0,M)+m|0}n(s,i),s.prototype._update=function(){for(var g=l,m=0;m<16;++m)g[m]=this._block.readInt32LE(4*m);var b=this._a,y=this._b,x=this._c,k=this._d;b=f(b,y,x,k,g[0],3614090360,7),k=f(k,b,y,x,g[1],3905402710,12),x=f(x,k,b,y,g[2],606105819,17),y=f(y,x,k,b,g[3],3250441966,22),b=f(b,y,x,k,g[4],4118548399,7),k=f(k,b,y,x,g[5],1200080426,12),x=f(x,k,b,y,g[6],2821735955,17),y=f(y,x,k,b,g[7],4249261313,22),b=f(b,y,x,k,g[8],1770035416,7),k=f(k,b,y,x,g[9],2336552879,12),x=f(x,k,b,y,g[10],4294925233,17),y=f(y,x,k,b,g[11],2304563134,22),b=f(b,y,x,k,g[12],1804603682,7),k=f(k,b,y,x,g[13],4254626195,12),x=f(x,k,b,y,g[14],2792965006,17),b=h(b,y=f(y,x,k,b,g[15],1236535329,22),x,k,g[1],4129170786,5),k=h(k,b,y,x,g[6],3225465664,9),x=h(x,k,b,y,g[11],643717713,14),y=h(y,x,k,b,g[0],3921069994,20),b=h(b,y,x,k,g[5],3593408605,5),k=h(k,b,y,x,g[10],38016083,9),x=h(x,k,b,y,g[15],3634488961,14),y=h(y,x,k,b,g[4],3889429448,20),b=h(b,y,x,k,g[9],568446438,5),k=h(k,b,y,x,g[14],3275163606,9),x=h(x,k,b,y,g[3],4107603335,14),y=h(y,x,k,b,g[8],1163531501,20),b=h(b,y,x,k,g[13],2850285829,5),k=h(k,b,y,x,g[2],4243563512,9),x=h(x,k,b,y,g[7],1735328473,14),b=d(b,y=h(y,x,k,b,g[12],2368359562,20),x,k,g[5],4294588738,4),k=d(k,b,y,x,g[8],2272392833,11),x=d(x,k,b,y,g[11],1839030562,16),y=d(y,x,k,b,g[14],4259657740,23),b=d(b,y,x,k,g[1],2763975236,4),k=d(k,b,y,x,g[4],1272893353,11),x=d(x,k,b,y,g[7],4139469664,16),y=d(y,x,k,b,g[10],3200236656,23),b=d(b,y,x,k,g[13],681279174,4),k=d(k,b,y,x,g[0],3936430074,11),x=d(x,k,b,y,g[3],3572445317,16),y=d(y,x,k,b,g[6],76029189,23),b=d(b,y,x,k,g[9],3654602809,4),k=d(k,b,y,x,g[12],3873151461,11),x=d(x,k,b,y,g[15],530742520,16),b=p(b,y=d(y,x,k,b,g[2],3299628645,23),x,k,g[0],4096336452,6),k=p(k,b,y,x,g[7],1126891415,10),x=p(x,k,b,y,g[14],2878612391,15),y=p(y,x,k,b,g[5],4237533241,21),b=p(b,y,x,k,g[12],1700485571,6),k=p(k,b,y,x,g[3],2399980690,10),x=p(x,k,b,y,g[10],4293915773,15),y=p(y,x,k,b,g[1],2240044497,21),b=p(b,y,x,k,g[8],1873313359,6),k=p(k,b,y,x,g[15],4264355552,10),x=p(x,k,b,y,g[6],2734768916,15),y=p(y,x,k,b,g[13],1309151649,21),b=p(b,y,x,k,g[4],4149444226,6),k=p(k,b,y,x,g[11],3174756917,10),x=p(x,k,b,y,g[2],718787259,15),y=p(y,x,k,b,g[9],3951481745,21),this._a=this._a+b|0,this._b=this._b+y|0,this._c=this._c+x|0,this._d=this._d+k|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=o.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g},r.exports=s},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,r,a){var n=t("bn.js"),i=t("brorand");function o(l){this.rand=l||new i.Rand}r.exports=o,o.create=function(l){return new o(l)},o.prototype._randbelow=function(l){var s=l.bitLength(),c=Math.ceil(s/8);do var f=new n(this.rand.generate(c));while(f.cmp(l)>=0);return f},o.prototype._randrange=function(l,s){var c=s.sub(l);return l.add(this._randbelow(c))},o.prototype.test=function(l,s,c){var f=l.bitLength(),h=n.mont(l),d=new n(1).toRed(h);s||(s=Math.max(1,f/48|0));for(var p=l.subn(1),g=0;!p.testn(g);g++);for(var m=l.shrn(g),b=p.toRed(h);s>0;s--){var y=this._randrange(new n(2),p);c&&c(y);var x=y.toRed(h).redPow(m);if(x.cmp(d)!==0&&x.cmp(b)!==0){for(var k=1;k<g;k++){if((x=x.redSqr()).cmp(d)===0)return!1;if(x.cmp(b)===0)break}if(k===g)return!1}}return!0},o.prototype.getDivisor=function(l,s){var c=l.bitLength(),f=n.mont(l),h=new n(1).toRed(f);s||(s=Math.max(1,c/48|0));for(var d=l.subn(1),p=0;!d.testn(p);p++);for(var g=l.shrn(p),m=d.toRed(f);s>0;s--){var b=this._randrange(new n(2),d),y=l.gcd(b);if(y.cmpn(1)!==0)return y;var x=b.toRed(f).redPow(g);if(x.cmp(h)!==0&&x.cmp(m)!==0){for(var k=1;k<p;k++){if((x=x.redSqr()).cmp(h)===0)return x.fromRed().subn(1).gcd(l);if(x.cmp(m)===0)break}if(k===p)return(x=x.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,r,a){arguments[4][184][0].apply(a,arguments)},{buffer:188,dup:184}],453:[function(t,r,a){function n(i,o){if(!i)throw new Error(o||"Assertion failed")}r.exports=n,n.equal=function(i,o,l){if(i!=o)throw new Error(l||"Assertion failed: "+i+" != "+o)}},{}],454:[function(t,r,a){var n=a;function i(l){return l.length===1?"0"+l:l}function o(l){for(var s="",c=0;c<l.length;c++)s+=i(l[c].toString(16));return s}n.toArray=function(l,s){if(Array.isArray(l))return l.slice();if(!l)return[];var c=[];if(typeof l!="string"){for(var f=0;f<l.length;f++)c[f]=0|l[f];return c}if(s==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),f=0;f<l.length;f+=2)c.push(parseInt(l[f]+l[f+1],16));else for(f=0;f<l.length;f++){var h=l.charCodeAt(f),d=h>>8,p=255&h;d?c.push(d,p):c.push(p)}return c},n.zero2=i,n.toHex=o,n.encode=function(l,s){return s==="hex"?o(l):l}},{}],455:[function(t,r,a){r.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,r,a){var n=t("asn1.js");a.certificate=t("./certificate");var i=n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});a.RSAPrivateKey=i;var o=n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});a.RSAPublicKey=o;var l=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});a.PublicKey=l;var s=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=n.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});a.PrivateKey=c;var f=n.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});a.EncryptedPrivateKey=f;var h=n.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});a.DSAPrivateKey=h,a.DSAparam=n.define("DSAparam",function(){this.int()});var d=n.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(p),this.key("publicKey").optional().explicit(1).bitstr())});a.ECPrivateKey=d;var p=n.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});a.signature=n.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(t,r,a){var n=t("asn1.js"),i=n.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=n.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),s=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),c=n.define("RelativeDistinguishedName",function(){this.setof(o)}),f=n.define("RDNSequence",function(){this.seqof(c)}),h=n.define("Name",function(){this.choice({rdnSequence:this.use(f)})}),d=n.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),p=n.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),g=n.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(h),this.key("validity").use(d),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(p).optional())}),m=n.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});r.exports=m},{"asn1.js":170}],458:[function(t,r,a){var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=t("evp_bytestokey"),s=t("browserify-aes"),c=t("safe-buffer").Buffer;r.exports=function(f,h){var d,p=f.toString(),g=p.match(n);if(g){var m="aes"+g[1],b=c.from(g[2],"hex"),y=c.from(g[3].replace(/[\r\n]/g,""),"base64"),x=l(h,b.slice(0,8),parseInt(g[1],10)).key,k=[],M=s.createDecipheriv(m,x,b);k.push(M.update(y)),k.push(M.final()),d=c.concat(k)}else{var I=p.match(o);d=c.from(I[2].replace(/[\r\n]/g,""),"base64")}return{tag:p.match(i)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,r,a){var n=t("./asn1"),i=t("./aesid.json"),o=t("./fixProc"),l=t("browserify-aes"),s=t("pbkdf2"),c=t("safe-buffer").Buffer;function f(h){var d;typeof h!="object"||c.isBuffer(h)||(d=h.passphrase,h=h.key),typeof h=="string"&&(h=c.from(h));var p,g,m=o(h,d),b=m.tag,y=m.data;switch(b){case"CERTIFICATE":g=n.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=n.PublicKey.decode(y,"der")),p=g.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=n.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"ENCRYPTED PRIVATE KEY":y=function(x,k){var M=x.algorithm.decrypt.kde.kdeparams.salt,I=parseInt(x.algorithm.decrypt.kde.kdeparams.iters.toString(),10),B=i[x.algorithm.decrypt.cipher.algo.join(".")],j=x.algorithm.decrypt.cipher.iv,F=x.subjectPrivateKey,z=parseInt(B.split("-")[1],10)/8,$=s.pbkdf2Sync(k,M,I,z,"sha1"),H=l.createDecipheriv(B,$,j),C=[];return C.push(H.update(F)),C.push(H.final()),c.concat(C)}(y=n.EncryptedPrivateKey.decode(y,"der"),d);case"PRIVATE KEY":switch(p=(g=n.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:n.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=n.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=n.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+b)}}r.exports=f,f.signature=n.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,r,a){a.pbkdf2=t("./lib/async"),a.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,r,a){(function(n){(function(){var i,o,l=t("safe-buffer").Buffer,s=t("./precondition"),c=t("./default-encoding"),f=t("./sync"),h=t("./to-buffer"),d=n.crypto&&n.crypto.subtle,p={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[];function m(){return o||(o=n.process&&n.process.nextTick?n.process.nextTick:n.queueMicrotask?n.queueMicrotask:n.setImmediate?n.setImmediate:n.setTimeout)}function b(y,x,k,M,I){return d.importKey("raw",y,{name:"PBKDF2"},!1,["deriveBits"]).then(function(B){return d.deriveBits({name:"PBKDF2",salt:x,iterations:k,hash:{name:I}},B,M<<3)}).then(function(B){return l.from(B)})}r.exports=function(y,x,k,M,I,B){typeof I=="function"&&(B=I,I=void 0);var j=p[(I=I||"sha1").toLowerCase()];if(j&&typeof n.Promise=="function"){if(s(k,M),y=h(y,c,"Password"),x=h(x,c,"Salt"),typeof B!="function")throw new Error("No callback provided to pbkdf2");(function(F,z){F.then(function($){m()(function(){z(null,$)})},function($){m()(function(){z($)})})})(function(F){if(n.process&&!n.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(g[F]!==void 0)return g[F];var z=b(i=i||l.alloc(8),i,10,128,F).then(function(){return!0}).catch(function(){return!1});return g[F]=z,z}(j).then(function(F){return F?b(y,x,k,M,j):f(y,x,k,M,I)}),B)}else m()(function(){var F;try{F=f(y,x,k,M,I)}catch(z){return B(z)}B(null,F)})}}).call(this)}).call(this,typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,r,a){(function(n,i){(function(){var o;i.process&&i.process.browser?o="utf-8":i.process&&i.process.version?o=parseInt(n.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",r.exports=o}).call(this)}).call(this,t("_process"),typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,r,a){var n=Math.pow(2,30)-1;r.exports=function(i,o){if(typeof i!="number")throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>n||o!=o)throw new TypeError("Bad key length")}},{}],464:[function(t,r,a){var n=t("create-hash/md5"),i=t("ripemd160"),o=t("sha.js"),l=t("safe-buffer").Buffer,s=t("./precondition"),c=t("./default-encoding"),f=t("./to-buffer"),h=l.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function p(g,m,b){var y=function(j){function F(z){return o(j).update(z).digest()}return j==="rmd160"||j==="ripemd160"?function(z){return new i().update(z).digest()}:j==="md5"?n:F}(g),x=g==="sha512"||g==="sha384"?128:64;m.length>x?m=y(m):m.length<x&&(m=l.concat([m,h],x));for(var k=l.allocUnsafe(x+d[g]),M=l.allocUnsafe(x+d[g]),I=0;I<x;I++)k[I]=54^m[I],M[I]=92^m[I];var B=l.allocUnsafe(x+b+4);k.copy(B,0,0,x),this.ipad1=B,this.ipad2=k,this.opad=M,this.alg=g,this.blocksize=x,this.hash=y,this.size=d[g]}p.prototype.run=function(g,m){return g.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},r.exports=function(g,m,b,y,x){s(b,y);var k=new p(x=x||"sha1",g=f(g,c,"Password"),(m=f(m,c,"Salt")).length),M=l.allocUnsafe(y),I=l.allocUnsafe(m.length+4);m.copy(I,0,0,m.length);for(var B=0,j=d[x],F=Math.ceil(y/j),z=1;z<=F;z++){I.writeUInt32BE(z,m.length);for(var $=k.run(I,k.ipad1),H=$,C=1;C<b;C++){H=k.run(H,k.ipad2);for(var O=0;O<j;O++)$[O]^=H[O]}$.copy(M,B),B+=j}return M}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,r,a){var n=t("safe-buffer").Buffer;r.exports=function(i,o,l){if(n.isBuffer(i))return i;if(typeof i=="string")return n.from(i,o);if(ArrayBuffer.isView(i))return n.from(i.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,r,a){(function(n){(function(){n===void 0||!n.version||n.version.indexOf("v0.")===0||n.version.indexOf("v1.")===0&&n.version.indexOf("v1.8.")!==0?r.exports={nextTick:function(i,o,l,s){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var c,f,h=arguments.length;switch(h){case 0:case 1:return n.nextTick(i);case 2:return n.nextTick(function(){i.call(null,o)});case 3:return n.nextTick(function(){i.call(null,o,l)});case 4:return n.nextTick(function(){i.call(null,o,l,s)});default:for(c=new Array(h-1),f=0;f<c.length;)c[f++]=arguments[f];return n.nextTick(function(){i.apply(null,c)})}}}:r.exports=n}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,r,a){var n,i,o=r.exports={};function l(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(x){if(n===setTimeout)return setTimeout(x,0);if((n===l||!n)&&setTimeout)return n=setTimeout,setTimeout(x,0);try{return n(x,0)}catch{try{return n.call(null,x,0)}catch{return n.call(this,x,0)}}}(function(){try{n=typeof setTimeout=="function"?setTimeout:l}catch{n=l}try{i=typeof clearTimeout=="function"?clearTimeout:s}catch{i=s}})();var f,h=[],d=!1,p=-1;function g(){d&&f&&(d=!1,f.length?h=f.concat(h):p=-1,h.length&&m())}function m(){if(!d){var x=c(g);d=!0;for(var k=h.length;k;){for(f=h,h=[];++p<k;)f&&f[p].run();p=-1,k=h.length}f=null,d=!1,function(M){if(i===clearTimeout)return clearTimeout(M);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(M);try{i(M)}catch{try{return i.call(null,M)}catch{return i.call(this,M)}}}(x)}}function b(x,k){this.fun=x,this.array=k}function y(){}o.nextTick=function(x){var k=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)k[M-1]=arguments[M];h.push(new b(x,k)),h.length!==1||d||c(m)},b.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(x){return[]},o.binding=function(x){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(x){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(t,r,a){a.publicEncrypt=t("./publicEncrypt"),a.privateDecrypt=t("./privateDecrypt"),a.privateEncrypt=function(n,i){return a.publicEncrypt(n,i,!0)},a.publicDecrypt=function(n,i){return a.privateDecrypt(n,i,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,r,a){var n=t("create-hash"),i=t("safe-buffer").Buffer;function o(l){var s=i.allocUnsafe(4);return s.writeUInt32BE(l,0),s}r.exports=function(l,s){for(var c,f=i.alloc(0),h=0;f.length<s;)c=o(h++),f=i.concat([f,n("sha1").update(l).update(c).digest()]);return f.slice(0,s)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,r,a){arguments[4][184][0].apply(a,arguments)},{buffer:188,dup:184}],471:[function(t,r,a){var n=t("parse-asn1"),i=t("./mgf"),o=t("./xor"),l=t("bn.js"),s=t("browserify-rsa"),c=t("create-hash"),f=t("./withPublic"),h=t("safe-buffer").Buffer;r.exports=function(d,p,g){var m;m=d.padding?d.padding:g?1:4;var b,y=n(d),x=y.modulus.byteLength();if(p.length>x||new l(p).cmp(y.modulus)>=0)throw new Error("decryption error");b=g?f(new l(p),y):s(p,y);var k=h.alloc(x-b.length);if(b=h.concat([k,b],x),m===4)return function(M,I){var B=M.modulus.byteLength(),j=c("sha1").update(h.alloc(0)).digest(),F=j.length;if(I[0]!==0)throw new Error("decryption error");var z=I.slice(1,F+1),$=I.slice(F+1),H=o(z,i($,F)),C=o($,i(H,B-F-1));if(function(A,v){A=h.from(A),v=h.from(v);var w=0,_=A.length;A.length!==v.length&&(w++,_=Math.min(A.length,v.length));for(var S=-1;++S<_;)w+=A[S]^v[S];return w}(j,C.slice(0,F)))throw new Error("decryption error");for(var O=F;C[O]===0;)O++;if(C[O++]!==1)throw new Error("decryption error");return C.slice(O)}(y,b);if(m===1)return function(M,I,B){for(var j=I.slice(0,2),F=2,z=0;I[F++]!==0;)if(F>=I.length){z++;break}var $=I.slice(2,F-1);if((j.toString("hex")!=="0002"&&!B||j.toString("hex")!=="0001"&&B)&&z++,$.length<8&&z++,z)throw new Error("decryption error");return I.slice(F)}(0,b,g);if(m===3)return b;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,r,a){var n=t("parse-asn1"),i=t("randombytes"),o=t("create-hash"),l=t("./mgf"),s=t("./xor"),c=t("bn.js"),f=t("./withPublic"),h=t("browserify-rsa"),d=t("safe-buffer").Buffer;r.exports=function(p,g,m){var b;b=p.padding?p.padding:m?1:4;var y,x=n(p);if(b===4)y=function(k,M){var I=k.modulus.byteLength(),B=M.length,j=o("sha1").update(d.alloc(0)).digest(),F=j.length,z=2*F;if(B>I-z-2)throw new Error("message too long");var $=d.alloc(I-B-z-2),H=I-F-1,C=i(F),O=s(d.concat([j,$,d.alloc(1,1),M],H),l(C,H)),A=s(C,l(O,F));return new c(d.concat([d.alloc(1),A,O],I))}(x,g);else if(b===1)y=function(k,M,I){var B,j=M.length,F=k.modulus.byteLength();if(j>F-11)throw new Error("message too long");return B=I?d.alloc(F-j-3,255):function(z){for(var $,H=d.allocUnsafe(z),C=0,O=i(2*z),A=0;C<z;)A===O.length&&(O=i(2*z),A=0),($=O[A++])&&(H[C++]=$);return H}(F-j-3),new c(d.concat([d.from([0,I?1:2]),B,d.alloc(1),M],F))}(x,g,m);else{if(b!==3)throw new Error("unknown padding");if((y=new c(g)).cmp(x.modulus)>=0)throw new Error("data too long for modulus")}return m?h(y,x):f(y,x)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,r,a){var n=t("bn.js"),i=t("safe-buffer").Buffer;r.exports=function(o,l){return i.from(o.toRed(n.mont(l.modulus)).redPow(new n(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,r,a){r.exports=function(n,i){for(var o=n.length,l=-1;++l<o;)n[l]^=i[l];return n}},{}],475:[function(t,r,a){(function(n,i){(function(){var o=t("safe-buffer").Buffer,l=i.crypto||i.msCrypto;l&&l.getRandomValues?r.exports=function(s,c){if(s>4294967295)throw new RangeError("requested too many random bytes");var f=o.allocUnsafe(s);if(s>0)if(s>65536)for(var h=0;h<s;h+=65536)l.getRandomValues(f.slice(h,h+65536));else l.getRandomValues(f);return typeof c=="function"?n.nextTick(function(){c(null,f)}):f}:r.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,r,a){(function(n,i){(function(){function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=t("safe-buffer"),s=t("randombytes"),c=l.Buffer,f=l.kMaxLength,h=i.crypto||i.msCrypto,d=Math.pow(2,32)-1;function p(b,y){if(typeof b!="number"||b!=b)throw new TypeError("offset must be a number");if(b>d||b<0)throw new TypeError("offset must be a uint32");if(b>f||b>y)throw new RangeError("offset out of range")}function g(b,y,x){if(typeof b!="number"||b!=b)throw new TypeError("size must be a number");if(b>d||b<0)throw new TypeError("size must be a uint32");if(b+y>x||b>f)throw new RangeError("buffer too small")}function m(b,y,x,k){if(n.browser){var M=b.buffer,I=new Uint8Array(M,y,x);return h.getRandomValues(I),k?void n.nextTick(function(){k(null,b)}):b}if(!k)return s(x).copy(b,y),b;s(x,function(B,j){if(B)return k(B);j.copy(b,y),k(null,b)})}h&&h.getRandomValues||!n.browser?(a.randomFill=function(b,y,x,k){if(!(c.isBuffer(b)||b instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")k=y,y=0,x=b.length;else if(typeof x=="function")k=x,x=b.length-y;else if(typeof k!="function")throw new TypeError('"cb" argument must be a function');return p(y,b.length),g(x,y,b.length),m(b,y,x,k)},a.randomFillSync=function(b,y,x){if(y===void 0&&(y=0),!(c.isBuffer(b)||b instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return p(y,b.length),x===void 0&&(x=b.length-y),g(x,y,b.length),m(b,y,x)}):(a.randomFill=o,a.randomFillSync=o)}).call(this)}).call(this,t("_process"),typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,r,a){var n={};function i(l,s,c){c||(c=Error);var f=function(h){var d,p;function g(m,b,y){return h.call(this,function(x,k,M){return typeof s=="string"?s:s(x,k,M)}(m,b,y))||this}return p=h,(d=g).prototype=Object.create(p.prototype),d.prototype.constructor=d,d.__proto__=p,g}(c);f.prototype.name=c.name,f.prototype.code=l,n[l]=f}function o(l,s){if(Array.isArray(l)){var c=l.length;return l=l.map(function(f){return String(f)}),c>2?"one of ".concat(s," ").concat(l.slice(0,c-1).join(", "),", or ")+l[c-1]:c===2?"one of ".concat(s," ").concat(l[0]," or ").concat(l[1]):"of ".concat(s," ").concat(l[0])}return"of ".concat(s," ").concat(String(l))}i("ERR_INVALID_OPT_VALUE",function(l,s){return'The value "'+s+'" is invalid for option "'+l+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(l,s,c){var f,h,d;if(typeof s=="string"&&(h="not ",s.substr(0,h.length)===h)?(f="must not be",s=s.replace(/^not /,"")):f="must be",function(g,m,b){return(b===void 0||b>g.length)&&(b=g.length),g.substring(b-m.length,b)===m}(l," argument"))d="The ".concat(l," ").concat(f," ").concat(o(s,"type"));else{var p=function(g,m,b){return typeof b!="number"&&(b=0),!(b+m.length>g.length)&&g.indexOf(m,b)!==-1}(l,".")?"property":"argument";d='The "'.concat(l,'" ').concat(p," ").concat(f," ").concat(o(s,"type"))}return d+=". Received type ".concat(typeof c)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),r.exports.codes=n},{}],478:[function(t,r,a){(function(n){(function(){var i=Object.keys||function(g){var m=[];for(var b in g)m.push(b);return m};r.exports=h;var o=t("./_stream_readable"),l=t("./_stream_writable");t("inherits")(h,o);for(var s=i(l.prototype),c=0;c<s.length;c++){var f=s[c];h.prototype[f]||(h.prototype[f]=l.prototype[f])}function h(g){if(!(this instanceof h))return new h(g);o.call(this,g),l.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||n.nextTick(p,this)}function p(g){g.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,r,a){r.exports=i;var n=t("./_stream_transform");function i(o){if(!(this instanceof i))return new i(o);n.call(this,o)}t("inherits")(i,n),i.prototype._transform=function(o,l,s){s(null,o)}},{"./_stream_transform":481,inherits:440}],480:[function(t,r,a){(function(n,i){(function(){var o;r.exports=H,H.ReadableState=$,t("events").EventEmitter;var l=function(P,R){return P.listeners(R).length},s=t("./internal/streams/stream"),c=t("buffer").Buffer,f=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,d=t("util");h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g,m,b=t("./internal/streams/buffer_list"),y=t("./internal/streams/destroy"),x=t("./internal/streams/state").getHighWaterMark,k=t("../errors").codes,M=k.ERR_INVALID_ARG_TYPE,I=k.ERR_STREAM_PUSH_AFTER_EOF,B=k.ERR_METHOD_NOT_IMPLEMENTED,j=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(H,s);var F=y.errorOrDestroy,z=["error","close","destroy","pause","resume"];function $(P,R,U){o=o||t("./_stream_duplex"),P=P||{},typeof U!="boolean"&&(U=R instanceof o),this.objectMode=!!P.objectMode,U&&(this.objectMode=this.objectMode||!!P.readableObjectMode),this.highWaterMark=x(this,P,"readableHighWaterMark",U),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(p||(p=t("string_decoder/").StringDecoder),this.decoder=new p(P.encoding),this.encoding=P.encoding)}function H(P){if(o=o||t("./_stream_duplex"),!(this instanceof H))return new H(P);var R=this instanceof o;this._readableState=new $(P,this,R),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),s.call(this)}function C(P,R,U,Z,st){h("readableAddChunk",R);var W,G=P._readableState;if(R===null)G.reading=!1,function(et,it){if(h("onEofChunk"),!it.ended){if(it.decoder){var K=it.decoder.end();K&&K.length&&(it.buffer.push(K),it.length+=it.objectMode?1:K.length)}it.ended=!0,it.sync?v(et):(it.needReadable=!1,it.emittedReadable||(it.emittedReadable=!0,w(et)))}}(P,G);else if(st||(W=function(et,it){var K;rt=it,c.isBuffer(rt)||rt instanceof f||typeof it=="string"||it===void 0||et.objectMode||(K=new M("chunk",["string","Buffer","Uint8Array"],it));var rt;return K}(G,R)),W)F(P,W);else if(G.objectMode||R&&R.length>0)if(typeof R=="string"||G.objectMode||Object.getPrototypeOf(R)===c.prototype||(R=function(et){return c.from(et)}(R)),Z)G.endEmitted?F(P,new j):O(P,G,R,!0);else if(G.ended)F(P,new I);else{if(G.destroyed)return!1;G.reading=!1,G.decoder&&!U?(R=G.decoder.write(R),G.objectMode||R.length!==0?O(P,G,R,!1):_(P,G)):O(P,G,R,!1)}else Z||(G.reading=!1,_(P,G));return!G.ended&&(G.length<G.highWaterMark||G.length===0)}function O(P,R,U,Z){R.flowing&&R.length===0&&!R.sync?(R.awaitDrain=0,P.emit("data",U)):(R.length+=R.objectMode?1:U.length,Z?R.buffer.unshift(U):R.buffer.push(U),R.needReadable&&v(P)),_(P,R)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(P){this._readableState&&(this._readableState.destroyed=P)}}),H.prototype.destroy=y.destroy,H.prototype._undestroy=y.undestroy,H.prototype._destroy=function(P,R){R(P)},H.prototype.push=function(P,R){var U,Z=this._readableState;return Z.objectMode?U=!0:typeof P=="string"&&((R=R||Z.defaultEncoding)!==Z.encoding&&(P=c.from(P,R),R=""),U=!0),C(this,P,R,!1,U)},H.prototype.unshift=function(P){return C(this,P,null,!0,!1)},H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(P){p||(p=t("string_decoder/").StringDecoder);var R=new p(P);this._readableState.decoder=R,this._readableState.encoding=this._readableState.decoder.encoding;for(var U=this._readableState.buffer.head,Z="";U!==null;)Z+=R.write(U.data),U=U.next;return this._readableState.buffer.clear(),Z!==""&&this._readableState.buffer.push(Z),this._readableState.length=Z.length,this};function A(P,R){return P<=0||R.length===0&&R.ended?0:R.objectMode?1:P!=P?R.flowing&&R.length?R.buffer.head.data.length:R.length:(P>R.highWaterMark&&(R.highWaterMark=function(U){return U>=1073741824?U=1073741824:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}(P)),P<=R.length?P:R.ended?R.length:(R.needReadable=!0,0))}function v(P){var R=P._readableState;h("emitReadable",R.needReadable,R.emittedReadable),R.needReadable=!1,R.emittedReadable||(h("emitReadable",R.flowing),R.emittedReadable=!0,n.nextTick(w,P))}function w(P){var R=P._readableState;h("emitReadable_",R.destroyed,R.length,R.ended),R.destroyed||!R.length&&!R.ended||(P.emit("readable"),R.emittedReadable=!1),R.needReadable=!R.flowing&&!R.ended&&R.length<=R.highWaterMark,V(P)}function _(P,R){R.readingMore||(R.readingMore=!0,n.nextTick(S,P,R))}function S(P,R){for(;!R.reading&&!R.ended&&(R.length<R.highWaterMark||R.flowing&&R.length===0);){var U=R.length;if(h("maybeReadMore read 0"),P.read(0),U===R.length)break}R.readingMore=!1}function T(P){var R=P._readableState;R.readableListening=P.listenerCount("readable")>0,R.resumeScheduled&&!R.paused?R.flowing=!0:P.listenerCount("data")>0&&P.resume()}function N(P){h("readable nexttick read 0"),P.read(0)}function L(P,R){h("resume",R.reading),R.reading||P.read(0),R.resumeScheduled=!1,P.emit("resume"),V(P),R.flowing&&!R.reading&&P.read(0)}function V(P){var R=P._readableState;for(h("flow",R.flowing);R.flowing&&P.read()!==null;);}function q(P,R){return R.length===0?null:(R.objectMode?U=R.buffer.shift():!P||P>=R.length?(U=R.decoder?R.buffer.join(""):R.buffer.length===1?R.buffer.first():R.buffer.concat(R.length),R.buffer.clear()):U=R.buffer.consume(P,R.decoder),U);var U}function Y(P){var R=P._readableState;h("endReadable",R.endEmitted),R.endEmitted||(R.ended=!0,n.nextTick(D,R,P))}function D(P,R){if(h("endReadableNT",P.endEmitted,P.length),!P.endEmitted&&P.length===0&&(P.endEmitted=!0,R.readable=!1,R.emit("end"),P.autoDestroy)){var U=R._writableState;(!U||U.autoDestroy&&U.finished)&&R.destroy()}}function X(P,R){for(var U=0,Z=P.length;U<Z;U++)if(P[U]===R)return U;return-1}H.prototype.read=function(P){h("read",P),P=parseInt(P,10);var R=this._readableState,U=P;if(P!==0&&(R.emittedReadable=!1),P===0&&R.needReadable&&((R.highWaterMark!==0?R.length>=R.highWaterMark:R.length>0)||R.ended))return h("read: emitReadable",R.length,R.ended),R.length===0&&R.ended?Y(this):v(this),null;if((P=A(P,R))===0&&R.ended)return R.length===0&&Y(this),null;var Z,st=R.needReadable;return h("need readable",st),(R.length===0||R.length-P<R.highWaterMark)&&h("length less than watermark",st=!0),R.ended||R.reading?h("reading or ended",st=!1):st&&(h("do read"),R.reading=!0,R.sync=!0,R.length===0&&(R.needReadable=!0),this._read(R.highWaterMark),R.sync=!1,R.reading||(P=A(U,R))),(Z=P>0?q(P,R):null)===null?(R.needReadable=R.length<=R.highWaterMark,P=0):(R.length-=P,R.awaitDrain=0),R.length===0&&(R.ended||(R.needReadable=!0),U!==P&&R.ended&&Y(this)),Z!==null&&this.emit("data",Z),Z},H.prototype._read=function(P){F(this,new B("_read()"))},H.prototype.pipe=function(P,R){var U=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=P;break;case 1:Z.pipes=[Z.pipes,P];break;default:Z.pipes.push(P)}Z.pipesCount+=1,h("pipe count=%d opts=%j",Z.pipesCount,R);var st=(!R||R.end!==!1)&&P!==n.stdout&&P!==n.stderr?G:ot;function W(lt,ut){h("onunpipe"),lt===U&&ut&&ut.hasUnpiped===!1&&(ut.hasUnpiped=!0,h("cleanup"),P.removeListener("close",nt),P.removeListener("finish",ct),P.removeListener("drain",et),P.removeListener("error",rt),P.removeListener("unpipe",W),U.removeListener("end",G),U.removeListener("end",ot),U.removeListener("data",K),it=!0,!Z.awaitDrain||P._writableState&&!P._writableState.needDrain||et())}function G(){h("onend"),P.end()}Z.endEmitted?n.nextTick(st):U.once("end",st),P.on("unpipe",W);var et=function(lt){return function(){var ut=lt._readableState;h("pipeOnDrain",ut.awaitDrain),ut.awaitDrain&&ut.awaitDrain--,ut.awaitDrain===0&&l(lt,"data")&&(ut.flowing=!0,V(lt))}}(U);P.on("drain",et);var it=!1;function K(lt){h("ondata");var ut=P.write(lt);h("dest.write",ut),ut===!1&&((Z.pipesCount===1&&Z.pipes===P||Z.pipesCount>1&&X(Z.pipes,P)!==-1)&&!it&&(h("false write response, pause",Z.awaitDrain),Z.awaitDrain++),U.pause())}function rt(lt){h("onerror",lt),ot(),P.removeListener("error",rt),l(P,"error")===0&&F(P,lt)}function nt(){P.removeListener("finish",ct),ot()}function ct(){h("onfinish"),P.removeListener("close",nt),ot()}function ot(){h("unpipe"),U.unpipe(P)}return U.on("data",K),function(lt,ut,dt){if(typeof lt.prependListener=="function")return lt.prependListener(ut,dt);lt._events&&lt._events[ut]?Array.isArray(lt._events[ut])?lt._events[ut].unshift(dt):lt._events[ut]=[dt,lt._events[ut]]:lt.on(ut,dt)}(P,"error",rt),P.once("close",nt),P.once("finish",ct),P.emit("pipe",U),Z.flowing||(h("pipe resume"),U.resume()),P},H.prototype.unpipe=function(P){var R=this._readableState,U={hasUnpiped:!1};if(R.pipesCount===0)return this;if(R.pipesCount===1)return P&&P!==R.pipes||(P||(P=R.pipes),R.pipes=null,R.pipesCount=0,R.flowing=!1,P&&P.emit("unpipe",this,U)),this;if(!P){var Z=R.pipes,st=R.pipesCount;R.pipes=null,R.pipesCount=0,R.flowing=!1;for(var W=0;W<st;W++)Z[W].emit("unpipe",this,{hasUnpiped:!1});return this}var G=X(R.pipes,P);return G===-1||(R.pipes.splice(G,1),R.pipesCount-=1,R.pipesCount===1&&(R.pipes=R.pipes[0]),P.emit("unpipe",this,U)),this},H.prototype.on=function(P,R){var U=s.prototype.on.call(this,P,R),Z=this._readableState;return P==="data"?(Z.readableListening=this.listenerCount("readable")>0,Z.flowing!==!1&&this.resume()):P==="readable"&&(Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.flowing=!1,Z.emittedReadable=!1,h("on readable",Z.length,Z.reading),Z.length?v(this):Z.reading||n.nextTick(N,this))),U},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(P,R){var U=s.prototype.removeListener.call(this,P,R);return P==="readable"&&n.nextTick(T,this),U},H.prototype.removeAllListeners=function(P){var R=s.prototype.removeAllListeners.apply(this,arguments);return P!=="readable"&&P!==void 0||n.nextTick(T,this),R},H.prototype.resume=function(){var P=this._readableState;return P.flowing||(h("resume"),P.flowing=!P.readableListening,function(R,U){U.resumeScheduled||(U.resumeScheduled=!0,n.nextTick(L,R,U))}(this,P)),P.paused=!1,this},H.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},H.prototype.wrap=function(P){var R=this,U=this._readableState,Z=!1;for(var st in P.on("end",function(){if(h("wrapped end"),U.decoder&&!U.ended){var G=U.decoder.end();G&&G.length&&R.push(G)}R.push(null)}),P.on("data",function(G){h("wrapped data"),U.decoder&&(G=U.decoder.write(G)),U.objectMode&&G==null||(U.objectMode||G&&G.length)&&(R.push(G)||(Z=!0,P.pause()))}),P)this[st]===void 0&&typeof P[st]=="function"&&(this[st]=function(G){return function(){return P[G].apply(P,arguments)}}(st));for(var W=0;W<z.length;W++)P.on(z[W],this.emit.bind(this,z[W]));return this._read=function(G){h("wrapped _read",G),Z&&(Z=!1,P.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=t("./internal/streams/async_iterator")),g(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(P){this._readableState&&(this._readableState.flowing=P)}}),H._fromList=q,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(H.from=function(P,R){return m===void 0&&(m=t("./internal/streams/from")),m(H,P,R)})}).call(this)}).call(this,t("_process"),typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,r,a){r.exports=h;var n=t("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,l=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,c=t("./_stream_duplex");function f(g,m){var b=this._transformState;b.transforming=!1;var y=b.writecb;if(y===null)return this.emit("error",new o);b.writechunk=null,b.writecb=null,m!=null&&this.push(m),y(g);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function h(g){if(!(this instanceof h))return new h(g);c.call(this,g),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",d)}function d(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?p(this,null,null):this._flush(function(m,b){p(g,m,b)})}function p(g,m,b){if(m)return g.emit("error",m);if(b!=null&&g.push(b),g._writableState.length)throw new s;if(g._transformState.transforming)throw new l;return g.push(null)}t("inherits")(h,c),h.prototype.push=function(g,m){return this._transformState.needTransform=!1,c.prototype.push.call(this,g,m)},h.prototype._transform=function(g,m,b){b(new i("_transform()"))},h.prototype._write=function(g,m,b){var y=this._transformState;if(y.writecb=b,y.writechunk=g,y.writeencoding=m,!y.transforming){var x=this._readableState;(y.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},h.prototype._read=function(g){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},h.prototype._destroy=function(g,m){c.prototype._destroy.call(this,g,function(b){m(b)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,r,a){(function(n,i){(function(){function o(S){var T=this;this.next=null,this.entry=null,this.finish=function(){(function(N,L,V){var q=N.entry;for(N.entry=null;q;){var Y=q.callback;L.pendingcb--,Y(V),q=q.next}L.corkedRequestsFree.next=N})(T,S)}}var l;r.exports=H,H.WritableState=$;var s={deprecate:t("util-deprecate")},c=t("./internal/streams/stream"),f=t("buffer").Buffer,h=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,p=t("./internal/streams/destroy"),g=t("./internal/streams/state").getHighWaterMark,m=t("../errors").codes,b=m.ERR_INVALID_ARG_TYPE,y=m.ERR_METHOD_NOT_IMPLEMENTED,x=m.ERR_MULTIPLE_CALLBACK,k=m.ERR_STREAM_CANNOT_PIPE,M=m.ERR_STREAM_DESTROYED,I=m.ERR_STREAM_NULL_VALUES,B=m.ERR_STREAM_WRITE_AFTER_END,j=m.ERR_UNKNOWN_ENCODING,F=p.errorOrDestroy;function z(){}function $(S,T,N){l=l||t("./_stream_duplex"),S=S||{},typeof N!="boolean"&&(N=T instanceof l),this.objectMode=!!S.objectMode,N&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=g(this,S,"writableHighWaterMark",N),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var L=S.decodeStrings===!1;this.decodeStrings=!L,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){(function(q,Y){var D=q._writableState,X=D.sync,P=D.writecb;if(typeof P!="function")throw new x;if(function(U){U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0}(D),Y)(function(U,Z,st,W,G){--Z.pendingcb,st?(n.nextTick(G,W),n.nextTick(_,U,Z),U._writableState.errorEmitted=!0,F(U,W)):(G(W),U._writableState.errorEmitted=!0,F(U,W),_(U,Z))})(q,D,X,Y,P);else{var R=v(D)||q.destroyed;R||D.corked||D.bufferProcessing||!D.bufferedRequest||A(q,D),X?n.nextTick(O,q,D,R,P):O(q,D,R,P)}})(T,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function H(S){var T=this instanceof(l=l||t("./_stream_duplex"));if(!T&&!d.call(H,this))return new H(S);this._writableState=new $(S,this,T),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),c.call(this)}function C(S,T,N,L,V,q,Y){T.writelen=L,T.writecb=Y,T.writing=!0,T.sync=!0,T.destroyed?T.onwrite(new M("write")):N?S._writev(V,T.onwrite):S._write(V,q,T.onwrite),T.sync=!1}function O(S,T,N,L){N||function(V,q){q.length===0&&q.needDrain&&(q.needDrain=!1,V.emit("drain"))}(S,T),T.pendingcb--,L(),_(S,T)}function A(S,T){T.bufferProcessing=!0;var N=T.bufferedRequest;if(S._writev&&N&&N.next){var L=T.bufferedRequestCount,V=new Array(L),q=T.corkedRequestsFree;q.entry=N;for(var Y=0,D=!0;N;)V[Y]=N,N.isBuf||(D=!1),N=N.next,Y+=1;V.allBuffers=D,C(S,T,!0,T.length,V,"",q.finish),T.pendingcb++,T.lastBufferedRequest=null,q.next?(T.corkedRequestsFree=q.next,q.next=null):T.corkedRequestsFree=new o(T),T.bufferedRequestCount=0}else{for(;N;){var X=N.chunk,P=N.encoding,R=N.callback;if(C(S,T,!1,T.objectMode?1:X.length,X,P,R),N=N.next,T.bufferedRequestCount--,T.writing)break}N===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=N,T.bufferProcessing=!1}function v(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function w(S,T){S._final(function(N){T.pendingcb--,N&&F(S,N),T.prefinished=!0,S.emit("prefinish"),_(S,T)})}function _(S,T){var N=v(T);if(N&&(function(V,q){q.prefinished||q.finalCalled||(typeof V._final!="function"||q.destroyed?(q.prefinished=!0,V.emit("prefinish")):(q.pendingcb++,q.finalCalled=!0,n.nextTick(w,V,q)))}(S,T),T.pendingcb===0&&(T.finished=!0,S.emit("finish"),T.autoDestroy))){var L=S._readableState;(!L||L.autoDestroy&&L.endEmitted)&&S.destroy()}return N}t("inherits")(H,c),$.prototype.getBuffer=function(){for(var S=this.bufferedRequest,T=[];S;)T.push(S),S=S.next;return T},function(){try{Object.defineProperty($.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(S){return!!d.call(this,S)||this===H&&S&&S._writableState instanceof $}})):d=function(S){return S instanceof this},H.prototype.pipe=function(){F(this,new k)},H.prototype.write=function(S,T,N){var L,V=this._writableState,q=!1,Y=!V.objectMode&&(L=S,f.isBuffer(L)||L instanceof h);return Y&&!f.isBuffer(S)&&(S=function(D){return f.from(D)}(S)),typeof T=="function"&&(N=T,T=null),Y?T="buffer":T||(T=V.defaultEncoding),typeof N!="function"&&(N=z),V.ending?function(D,X){var P=new B;F(D,P),n.nextTick(X,P)}(this,N):(Y||function(D,X,P,R){var U;return P===null?U=new I:typeof P=="string"||X.objectMode||(U=new b("chunk",["string","Buffer"],P)),!U||(F(D,U),n.nextTick(R,U),!1)}(this,V,S,N))&&(V.pendingcb++,q=function(D,X,P,R,U,Z){if(!P){var st=function(it,K,rt){return it.objectMode||it.decodeStrings===!1||typeof K!="string"||(K=f.from(K,rt)),K}(X,R,U);R!==st&&(P=!0,U="buffer",R=st)}var W=X.objectMode?1:R.length;X.length+=W;var G=X.length<X.highWaterMark;if(G||(X.needDrain=!0),X.writing||X.corked){var et=X.lastBufferedRequest;X.lastBufferedRequest={chunk:R,encoding:U,isBuf:P,callback:Z,next:null},et?et.next=X.lastBufferedRequest:X.bufferedRequest=X.lastBufferedRequest,X.bufferedRequestCount+=1}else C(D,X,!1,W,R,U,Z);return G}(this,V,Y,S,T,N)),q},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,S.writing||S.corked||S.bufferProcessing||!S.bufferedRequest||A(this,S))},H.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new j(S);return this._writableState.defaultEncoding=S,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),H.prototype._write=function(S,T,N){N(new y("_write()"))},H.prototype._writev=null,H.prototype.end=function(S,T,N){var L=this._writableState;return typeof S=="function"?(N=S,S=null,T=null):typeof T=="function"&&(N=T,T=null),S!=null&&this.write(S,T),L.corked&&(L.corked=1,this.uncork()),L.ending||function(V,q,Y){q.ending=!0,_(V,q),Y&&(q.finished?n.nextTick(Y):V.once("finish",Y)),q.ended=!0,V.writable=!1}(this,L,N),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(S){this._writableState&&(this._writableState.destroyed=S)}}),H.prototype.destroy=p.destroy,H.prototype._undestroy=p.undestroy,H.prototype._destroy=function(S,T){T(S)}}).call(this)}).call(this,t("_process"),typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,r,a){(function(n){(function(){var i;function o(M,I,B){return(I=function(j){var F=function(z,$){if(typeof z!="object"||z===null)return z;var H=z[Symbol.toPrimitive];if(H!==void 0){var C=H.call(z,$||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(z)}(j,"string");return typeof F=="symbol"?F:String(F)}(I))in M?Object.defineProperty(M,I,{value:B,enumerable:!0,configurable:!0,writable:!0}):M[I]=B,M}var l=t("./end-of-stream"),s=Symbol("lastResolve"),c=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),d=Symbol("lastPromise"),p=Symbol("handlePromise"),g=Symbol("stream");function m(M,I){return{value:M,done:I}}function b(M){var I=M[s];if(I!==null){var B=M[g].read();B!==null&&(M[d]=null,M[s]=null,M[c]=null,I(m(B,!1)))}}function y(M){n.nextTick(b,M)}var x=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((o(i={get stream(){return this[g]},next:function(){var M=this,I=this[f];if(I!==null)return Promise.reject(I);if(this[h])return Promise.resolve(m(void 0,!0));if(this[g].destroyed)return new Promise(function(z,$){n.nextTick(function(){M[f]?$(M[f]):z(m(void 0,!0))})});var B,j=this[d];if(j)B=new Promise(function(z,$){return function(H,C){z.then(function(){$[h]?H(m(void 0,!0)):$[p](H,C)},C)}}(j,this));else{var F=this[g].read();if(F!==null)return Promise.resolve(m(F,!1));B=new Promise(this[p])}return this[d]=B,B}},Symbol.asyncIterator,function(){return this}),o(i,"return",function(){var M=this;return new Promise(function(I,B){M[g].destroy(null,function(j){j?B(j):I(m(void 0,!0))})})}),i),x);r.exports=function(M){var I,B=Object.create(k,(o(I={},g,{value:M,writable:!0}),o(I,s,{value:null,writable:!0}),o(I,c,{value:null,writable:!0}),o(I,f,{value:null,writable:!0}),o(I,h,{value:M._readableState.endEmitted,writable:!0}),o(I,p,{value:function(j,F){var z=B[g].read();z?(B[d]=null,B[s]=null,B[c]=null,j(m(z,!1))):(B[s]=j,B[c]=F)},writable:!0}),I));return B[d]=null,l(M,function(j){if(j&&j.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=B[c];return F!==null&&(B[d]=null,B[s]=null,B[c]=null,F(j)),void(B[f]=j)}var z=B[s];z!==null&&(B[d]=null,B[s]=null,B[c]=null,z(m(void 0,!0))),B[h]=!0}),M.on("readable",y.bind(null,B)),B}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,r,a){function n(d,p){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);p&&(m=m.filter(function(b){return Object.getOwnPropertyDescriptor(d,b).enumerable})),g.push.apply(g,m)}return g}function i(d){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?n(Object(g),!0).forEach(function(m){o(d,m,g[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):n(Object(g)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(g,m))})}return d}function o(d,p,g){return(p=s(p))in d?Object.defineProperty(d,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[p]=g,d}function l(d,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,s(m.key),m)}}function s(d){var p=function(g,m){if(typeof g!="object"||g===null)return g;var b=g[Symbol.toPrimitive];if(b!==void 0){var y=b.call(g,m||"default");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(g)}(d,"string");return typeof p=="symbol"?p:String(p)}var c=t("buffer").Buffer,f=t("util").inspect,h=f&&f.custom||"inspect";r.exports=function(){function d(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var p,g;return p=d,(g=[{key:"push",value:function(m){var b={data:m,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(m){var b={data:m,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var b=this.head,y=""+b.data;b=b.next;)y+=m+b.data;return y}},{key:"concat",value:function(m){if(this.length===0)return c.alloc(0);for(var b,y,x,k=c.allocUnsafe(m>>>0),M=this.head,I=0;M;)b=M.data,y=k,x=I,c.prototype.copy.call(b,y,x),I+=M.data.length,M=M.next;return k}},{key:"consume",value:function(m,b){var y;return m<this.head.data.length?(y=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):y=m===this.head.data.length?this.shift():b?this._getString(m):this._getBuffer(m),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var b=this.head,y=1,x=b.data;for(m-=x.length;b=b.next;){var k=b.data,M=m>k.length?k.length:m;if(M===k.length?x+=k:x+=k.slice(0,m),(m-=M)==0){M===k.length?(++y,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=k.slice(M));break}++y}return this.length-=y,x}},{key:"_getBuffer",value:function(m){var b=c.allocUnsafe(m),y=this.head,x=1;for(y.data.copy(b),m-=y.data.length;y=y.next;){var k=y.data,M=m>k.length?k.length:m;if(k.copy(b,b.length-m,0,M),(m-=M)==0){M===k.length?(++x,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=k.slice(M));break}++x}return this.length-=x,b}},{key:h,value:function(m,b){return f(this,i(i({},b),{},{depth:0,customInspect:!1}))}}])&&l(p.prototype,g),Object.defineProperty(p,"prototype",{writable:!1}),d}()},{buffer:220,util:188}],485:[function(t,r,a){(function(n){(function(){function i(s,c){l(s,c),o(s)}function o(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function l(s,c){s.emit("error",c)}r.exports={destroy:function(s,c){var f=this,h=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return h||d?(c?c(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(l,this,s)):n.nextTick(l,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(p){!c&&p?f._writableState?f._writableState.errorEmitted?n.nextTick(o,f):(f._writableState.errorEmitted=!0,n.nextTick(i,f,p)):n.nextTick(i,f,p):c?(n.nextTick(o,f),c(p)):n.nextTick(o,f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(s,c){var f=s._readableState,h=s._writableState;f&&f.autoDestroy||h&&h.autoDestroy?s.destroy(c):s.emit("error",c)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,r,a){var n=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}r.exports=function o(l,s,c){if(typeof s=="function")return o(l,null,s);s||(s={}),c=function(M){var I=!1;return function(){if(!I){I=!0;for(var B=arguments.length,j=new Array(B),F=0;F<B;F++)j[F]=arguments[F];M.apply(this,j)}}}(c||i);var f=s.readable||s.readable!==!1&&l.readable,h=s.writable||s.writable!==!1&&l.writable,d=function(){l.writable||g()},p=l._writableState&&l._writableState.finished,g=function(){h=!1,p=!0,f||c.call(l)},m=l._readableState&&l._readableState.endEmitted,b=function(){f=!1,m=!0,h||c.call(l)},y=function(M){c.call(l,M)},x=function(){var M;return f&&!m?(l._readableState&&l._readableState.ended||(M=new n),c.call(l,M)):h&&!p?(l._writableState&&l._writableState.ended||(M=new n),c.call(l,M)):void 0},k=function(){l.req.on("finish",g)};return function(M){return M.setHeader&&typeof M.abort=="function"}(l)?(l.on("complete",g),l.on("abort",x),l.req?k():l.on("request",k)):h&&!l._writableState&&(l.on("end",d),l.on("close",d)),l.on("end",b),l.on("finish",g),s.error!==!1&&l.on("error",y),l.on("close",x),function(){l.removeListener("complete",g),l.removeListener("abort",x),l.removeListener("request",k),l.req&&l.req.removeListener("finish",g),l.removeListener("end",d),l.removeListener("close",d),l.removeListener("finish",g),l.removeListener("end",b),l.removeListener("error",y),l.removeListener("close",x)}}},{"../../../errors":477}],487:[function(t,r,a){r.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,r,a){var n,i=t("../../../errors").codes,o=i.ERR_MISSING_ARGS,l=i.ERR_STREAM_DESTROYED;function s(p){if(p)throw p}function c(p,g,m,b){b=function(k){var M=!1;return function(){M||(M=!0,k.apply(void 0,arguments))}}(b);var y=!1;p.on("close",function(){y=!0}),n===void 0&&(n=t("./end-of-stream")),n(p,{readable:g,writable:m},function(k){if(k)return b(k);y=!0,b()});var x=!1;return function(k){if(!y&&!x)return x=!0,function(M){return M.setHeader&&typeof M.abort=="function"}(p)?p.abort():typeof p.destroy=="function"?p.destroy():void b(k||new l("pipe"))}}function f(p){p()}function h(p,g){return p.pipe(g)}function d(p){return p.length?typeof p[p.length-1]!="function"?s:p.pop():s}r.exports=function(){for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];var b,y=d(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new o("streams");var x=g.map(function(k,M){var I=M<g.length-1;return c(k,I,M>0,function(B){b||(b=B),B&&x.forEach(f),I||(x.forEach(f),y(b))})});return g.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,r,a){var n=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;r.exports={getHighWaterMark:function(i,o,l,s){var c=function(f,h,d){return f.highWaterMark!=null?f.highWaterMark:h?f[d]:null}(o,s,l);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new n(s?l:"highWaterMark",c);return Math.floor(c)}return i.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,r,a){r.exports=t("events").EventEmitter},{events:422}],491:[function(t,r,a){(a=r.exports=t("./lib/_stream_readable.js")).Stream=a,a.Readable=a,a.Writable=t("./lib/_stream_writable.js"),a.Duplex=t("./lib/_stream_duplex.js"),a.Transform=t("./lib/_stream_transform.js"),a.PassThrough=t("./lib/_stream_passthrough.js"),a.finished=t("./lib/internal/streams/end-of-stream.js"),a.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,r,a){var n=function(i){var o=Object.prototype,l=o.hasOwnProperty,s=Object.defineProperty||function(_,S,T){_[S]=T.value},c=typeof Symbol=="function"?Symbol:{},f=c.iterator||"@@iterator",h=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function p(_,S,T){return Object.defineProperty(_,S,{value:T,enumerable:!0,configurable:!0,writable:!0}),_[S]}try{p({},"")}catch{p=function(S,T,N){return S[T]=N}}function g(_,S,T,N){var L=S&&S.prototype instanceof y?S:y,V=Object.create(L.prototype),q=new A(N||[]);return s(V,"_invoke",{value:$(_,T,q)}),V}function m(_,S,T){try{return{type:"normal",arg:_.call(S,T)}}catch(N){return{type:"throw",arg:N}}}i.wrap=g;var b={};function y(){}function x(){}function k(){}var M={};p(M,f,function(){return this});var I=Object.getPrototypeOf,B=I&&I(I(v([])));B&&B!==o&&l.call(B,f)&&(M=B);var j=k.prototype=y.prototype=Object.create(M);function F(_){["next","throw","return"].forEach(function(S){p(_,S,function(T){return this._invoke(S,T)})})}function z(_,S){var T;s(this,"_invoke",{value:function(N,L){function V(){return new S(function(q,Y){(function D(X,P,R,U){var Z=m(_[X],_,P);if(Z.type!=="throw"){var st=Z.arg,W=st.value;return W&&typeof W=="object"&&l.call(W,"__await")?S.resolve(W.__await).then(function(G){D("next",G,R,U)},function(G){D("throw",G,R,U)}):S.resolve(W).then(function(G){st.value=G,R(st)},function(G){return D("throw",G,R,U)})}U(Z.arg)})(N,L,q,Y)})}return T=T?T.then(V,V):V()}})}function $(_,S,T){var N="suspendedStart";return function(L,V){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(L==="throw")throw V;return w()}for(T.method=L,T.arg=V;;){var q=T.delegate;if(q){var Y=H(q,T);if(Y){if(Y===b)continue;return Y}}if(T.method==="next")T.sent=T._sent=T.arg;else if(T.method==="throw"){if(N==="suspendedStart")throw N="completed",T.arg;T.dispatchException(T.arg)}else T.method==="return"&&T.abrupt("return",T.arg);N="executing";var D=m(_,S,T);if(D.type==="normal"){if(N=T.done?"completed":"suspendedYield",D.arg===b)continue;return{value:D.arg,done:T.done}}D.type==="throw"&&(N="completed",T.method="throw",T.arg=D.arg)}}}function H(_,S){var T=S.method,N=_.iterator[T];if(N===void 0)return S.delegate=null,T==="throw"&&_.iterator.return&&(S.method="return",S.arg=void 0,H(_,S),S.method==="throw")||T!=="return"&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+T+"' method")),b;var L=m(N,_.iterator,S.arg);if(L.type==="throw")return S.method="throw",S.arg=L.arg,S.delegate=null,b;var V=L.arg;return V?V.done?(S[_.resultName]=V.value,S.next=_.nextLoc,S.method!=="return"&&(S.method="next",S.arg=void 0),S.delegate=null,b):V:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,b)}function C(_){var S={tryLoc:_[0]};1 in _&&(S.catchLoc=_[1]),2 in _&&(S.finallyLoc=_[2],S.afterLoc=_[3]),this.tryEntries.push(S)}function O(_){var S=_.completion||{};S.type="normal",delete S.arg,_.completion=S}function A(_){this.tryEntries=[{tryLoc:"root"}],_.forEach(C,this),this.reset(!0)}function v(_){if(_){var S=_[f];if(S)return S.call(_);if(typeof _.next=="function")return _;if(!isNaN(_.length)){var T=-1,N=function L(){for(;++T<_.length;)if(l.call(_,T))return L.value=_[T],L.done=!1,L;return L.value=void 0,L.done=!0,L};return N.next=N}}return{next:w}}function w(){return{value:void 0,done:!0}}return x.prototype=k,s(j,"constructor",{value:k,configurable:!0}),s(k,"constructor",{value:x,configurable:!0}),x.displayName=p(k,d,"GeneratorFunction"),i.isGeneratorFunction=function(_){var S=typeof _=="function"&&_.constructor;return!!S&&(S===x||(S.displayName||S.name)==="GeneratorFunction")},i.mark=function(_){return Object.setPrototypeOf?Object.setPrototypeOf(_,k):(_.__proto__=k,p(_,d,"GeneratorFunction")),_.prototype=Object.create(j),_},i.awrap=function(_){return{__await:_}},F(z.prototype),p(z.prototype,h,function(){return this}),i.AsyncIterator=z,i.async=function(_,S,T,N,L){L===void 0&&(L=Promise);var V=new z(g(_,S,T,N),L);return i.isGeneratorFunction(S)?V:V.next().then(function(q){return q.done?q.value:V.next()})},F(j),p(j,d,"Generator"),p(j,f,function(){return this}),p(j,"toString",function(){return"[object Generator]"}),i.keys=function(_){var S=Object(_),T=[];for(var N in S)T.push(N);return T.reverse(),function L(){for(;T.length;){var V=T.pop();if(V in S)return L.value=V,L.done=!1,L}return L.done=!0,L}},i.values=v,A.prototype={constructor:A,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!_)for(var S in this)S.charAt(0)==="t"&&l.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var S=this;function T(D,X){return V.type="throw",V.arg=_,S.next=D,X&&(S.method="next",S.arg=void 0),!!X}for(var N=this.tryEntries.length-1;N>=0;--N){var L=this.tryEntries[N],V=L.completion;if(L.tryLoc==="root")return T("end");if(L.tryLoc<=this.prev){var q=l.call(L,"catchLoc"),Y=l.call(L,"finallyLoc");if(q&&Y){if(this.prev<L.catchLoc)return T(L.catchLoc,!0);if(this.prev<L.finallyLoc)return T(L.finallyLoc)}else if(q){if(this.prev<L.catchLoc)return T(L.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<L.finallyLoc)return T(L.finallyLoc)}}}},abrupt:function(_,S){for(var T=this.tryEntries.length-1;T>=0;--T){var N=this.tryEntries[T];if(N.tryLoc<=this.prev&&l.call(N,"finallyLoc")&&this.prev<N.finallyLoc){var L=N;break}}L&&(_==="break"||_==="continue")&&L.tryLoc<=S&&S<=L.finallyLoc&&(L=null);var V=L?L.completion:{};return V.type=_,V.arg=S,L?(this.method="next",this.next=L.finallyLoc,b):this.complete(V)},complete:function(_,S){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&S&&(this.next=S),b},finish:function(_){for(var S=this.tryEntries.length-1;S>=0;--S){var T=this.tryEntries[S];if(T.finallyLoc===_)return this.complete(T.completion,T.afterLoc),O(T),b}},catch:function(_){for(var S=this.tryEntries.length-1;S>=0;--S){var T=this.tryEntries[S];if(T.tryLoc===_){var N=T.completion;if(N.type==="throw"){var L=N.arg;O(T)}return L}}throw new Error("illegal catch attempt")},delegateYield:function(_,S,T){return this.delegate={iterator:v(_),resultName:S,nextLoc:T},this.method==="next"&&(this.arg=void 0),b}},i}(typeof r=="object"?r.exports:{});try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},{}],493:[function(t,r,a){var n=t("buffer").Buffer,i=t("inherits"),o=t("hash-base"),l=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0];function g(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(I,B){return I<<B|I>>>32-B}function b(I,B,j,F,z,$,H,C){return m(I+(B^j^F)+$+H|0,C)+z|0}function y(I,B,j,F,z,$,H,C){return m(I+(B&j|~B&F)+$+H|0,C)+z|0}function x(I,B,j,F,z,$,H,C){return m(I+((B|~j)^F)+$+H|0,C)+z|0}function k(I,B,j,F,z,$,H,C){return m(I+(B&F|j&~F)+$+H|0,C)+z|0}function M(I,B,j,F,z,$,H,C){return m(I+(B^(j|~F))+$+H|0,C)+z|0}i(g,o),g.prototype._update=function(){for(var I=l,B=0;B<16;++B)I[B]=this._block.readInt32LE(4*B);for(var j=0|this._a,F=0|this._b,z=0|this._c,$=0|this._d,H=0|this._e,C=0|this._a,O=0|this._b,A=0|this._c,v=0|this._d,w=0|this._e,_=0;_<80;_+=1){var S,T;_<16?(S=b(j,F,z,$,H,I[s[_]],d[0],f[_]),T=M(C,O,A,v,w,I[c[_]],p[0],h[_])):_<32?(S=y(j,F,z,$,H,I[s[_]],d[1],f[_]),T=k(C,O,A,v,w,I[c[_]],p[1],h[_])):_<48?(S=x(j,F,z,$,H,I[s[_]],d[2],f[_]),T=x(C,O,A,v,w,I[c[_]],p[2],h[_])):_<64?(S=k(j,F,z,$,H,I[s[_]],d[3],f[_]),T=y(C,O,A,v,w,I[c[_]],p[3],h[_])):(S=M(j,F,z,$,H,I[s[_]],d[4],f[_]),T=b(C,O,A,v,w,I[c[_]],p[4],h[_])),j=H,H=$,$=m(z,10),z=F,F=S,C=w,w=v,v=m(A,10),A=O,O=T}var N=this._b+z+v|0;this._b=this._c+$+w|0,this._c=this._d+H+C|0,this._d=this._e+j+O|0,this._e=this._a+F+A|0,this._a=N},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var I=n.alloc?n.alloc(20):new n(20);return I.writeInt32LE(this._a,0),I.writeInt32LE(this._b,4),I.writeInt32LE(this._c,8),I.writeInt32LE(this._d,12),I.writeInt32LE(this._e,16),I},r.exports=g},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,r,a){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var n=t("buffer"),i=n.Buffer;function o(s,c){for(var f in s)c[f]=s[f]}function l(s,c,f){return i(s,c,f)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=n:(o(n,a),a.Buffer=l),l.prototype=Object.create(i.prototype),o(i,l),l.from=function(s,c,f){if(typeof s=="number")throw new TypeError("Argument must not be a number");return i(s,c,f)},l.alloc=function(s,c,f){if(typeof s!="number")throw new TypeError("Argument must be a number");var h=i(s);return c!==void 0?typeof f=="string"?h.fill(c,f):h.fill(c):h.fill(0),h},l.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return i(s)},l.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}},{buffer:220}],495:[function(t,r,a){(function(n){(function(){var i,o=t("buffer"),l=o.Buffer,s={};for(i in o)o.hasOwnProperty(i)&&i!=="SlowBuffer"&&i!=="Buffer"&&(s[i]=o[i]);var c=s.Buffer={};for(i in l)l.hasOwnProperty(i)&&i!=="allocUnsafe"&&i!=="allocUnsafeSlow"&&(c[i]=l[i]);if(s.Buffer.prototype=l.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(f,h,d){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&f.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return l(f,h,d)}),c.alloc||(c.alloc=function(f,h,d){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2*(1<<30))throw new RangeError('The value "'+f+'" is invalid for option "size"');var p=l(f);return h&&h.length!==0?typeof d=="string"?p.fill(h,d):p.fill(h):p.fill(0),p}),!s.kStringMaxLength)try{s.kStringMaxLength=n.binding("buffer").kStringMaxLength}catch{}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),r.exports=s}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0});const n=t("xmlchars/xml/1.0/ed5"),i=t("xmlchars/xml/1.1/ed2"),o=t("xmlchars/xmlns/1.0/ed3");var l=n.isS,s=n.isChar,c=n.isNameStartChar,f=n.isNameChar,h=n.S_LIST,d=n.NAME_RE,p=i.isChar,g=o.isNCNameStartChar,m=o.isNCNameChar,b=o.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/2000/xmlns/",k={__proto__:null,xml:y,xmlns:x},M={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},I=v=>v===34||v===39,B=[34,39],j=[...B,91,62],F=[...B,60,93],z=[61,63,...h],$=[...h,62,38,60];function H(v,w,_){switch(w){case"xml":_!==y&&v.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":_!==x&&v.fail(`xmlns prefix must be bound to ${x}.`)}switch(_){case x:v.fail(w===""?`the default namespace may not be set to ${_}.`:`may not assign a prefix (even "xmlns") to the URI ${x}.`);break;case y:switch(w){case"xml":break;case"":v.fail(`the default namespace may not be set to ${_}.`);break;default:v.fail("may not assign the xml namespace to another prefix.")}}}const C=v=>b.test(v),O=v=>d.test(v);a.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const A={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};a.SaxesParser=class{constructor(v){this.opt=v??{},this.fragmentOpt=!!this.opt.fragment;const w=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,w){this.nameStartCheck=g,this.nameCheck=m,this.isName=C,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},k);const _=this.opt.additionalNamespaces;_!=null&&(function(S,T){for(const N of Object.keys(T))H(S,N,T[N])}(this,_),Object.assign(this.ns,_))}else this.nameStartCheck=c,this.nameCheck=f,this.isName=O,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var v;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:w}=this;this.state=w?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=w,this.xmlDeclPossible=!w,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:_}=this.opt;if(_===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");_="1.0"}this.setXMLVersion(_),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(M),(v=this.readyHandler)===null||v===void 0||v.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(v,w){this[A[v]]=w}off(v){this[A[v]]=void 0}makeError(v){var w;let _=(w=this.fileName)!==null&&w!==void 0?w:"";return this.trackPosition&&(_.length>0&&(_+=":"),_+=`${this.line}:${this.column}`),_.length>0&&(_+=": "),new Error(_+v)}fail(v){const w=this.makeError(v),_=this.errorHandler;if(_===void 0)throw w;return _(w),this}write(v){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let w=!1;v===null?(w=!0,v=""):typeof v=="object"&&(v=v.toString()),this.carriedFromPrevious!==void 0&&(v=`${this.carriedFromPrevious}${v}`,this.carriedFromPrevious=void 0);let _=v.length;const S=v.charCodeAt(_-1);!w&&(S===13||S>=55296&&S<=56319)&&(this.carriedFromPrevious=v[_-1],_--,v=v.slice(0,_));const{stateTable:T}=this;for(this.chunk=v,this.i=0;this.i<_;)T[this.state].call(this);return this.chunkPosition+=_,w?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:v,i:w}=this;if(this.prevI=w,this.i=w+1,w>=v.length)return-1;const _=v.charCodeAt(w);if(this.column++,_<55296){if(_>=32||_===9)return _;switch(_){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return v.charCodeAt(w+1)===10&&(this.i=w+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),_}}if(_>56319)return _>=57344&&_<=65533||this.fail("disallowed character."),_;const S=65536+1024*(_-55296)+(v.charCodeAt(w+1)-56320);return this.i=w+2,S>1114111&&this.fail("disallowed character."),S}getCode11(){const{chunk:v,i:w}=this;if(this.prevI=w,this.i=w+1,w>=v.length)return-1;const _=v.charCodeAt(w);if(this.column++,_<55296){if(_>31&&_<127||_>159&&_!==8232||_===9)return _;switch(_){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const T=v.charCodeAt(w+1);T!==10&&T!==133||(this.i=w+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),_}}if(_>56319)return _>=57344&&_<=65533||this.fail("disallowed character."),_;const S=65536+1024*(_-55296)+(v.charCodeAt(w+1)-56320);return this.i=w+2,S>1114111&&this.fail("disallowed character."),S}getCodeNorm(){const v=this.getCode();return v===-2?10:v}unget(){this.i=this.prevI,this.column--}captureTo(v){let{i:w}=this;const{chunk:_}=this;for(;;){const S=this.getCode(),T=S===-2,N=T?10:S;if(N===-1||v.includes(N))return this.text+=_.slice(w,this.prevI),N;T&&(this.text+=_.slice(w,this.prevI)+`
`,w=this.i)}}captureToChar(v){let{i:w}=this;const{chunk:_}=this;for(;;){let S=this.getCode();switch(S){case-2:this.text+=_.slice(w,this.prevI)+`
`,w=this.i,S=10;break;case-1:return this.text+=_.slice(w),!1}if(S===v)return this.text+=_.slice(w,this.prevI),!0}}captureNameChars(){const{chunk:v,i:w}=this;for(;;){const _=this.getCode();if(_===-1)return this.name+=v.slice(w),-1;if(!f(_))return this.name+=v.slice(w,this.prevI),_===-2?10:_}}skipSpaces(){for(;;){const v=this.getCodeNorm();if(v===-1||!l(v))return v}}setXMLVersion(v){this.currentXMLVersion=v,v==="1.0"?(this.isChar=s,this.getCode=this.getCode10):(this.isChar=p,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const v=this.i,w=this.skipSpaces();switch(this.prevI!==v&&(this.xmlDeclPossible=!1),w){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var v;const w=this.captureTo(j);switch(w){case 62:(v=this.doctypeHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(w),w===91?this.state=4:I(w)&&(this.state=3,this.q=w)}}sDoctypeQuote(){const v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.q=null,this.state=2)}sDTD(){const v=this.captureTo(F);v!==-1&&(this.text+=String.fromCodePoint(v),v===93?this.state=2:v===60?this.state=6:I(v)&&(this.state=5,this.q=v))}sDTDQuoted(){const v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.state=4,this.q=null)}sDTDOpenWaka(){const v=this.getCodeNorm();switch(this.text+=String.fromCodePoint(v),v){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const v=String.fromCodePoint(this.getCodeNorm()),w=this.openWakaBang+=v;this.text+=v,w!=="-"&&(this.state=w==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),this.state=v===45?10:8}sDTDCommentEnded(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:v}=this;const{chunk:w}=this;t:for(;;)switch(this.getCode()){case-2:this.entity+=w.slice(v,this.prevI)+`
`,v=this.i;break;case 59:{const{entityReturnState:_}=this,S=this.entity+w.slice(v,this.prevI);let T;this.state=_,S===""?(this.fail("empty entity name."),T="&;"):(T=this.parseEntity(S),this.entity=""),_===13&&this.textHandler===void 0||(this.text+=T);break t}case-1:this.entity+=w.slice(v);break t}}sOpenWaka(){const v=this.getCode();if(c(v))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(v){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var v;const w=this.getCodeNorm();w===45?(this.state=19,(v=this.commentHandler)===null||v===void 0||v.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(w),this.state=17)}sCommentEnded(){const v=this.getCodeNorm();v!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(v),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const v=this.getCodeNorm();v===93?this.state=22:(this.text+="]"+String.fromCodePoint(v),this.state=20)}sCDataEnding2(){var v;const w=this.getCodeNorm();switch(w){case 62:(v=this.cdataHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(w),this.state=20}}sPIFirstChar(){const v=this.getCodeNorm();this.nameStartCheck(v)?(this.piTarget+=String.fromCodePoint(v),this.state=24):v===63||l(v)?(this.fail("processing instruction without a target."),this.state=v===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(v),this.state=24)}sPIRest(){const{chunk:v,i:w}=this;for(;;){const _=this.getCodeNorm();if(_===-1)return void(this.piTarget+=v.slice(w));if(!this.nameCheck(_)){this.piTarget+=v.slice(w,this.prevI);const S=_===63;S||l(_)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=S?33:27):this.state=S?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_));break}}}sPIBody(){if(this.text.length===0){const v=this.getCodeNorm();v===63?this.state=26:l(v)||(this.text=String.fromCodePoint(v))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var v;const w=this.getCodeNorm();if(w===62){const{piTarget:_}=this;_.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(v=this.piHandler)===null||v===void 0||v.call(this,{target:_,body:this.text}),this.piTarget=this.text="",this.state=13}else w===63?this.text+="?":(this.text+="?"+String.fromCodePoint(w),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const v=this.skipSpaces();v!==63?v!==-1&&(this.state=28,this.name=String.fromCodePoint(v)):this.state=33}sXMLDeclName(){const v=this.captureTo(z);if(v===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(v)||v===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=v===61?30:29}}sXMLDeclEq(){const v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(v)||(v!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(v)||(I(v)?this.q=v:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const v=this.captureTo([this.q,63]);if(v===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(v===-1)return;const w=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const _=w;this.xmlDecl.version=_,/^1\.[0-9]+$/.test(_)?this.opt.forceXMLVersion||this.setXMLVersion(_):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(w)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=w;break;case"standalone":w!=="yes"&&w!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=w}this.name="",this.state=32}sXMLDeclSeparator(){const v=this.getCodeNorm();v!==63?(l(v)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var v;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(v=this.xmldeclHandler)===null||v===void 0||v.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var v;const w=this.captureNameChars();if(w===-1)return;const _=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=_.ns=Object.create(null)),(v=this.openTagStartHandler)===null||v===void 0||v.call(this,_),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),w){case 62:this.openTag();break;case 47:this.state=35;break;default:l(w)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const v=this.skipSpaces();v!==-1&&(c(v)?(this.unget(),this.state=37):v===62?this.openTag():v===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const v=this.captureNameChars();v===61?this.state=39:l(v)?this.state=38:v===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):v!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const v=this.skipSpaces();switch(v){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",v===62?this.openTag():c(v)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const v=this.getCodeNorm();I(v)?(this.q=v,this.state=40):l(v)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:v,chunk:w}=this;let{i:_}=this;for(;;)switch(this.getCode()){case v:return this.pushAttrib(this.name,this.text+w.slice(_,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=w.slice(_,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=w.slice(_,this.prevI)+" ",_=this.i;break;case 60:return this.text+=w.slice(_,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=w.slice(_))}}sAttribValueClosed(){const v=this.getCodeNorm();l(v)?this.state=36:v===62?this.openTag():v===47?this.state=35:c(v)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const v=this.captureTo($);switch(v){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",v===62?this.openTag():this.state=36}}sCloseTag(){const v=this.captureNameChars();v===62?this.closeTag():l(v)?this.state=44:v!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:v,forbiddenState:w}=this;const{chunk:_,textHandler:S}=this;t:for(;;)switch(this.getCode()){case 60:if(this.state=15,S!==void 0){const{text:T}=this,N=_.slice(v,this.prevI);T.length!==0?(S(T+N),this.text=""):N.length!==0&&S(N)}w=0;break t;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=_.slice(v,this.prevI)),w=0;break t;case 93:switch(w){case 0:w=1;break;case 1:w=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:w===2&&this.fail('the string "]]>" is disallowed in char data.'),w=0;break;case-2:S!==void 0&&(this.text+=_.slice(v,this.prevI)+`
`),v=this.i,w=0;break;case-1:S!==void 0&&(this.text+=_.slice(v));break t;default:w=0}this.forbiddenState=w}handleTextOutsideRoot(){let{i:v}=this;const{chunk:w,textHandler:_}=this;let S=!1;t:for(;;){const T=this.getCode();switch(T){case 60:if(this.state=15,_!==void 0){const{text:N}=this,L=w.slice(v,this.prevI);N.length!==0?(_(N+L),this.text=""):L.length!==0&&_(L)}break t;case 38:this.state=14,this.entityReturnState=13,_!==void 0&&(this.text+=w.slice(v,this.prevI)),S=!0;break t;case-2:_!==void 0&&(this.text+=w.slice(v,this.prevI)+`
`),v=this.i;break;case-1:_!==void 0&&(this.text+=w.slice(v));break t;default:l(T)||(S=!0)}}S&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(v,w){var _;const{prefix:S,local:T}=this.qname(v),N={name:v,prefix:S,local:T,value:w};if(this.attribList.push(N),(_=this.attributeHandler)===null||_===void 0||_.call(this,N),S==="xmlns"){const L=w.trim();this.currentXMLVersion==="1.0"&&L===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[T]=L,H(this,T,L)}else if(v==="xmlns"){const L=w.trim();this.topNS[""]=L,H(this,"",L)}}pushAttribPlain(v,w){var _;const S={name:v,value:w};this.attribList.push(S),(_=this.attributeHandler)===null||_===void 0||_.call(this,S)}end(){var v,w;this.sawRoot||this.fail("document must contain a root element.");const{tags:_}=this;for(;_.length>0;){const T=_.pop();this.fail("unclosed tag: "+T.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:S}=this;return S.length!==0&&((v=this.textHandler)===null||v===void 0||v.call(this,S),this.text=""),this._closed=!0,(w=this.endHandler)===null||w===void 0||w.call(this),this._init(),this}resolve(v){var w,_;let S=this.topNS[v];if(S!==void 0)return S;const{tags:T}=this;for(let N=T.length-1;N>=0;N--)if(S=T[N].ns[v],S!==void 0)return S;return S=this.ns[v],S!==void 0?S:(_=(w=this.opt).resolvePrefix)===null||_===void 0?void 0:_.call(w,v)}qname(v){const w=v.indexOf(":");if(w===-1)return{prefix:"",local:v};const _=v.slice(w+1),S=v.slice(0,w);return(S===""||_===""||_.includes(":"))&&this.fail(`malformed name: ${v}.`),{prefix:S,local:_}}processAttribsNS(){var v;const{attribList:w}=this,_=this.tag;{const{prefix:N,local:L}=this.qname(_.name);_.prefix=N,_.local=L;const V=_.uri=(v=this.resolve(N))!==null&&v!==void 0?v:"";N!==""&&(N==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),V===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(N)}.`),_.uri=N))}if(w.length===0)return;const{attributes:S}=_,T=new Set;for(const N of w){const{name:L,prefix:V,local:q}=N;let Y,D;V===""?(Y=L==="xmlns"?x:"",D=L):(Y=this.resolve(V),Y===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(V)}.`),Y=V),D=`{${Y}}${q}`),T.has(D)&&this.fail(`duplicate attribute: ${D}.`),T.add(D),N.uri=Y,S[L]=N}this.attribList=[]}processAttribsPlain(){const{attribList:v}=this,w=this.tag.attributes;for(const{name:_,value:S}of v)w[_]!==void 0&&this.fail(`duplicate attribute: ${_}.`),w[_]=S;this.attribList=[]}openTag(){var v;this.processAttribs();const{tags:w}=this,_=this.tag;_.isSelfClosing=!1,(v=this.openTagHandler)===null||v===void 0||v.call(this,_),w.push(_),this.state=13,this.name=""}openSelfClosingTag(){var v,w,_;this.processAttribs();const{tags:S}=this,T=this.tag;T.isSelfClosing=!0,(v=this.openTagHandler)===null||v===void 0||v.call(this,T),(w=this.closeTagHandler)===null||w===void 0||w.call(this,T),(this.tag=(_=S[S.length-1])!==null&&_!==void 0?_:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:v,name:w}=this;if(this.state=13,this.name="",w==="")return this.fail("weird empty close tag."),void(this.text+="</>");const _=this.closeTagHandler;let S=v.length;for(;S-- >0;){const T=this.tag=v.pop();if(this.topNS=T.ns,_==null||_(T),T.name===w)break;this.fail("unexpected close tag.")}S===0?this.closedRoot=!0:S<0&&(this.fail(`unmatched closing tag: ${w}.`),this.text+=`</${w}>`)}parseEntity(v){if(v[0]!=="#"){const _=this.ENTITIES[v];return _!==void 0?_:(this.fail(this.isName(v)?"undefined entity.":"disallowed character in entity name."),`&${v};`)}let w=NaN;return v[1]==="x"&&/^#x[0-9a-f]+$/i.test(v)?w=parseInt(v.slice(2),16):/^#[0-9]+$/.test(v)&&(w=parseInt(v.slice(1),10)),this.isChar(w)?String.fromCodePoint(w):(this.fail("malformed character entity."),`&${v};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,r,a){var n=t("safe-buffer").Buffer;function i(o,l){this._block=n.alloc(o),this._finalSize=l,this._blockSize=o,this._len=0}i.prototype.update=function(o,l){typeof o=="string"&&(l=l||"utf8",o=n.from(o,l));for(var s=this._block,c=this._blockSize,f=o.length,h=this._len,d=0;d<f;){for(var p=h%c,g=Math.min(f-d,c-p),m=0;m<g;m++)s[p+m]=o[d+m];d+=g,(h+=g)%c==0&&this._update(s)}return this._len+=f,this},i.prototype.digest=function(o){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var s=8*this._len;if(s<=4294967295)this._block.writeUInt32BE(s,this._blockSize-4);else{var c=(4294967295&s)>>>0,f=(s-c)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var h=this._hash();return o?h.toString(o):h},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},r.exports=i},{"safe-buffer":494}],498:[function(t,r,a){var n=r.exports=function(i){i=i.toLowerCase();var o=n[i];if(!o)throw new Error(i+" is not supported (we accept pull requests)");return new o};n.sha=t("./sha"),n.sha1=t("./sha1"),n.sha224=t("./sha224"),n.sha256=t("./sha256"),n.sha384=t("./sha384"),n.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,r,a){var n=t("inherits"),i=t("./hash"),o=t("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function f(d){return d<<30|d>>>2}function h(d,p,g,m){return d===0?p&g|~p&m:d===2?p&g|p&m|g&m:p^g^m}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(d){for(var p,g=this._w,m=0|this._a,b=0|this._b,y=0|this._c,x=0|this._d,k=0|this._e,M=0;M<16;++M)g[M]=d.readInt32BE(4*M);for(;M<80;++M)g[M]=g[M-3]^g[M-8]^g[M-14]^g[M-16];for(var I=0;I<80;++I){var B=~~(I/20),j=0|((p=m)<<5|p>>>27)+h(B,b,y,x)+k+g[I]+l[B];k=x,x=y,y=f(b),b=m,m=j}this._a=m+this._a|0,this._b=b+this._b|0,this._c=y+this._c|0,this._d=x+this._d|0,this._e=k+this._e|0},c.prototype._hash=function(){var d=o.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},r.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,r,a){var n=t("inherits"),i=t("./hash"),o=t("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function f(p){return p<<5|p>>>27}function h(p){return p<<30|p>>>2}function d(p,g,m,b){return p===0?g&m|~g&b:p===2?g&m|g&b|m&b:g^m^b}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(p){for(var g,m=this._w,b=0|this._a,y=0|this._b,x=0|this._c,k=0|this._d,M=0|this._e,I=0;I<16;++I)m[I]=p.readInt32BE(4*I);for(;I<80;++I)m[I]=(g=m[I-3]^m[I-8]^m[I-14]^m[I-16])<<1|g>>>31;for(var B=0;B<80;++B){var j=~~(B/20),F=f(b)+d(j,y,x,k)+M+m[B]+l[j]|0;M=k,k=x,x=h(y),y=b,b=F}this._a=b+this._a|0,this._b=y+this._b|0,this._c=x+this._c|0,this._d=k+this._d|0,this._e=M+this._e|0},c.prototype._hash=function(){var p=o.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p},r.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,r,a){var n=t("inherits"),i=t("./sha256"),o=t("./hash"),l=t("safe-buffer").Buffer,s=new Array(64);function c(){this.init(),this._w=s,o.call(this,64,56)}n(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var f=l.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},r.exports=c},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,r,a){var n=t("inherits"),i=t("./hash"),o=t("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function c(){this.init(),this._w=s,i.call(this,64,56)}function f(m,b,y){return y^m&(b^y)}function h(m,b,y){return m&b|y&(m|b)}function d(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function p(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function g(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}n(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(m){for(var b,y=this._w,x=0|this._a,k=0|this._b,M=0|this._c,I=0|this._d,B=0|this._e,j=0|this._f,F=0|this._g,z=0|this._h,$=0;$<16;++$)y[$]=m.readInt32BE(4*$);for(;$<64;++$)y[$]=0|(((b=y[$-2])>>>17|b<<15)^(b>>>19|b<<13)^b>>>10)+y[$-7]+g(y[$-15])+y[$-16];for(var H=0;H<64;++H){var C=z+p(B)+f(B,j,F)+l[H]+y[H]|0,O=d(x)+h(x,k,M)|0;z=F,F=j,j=B,B=I+C|0,I=M,M=k,k=x,x=C+O|0}this._a=x+this._a|0,this._b=k+this._b|0,this._c=M+this._c|0,this._d=I+this._d|0,this._e=B+this._e|0,this._f=j+this._f|0,this._g=F+this._g|0,this._h=z+this._h|0},c.prototype._hash=function(){var m=o.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},r.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,r,a){var n=t("inherits"),i=t("./sha512"),o=t("./hash"),l=t("safe-buffer").Buffer,s=new Array(160);function c(){this.init(),this._w=s,o.call(this,128,112)}n(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var f=l.allocUnsafe(48);function h(d,p,g){f.writeInt32BE(d,g),f.writeInt32BE(p,g+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),f},r.exports=c},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,r,a){var n=t("inherits"),i=t("./hash"),o=t("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function c(){this.init(),this._w=s,i.call(this,128,112)}function f(k,M,I){return I^k&(M^I)}function h(k,M,I){return k&M|I&(k|M)}function d(k,M){return(k>>>28|M<<4)^(M>>>2|k<<30)^(M>>>7|k<<25)}function p(k,M){return(k>>>14|M<<18)^(k>>>18|M<<14)^(M>>>9|k<<23)}function g(k,M){return(k>>>1|M<<31)^(k>>>8|M<<24)^k>>>7}function m(k,M){return(k>>>1|M<<31)^(k>>>8|M<<24)^(k>>>7|M<<25)}function b(k,M){return(k>>>19|M<<13)^(M>>>29|k<<3)^k>>>6}function y(k,M){return(k>>>19|M<<13)^(M>>>29|k<<3)^(k>>>6|M<<26)}function x(k,M){return k>>>0<M>>>0?1:0}n(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(k){for(var M=this._w,I=0|this._ah,B=0|this._bh,j=0|this._ch,F=0|this._dh,z=0|this._eh,$=0|this._fh,H=0|this._gh,C=0|this._hh,O=0|this._al,A=0|this._bl,v=0|this._cl,w=0|this._dl,_=0|this._el,S=0|this._fl,T=0|this._gl,N=0|this._hl,L=0;L<32;L+=2)M[L]=k.readInt32BE(4*L),M[L+1]=k.readInt32BE(4*L+4);for(;L<160;L+=2){var V=M[L-30],q=M[L-30+1],Y=g(V,q),D=m(q,V),X=b(V=M[L-4],q=M[L-4+1]),P=y(q,V),R=M[L-14],U=M[L-14+1],Z=M[L-32],st=M[L-32+1],W=D+U|0,G=Y+R+x(W,D)|0;G=(G=G+X+x(W=W+P|0,P)|0)+Z+x(W=W+st|0,st)|0,M[L]=G,M[L+1]=W}for(var et=0;et<160;et+=2){G=M[et],W=M[et+1];var it=h(I,B,j),K=h(O,A,v),rt=d(I,O),nt=d(O,I),ct=p(z,_),ot=p(_,z),lt=l[et],ut=l[et+1],dt=f(z,$,H),mt=f(_,S,T),yt=N+ot|0,vt=C+ct+x(yt,N)|0;vt=(vt=(vt=vt+dt+x(yt=yt+mt|0,mt)|0)+lt+x(yt=yt+ut|0,ut)|0)+G+x(yt=yt+W|0,W)|0;var _t=nt+K|0,Et=rt+it+x(_t,nt)|0;C=H,N=T,H=$,T=S,$=z,S=_,z=F+vt+x(_=w+yt|0,w)|0,F=j,w=v,j=B,v=A,B=I,A=O,I=vt+Et+x(O=yt+_t|0,yt)|0}this._al=this._al+O|0,this._bl=this._bl+A|0,this._cl=this._cl+v|0,this._dl=this._dl+w|0,this._el=this._el+_|0,this._fl=this._fl+S|0,this._gl=this._gl+T|0,this._hl=this._hl+N|0,this._ah=this._ah+I+x(this._al,O)|0,this._bh=this._bh+B+x(this._bl,A)|0,this._ch=this._ch+j+x(this._cl,v)|0,this._dh=this._dh+F+x(this._dl,w)|0,this._eh=this._eh+z+x(this._el,_)|0,this._fh=this._fh+$+x(this._fl,S)|0,this._gh=this._gh+H+x(this._gl,T)|0,this._hh=this._hh+C+x(this._hl,N)|0},c.prototype._hash=function(){var k=o.allocUnsafe(64);function M(I,B,j){k.writeInt32BE(I,j),k.writeInt32BE(B,j+4)}return M(this._ah,this._al,0),M(this._bh,this._bl,8),M(this._ch,this._cl,16),M(this._dh,this._dl,24),M(this._eh,this._el,32),M(this._fh,this._fl,40),M(this._gh,this._gl,48),M(this._hh,this._hl,56),k},r.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,r,a){r.exports=i;var n=t("events").EventEmitter;function i(){n.call(this)}t("inherits")(i,n),i.Readable=t("readable-stream/readable.js"),i.Writable=t("readable-stream/writable.js"),i.Duplex=t("readable-stream/duplex.js"),i.Transform=t("readable-stream/transform.js"),i.PassThrough=t("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(o,l){var s=this;function c(b){o.writable&&o.write(b)===!1&&s.pause&&s.pause()}function f(){s.readable&&s.resume&&s.resume()}s.on("data",c),o.on("drain",f),o._isStdio||l&&l.end===!1||(s.on("end",d),s.on("close",p));var h=!1;function d(){h||(h=!0,o.end())}function p(){h||(h=!0,typeof o.destroy=="function"&&o.destroy())}function g(b){if(m(),n.listenerCount(this,"error")===0)throw b}function m(){s.removeListener("data",c),o.removeListener("drain",f),s.removeListener("end",d),s.removeListener("close",p),s.removeListener("error",g),o.removeListener("error",g),s.removeListener("end",m),s.removeListener("close",m),o.removeListener("close",m)}return s.on("error",g),o.on("error",g),s.on("end",m),s.on("close",m),o.on("close",m),o.emit("pipe",s),o}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,r,a){var n={}.toString;r.exports=Array.isArray||function(i){return n.call(i)=="[object Array]"}},{}],507:[function(t,r,a){r.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,r,a){var n=t("process-nextick-args"),i=Object.keys||function(m){var b=[];for(var y in m)b.push(y);return b};r.exports=d;var o=Object.create(t("core-util-is"));o.inherits=t("inherits");var l=t("./_stream_readable"),s=t("./_stream_writable");o.inherits(d,l);for(var c=i(s.prototype),f=0;f<c.length;f++){var h=c[f];d.prototype[h]||(d.prototype[h]=s.prototype[h])}function d(m){if(!(this instanceof d))return new d(m);l.call(this,m),s.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||n.nextTick(g,this)}function g(m){m.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),d.prototype._destroy=function(m,b){this.push(null),this.end(),n.nextTick(b,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,r,a){r.exports=o;var n=t("./_stream_transform"),i=Object.create(t("core-util-is"));function o(l){if(!(this instanceof o))return new o(l);n.call(this,l)}i.inherits=t("inherits"),i.inherits(o,n),o.prototype._transform=function(l,s,c){c(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,r,a){(function(n,i){(function(){var o=t("process-nextick-args");r.exports=I;var l,s=t("isarray");I.ReadableState=M,t("events").EventEmitter;var c=function(N,L){return N.listeners(L).length},f=t("./internal/streams/stream"),h=t("safe-buffer").Buffer,d=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p=Object.create(t("core-util-is"));p.inherits=t("inherits");var g=t("util"),m=void 0;m=g&&g.debuglog?g.debuglog("stream"):function(){};var b,y=t("./internal/streams/BufferList"),x=t("./internal/streams/destroy");p.inherits(I,f);var k=["error","close","destroy","pause","resume"];function M(N,L){N=N||{};var V=L instanceof(l=l||t("./_stream_duplex"));this.objectMode=!!N.objectMode,V&&(this.objectMode=this.objectMode||!!N.readableObjectMode);var q=N.highWaterMark,Y=N.readableHighWaterMark,D=this.objectMode?16:16384;this.highWaterMark=q||q===0?q:V&&(Y||Y===0)?Y:D,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(b||(b=t("string_decoder/").StringDecoder),this.decoder=new b(N.encoding),this.encoding=N.encoding)}function I(N){if(l=l||t("./_stream_duplex"),!(this instanceof I))return new I(N);this._readableState=new M(N,this),this.readable=!0,N&&(typeof N.read=="function"&&(this._read=N.read),typeof N.destroy=="function"&&(this._destroy=N.destroy)),f.call(this)}function B(N,L,V,q,Y){var D,X=N._readableState;return L===null?(X.reading=!1,function(P,R){if(!R.ended){if(R.decoder){var U=R.decoder.end();U&&U.length&&(R.buffer.push(U),R.length+=R.objectMode?1:U.length)}R.ended=!0,z(P)}}(N,X)):(Y||(D=function(P,R){var U;Z=R,h.isBuffer(Z)||Z instanceof d||typeof R=="string"||R===void 0||P.objectMode||(U=new TypeError("Invalid non-string/buffer chunk"));var Z;return U}(X,L)),D?N.emit("error",D):X.objectMode||L&&L.length>0?(typeof L=="string"||X.objectMode||Object.getPrototypeOf(L)===h.prototype||(L=function(P){return h.from(P)}(L)),q?X.endEmitted?N.emit("error",new Error("stream.unshift() after end event")):j(N,X,L,!0):X.ended?N.emit("error",new Error("stream.push() after EOF")):(X.reading=!1,X.decoder&&!V?(L=X.decoder.write(L),X.objectMode||L.length!==0?j(N,X,L,!1):H(N,X)):j(N,X,L,!1))):q||(X.reading=!1)),function(P){return!P.ended&&(P.needReadable||P.length<P.highWaterMark||P.length===0)}(X)}function j(N,L,V,q){L.flowing&&L.length===0&&!L.sync?(N.emit("data",V),N.read(0)):(L.length+=L.objectMode?1:V.length,q?L.buffer.unshift(V):L.buffer.push(V),L.needReadable&&z(N)),H(N,L)}Object.defineProperty(I.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),I.prototype.destroy=x.destroy,I.prototype._undestroy=x.undestroy,I.prototype._destroy=function(N,L){this.push(null),L(N)},I.prototype.push=function(N,L){var V,q=this._readableState;return q.objectMode?V=!0:typeof N=="string"&&((L=L||q.defaultEncoding)!==q.encoding&&(N=h.from(N,L),L=""),V=!0),B(this,N,L,!1,V)},I.prototype.unshift=function(N){return B(this,N,null,!0,!1)},I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(N){return b||(b=t("string_decoder/").StringDecoder),this._readableState.decoder=new b(N),this._readableState.encoding=N,this};function F(N,L){return N<=0||L.length===0&&L.ended?0:L.objectMode?1:N!=N?L.flowing&&L.length?L.buffer.head.data.length:L.length:(N>L.highWaterMark&&(L.highWaterMark=function(V){return V>=8388608?V=8388608:(V--,V|=V>>>1,V|=V>>>2,V|=V>>>4,V|=V>>>8,V|=V>>>16,V++),V}(N)),N<=L.length?N:L.ended?L.length:(L.needReadable=!0,0))}function z(N){var L=N._readableState;L.needReadable=!1,L.emittedReadable||(m("emitReadable",L.flowing),L.emittedReadable=!0,L.sync?o.nextTick($,N):$(N))}function $(N){m("emit readable"),N.emit("readable"),v(N)}function H(N,L){L.readingMore||(L.readingMore=!0,o.nextTick(C,N,L))}function C(N,L){for(var V=L.length;!L.reading&&!L.flowing&&!L.ended&&L.length<L.highWaterMark&&(m("maybeReadMore read 0"),N.read(0),V!==L.length);)V=L.length;L.readingMore=!1}function O(N){m("readable nexttick read 0"),N.read(0)}function A(N,L){L.reading||(m("resume read 0"),N.read(0)),L.resumeScheduled=!1,L.awaitDrain=0,N.emit("resume"),v(N),L.flowing&&!L.reading&&N.read(0)}function v(N){var L=N._readableState;for(m("flow",L.flowing);L.flowing&&N.read()!==null;);}function w(N,L){return L.length===0?null:(L.objectMode?V=L.buffer.shift():!N||N>=L.length?(V=L.decoder?L.buffer.join(""):L.buffer.length===1?L.buffer.head.data:L.buffer.concat(L.length),L.buffer.clear()):V=function(q,Y,D){var X;return q<Y.head.data.length?(X=Y.head.data.slice(0,q),Y.head.data=Y.head.data.slice(q)):X=q===Y.head.data.length?Y.shift():D?function(P,R){var U=R.head,Z=1,st=U.data;for(P-=st.length;U=U.next;){var W=U.data,G=P>W.length?W.length:P;if(G===W.length?st+=W:st+=W.slice(0,P),(P-=G)===0){G===W.length?(++Z,U.next?R.head=U.next:R.head=R.tail=null):(R.head=U,U.data=W.slice(G));break}++Z}return R.length-=Z,st}(q,Y):function(P,R){var U=h.allocUnsafe(P),Z=R.head,st=1;for(Z.data.copy(U),P-=Z.data.length;Z=Z.next;){var W=Z.data,G=P>W.length?W.length:P;if(W.copy(U,U.length-P,0,G),(P-=G)===0){G===W.length?(++st,Z.next?R.head=Z.next:R.head=R.tail=null):(R.head=Z,Z.data=W.slice(G));break}++st}return R.length-=st,U}(q,Y),X}(N,L.buffer,L.decoder),V);var V}function _(N){var L=N._readableState;if(L.length>0)throw new Error('"endReadable()" called on non-empty stream');L.endEmitted||(L.ended=!0,o.nextTick(S,L,N))}function S(N,L){N.endEmitted||N.length!==0||(N.endEmitted=!0,L.readable=!1,L.emit("end"))}function T(N,L){for(var V=0,q=N.length;V<q;V++)if(N[V]===L)return V;return-1}I.prototype.read=function(N){m("read",N),N=parseInt(N,10);var L=this._readableState,V=N;if(N!==0&&(L.emittedReadable=!1),N===0&&L.needReadable&&(L.length>=L.highWaterMark||L.ended))return m("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?_(this):z(this),null;if((N=F(N,L))===0&&L.ended)return L.length===0&&_(this),null;var q,Y=L.needReadable;return m("need readable",Y),(L.length===0||L.length-N<L.highWaterMark)&&m("length less than watermark",Y=!0),L.ended||L.reading?m("reading or ended",Y=!1):Y&&(m("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(N=F(V,L))),(q=N>0?w(N,L):null)===null?(L.needReadable=!0,N=0):L.length-=N,L.length===0&&(L.ended||(L.needReadable=!0),V!==N&&L.ended&&_(this)),q!==null&&this.emit("data",q),q},I.prototype._read=function(N){this.emit("error",new Error("_read() is not implemented"))},I.prototype.pipe=function(N,L){var V=this,q=this._readableState;switch(q.pipesCount){case 0:q.pipes=N;break;case 1:q.pipes=[q.pipes,N];break;default:q.pipes.push(N)}q.pipesCount+=1,m("pipe count=%d opts=%j",q.pipesCount,L);var Y=(!L||L.end!==!1)&&N!==n.stdout&&N!==n.stderr?X:et;function D(it,K){m("onunpipe"),it===V&&K&&K.hasUnpiped===!1&&(K.hasUnpiped=!0,m("cleanup"),N.removeListener("close",W),N.removeListener("finish",G),N.removeListener("drain",P),N.removeListener("error",st),N.removeListener("unpipe",D),V.removeListener("end",X),V.removeListener("end",et),V.removeListener("data",Z),R=!0,!q.awaitDrain||N._writableState&&!N._writableState.needDrain||P())}function X(){m("onend"),N.end()}q.endEmitted?o.nextTick(Y):V.once("end",Y),N.on("unpipe",D);var P=function(it){return function(){var K=it._readableState;m("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&c(it,"data")&&(K.flowing=!0,v(it))}}(V);N.on("drain",P);var R=!1,U=!1;function Z(it){m("ondata"),U=!1,N.write(it)!==!1||U||((q.pipesCount===1&&q.pipes===N||q.pipesCount>1&&T(q.pipes,N)!==-1)&&!R&&(m("false write response, pause",q.awaitDrain),q.awaitDrain++,U=!0),V.pause())}function st(it){m("onerror",it),et(),N.removeListener("error",st),c(N,"error")===0&&N.emit("error",it)}function W(){N.removeListener("finish",G),et()}function G(){m("onfinish"),N.removeListener("close",W),et()}function et(){m("unpipe"),V.unpipe(N)}return V.on("data",Z),function(it,K,rt){if(typeof it.prependListener=="function")return it.prependListener(K,rt);it._events&&it._events[K]?s(it._events[K])?it._events[K].unshift(rt):it._events[K]=[rt,it._events[K]]:it.on(K,rt)}(N,"error",st),N.once("close",W),N.once("finish",G),N.emit("pipe",V),q.flowing||(m("pipe resume"),V.resume()),N},I.prototype.unpipe=function(N){var L=this._readableState,V={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return N&&N!==L.pipes||(N||(N=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,N&&N.emit("unpipe",this,V)),this;if(!N){var q=L.pipes,Y=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var D=0;D<Y;D++)q[D].emit("unpipe",this,{hasUnpiped:!1});return this}var X=T(L.pipes,N);return X===-1||(L.pipes.splice(X,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),N.emit("unpipe",this,V)),this},I.prototype.on=function(N,L){var V=f.prototype.on.call(this,N,L);if(N==="data")this._readableState.flowing!==!1&&this.resume();else if(N==="readable"){var q=this._readableState;q.endEmitted||q.readableListening||(q.readableListening=q.needReadable=!0,q.emittedReadable=!1,q.reading?q.length&&z(this):o.nextTick(O,this))}return V},I.prototype.addListener=I.prototype.on,I.prototype.resume=function(){var N=this._readableState;return N.flowing||(m("resume"),N.flowing=!0,function(L,V){V.resumeScheduled||(V.resumeScheduled=!0,o.nextTick(A,L,V))}(this,N)),this},I.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},I.prototype.wrap=function(N){var L=this,V=this._readableState,q=!1;for(var Y in N.on("end",function(){if(m("wrapped end"),V.decoder&&!V.ended){var X=V.decoder.end();X&&X.length&&L.push(X)}L.push(null)}),N.on("data",function(X){m("wrapped data"),V.decoder&&(X=V.decoder.write(X)),V.objectMode&&X==null||(V.objectMode||X&&X.length)&&(L.push(X)||(q=!0,N.pause()))}),N)this[Y]===void 0&&typeof N[Y]=="function"&&(this[Y]=function(X){return function(){return N[X].apply(N,arguments)}}(Y));for(var D=0;D<k.length;D++)N.on(k[D],this.emit.bind(this,k[D]));return this._read=function(X){m("wrapped _read",X),q&&(q=!1,N.resume())},this},Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),I._fromList=w}).call(this)}).call(this,t("_process"),typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,r,a){r.exports=l;var n=t("./_stream_duplex"),i=Object.create(t("core-util-is"));function o(f,h){var d=this._transformState;d.transforming=!1;var p=d.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,h!=null&&this.push(h),p(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function l(f){if(!(this instanceof l))return new l(f);n.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",s)}function s(){var f=this;typeof this._flush=="function"?this._flush(function(h,d){c(f,h,d)}):c(this,null,null)}function c(f,h,d){if(h)return f.emit("error",h);if(d!=null&&f.push(d),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}i.inherits=t("inherits"),i.inherits(l,n),l.prototype.push=function(f,h){return this._transformState.needTransform=!1,n.prototype.push.call(this,f,h)},l.prototype._transform=function(f,h,d){throw new Error("_transform() is not implemented")},l.prototype._write=function(f,h,d){var p=this._transformState;if(p.writecb=d,p.writechunk=f,p.writeencoding=h,!p.transforming){var g=this._readableState;(p.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},l.prototype._read=function(f){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},l.prototype._destroy=function(f,h){var d=this;n.prototype._destroy.call(this,f,function(p){h(p),d.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,r,a){(function(n,i,o){(function(){var l=t("process-nextick-args");function s(H){var C=this;this.next=null,this.entry=null,this.finish=function(){(function(O,A,v){var w=O.entry;for(O.entry=null;w;){var _=w.callback;A.pendingcb--,_(v),w=w.next}A.corkedRequestsFree.next=O})(C,H)}}r.exports=M;var c,f=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?o:l.nextTick;M.WritableState=k;var h=Object.create(t("core-util-is"));h.inherits=t("inherits");var d={deprecate:t("util-deprecate")},p=t("./internal/streams/stream"),g=t("safe-buffer").Buffer,m=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},b,y=t("./internal/streams/destroy");function x(){}function k(H,C){c=c||t("./_stream_duplex"),H=H||{};var O=C instanceof c;this.objectMode=!!H.objectMode,O&&(this.objectMode=this.objectMode||!!H.writableObjectMode);var A=H.highWaterMark,v=H.writableHighWaterMark,w=this.objectMode?16:16384;this.highWaterMark=A||A===0?A:O&&(v||v===0)?v:w,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var _=H.decodeStrings===!1;this.decodeStrings=!_,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(S){(function(T,N){var L=T._writableState,V=L.sync,q=L.writecb;if(function(D){D.writing=!1,D.writecb=null,D.length-=D.writelen,D.writelen=0}(L),N)(function(D,X,P,R,U){--X.pendingcb,P?(l.nextTick(U,R),l.nextTick($,D,X),D._writableState.errorEmitted=!0,D.emit("error",R)):(U(R),D._writableState.errorEmitted=!0,D.emit("error",R),$(D,X))})(T,L,V,N,q);else{var Y=F(L);Y||L.corked||L.bufferProcessing||!L.bufferedRequest||j(T,L),V?f(B,T,L,Y,q):B(T,L,Y,q)}})(C,S)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function M(H){if(c=c||t("./_stream_duplex"),!(b.call(M,this)||this instanceof c))return new M(H);this._writableState=new k(H,this),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),p.call(this)}function I(H,C,O,A,v,w,_){C.writelen=A,C.writecb=_,C.writing=!0,C.sync=!0,O?H._writev(v,C.onwrite):H._write(v,w,C.onwrite),C.sync=!1}function B(H,C,O,A){O||function(v,w){w.length===0&&w.needDrain&&(w.needDrain=!1,v.emit("drain"))}(H,C),C.pendingcb--,A(),$(H,C)}function j(H,C){C.bufferProcessing=!0;var O=C.bufferedRequest;if(H._writev&&O&&O.next){var A=C.bufferedRequestCount,v=new Array(A),w=C.corkedRequestsFree;w.entry=O;for(var _=0,S=!0;O;)v[_]=O,O.isBuf||(S=!1),O=O.next,_+=1;v.allBuffers=S,I(H,C,!0,C.length,v,"",w.finish),C.pendingcb++,C.lastBufferedRequest=null,w.next?(C.corkedRequestsFree=w.next,w.next=null):C.corkedRequestsFree=new s(C),C.bufferedRequestCount=0}else{for(;O;){var T=O.chunk,N=O.encoding,L=O.callback;if(I(H,C,!1,C.objectMode?1:T.length,T,N,L),O=O.next,C.bufferedRequestCount--,C.writing)break}O===null&&(C.lastBufferedRequest=null)}C.bufferedRequest=O,C.bufferProcessing=!1}function F(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function z(H,C){H._final(function(O){C.pendingcb--,O&&H.emit("error",O),C.prefinished=!0,H.emit("prefinish"),$(H,C)})}function $(H,C){var O=F(C);return O&&(function(A,v){v.prefinished||v.finalCalled||(typeof A._final=="function"?(v.pendingcb++,v.finalCalled=!0,l.nextTick(z,A,v)):(v.prefinished=!0,A.emit("prefinish")))}(H,C),C.pendingcb===0&&(C.finished=!0,H.emit("finish"))),O}h.inherits(M,p),k.prototype.getBuffer=function(){for(var H=this.bufferedRequest,C=[];H;)C.push(H),H=H.next;return C},function(){try{Object.defineProperty(k.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(H){return!!b.call(this,H)||this===M&&H&&H._writableState instanceof k}})):b=function(H){return H instanceof this},M.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},M.prototype.write=function(H,C,O){var A,v=this._writableState,w=!1,_=!v.objectMode&&(A=H,g.isBuffer(A)||A instanceof m);return _&&!g.isBuffer(H)&&(H=function(S){return g.from(S)}(H)),typeof C=="function"&&(O=C,C=null),_?C="buffer":C||(C=v.defaultEncoding),typeof O!="function"&&(O=x),v.ended?function(S,T){var N=new Error("write after end");S.emit("error",N),l.nextTick(T,N)}(this,O):(_||function(S,T,N,L){var V=!0,q=!1;return N===null?q=new TypeError("May not write null values to stream"):typeof N=="string"||N===void 0||T.objectMode||(q=new TypeError("Invalid non-string/buffer chunk")),q&&(S.emit("error",q),l.nextTick(L,q),V=!1),V}(this,v,H,O))&&(v.pendingcb++,w=function(S,T,N,L,V,q){if(!N){var Y=function(R,U,Z){return R.objectMode||R.decodeStrings===!1||typeof U!="string"||(U=g.from(U,Z)),U}(T,L,V);L!==Y&&(N=!0,V="buffer",L=Y)}var D=T.objectMode?1:L.length;T.length+=D;var X=T.length<T.highWaterMark;if(X||(T.needDrain=!0),T.writing||T.corked){var P=T.lastBufferedRequest;T.lastBufferedRequest={chunk:L,encoding:V,isBuf:N,callback:q,next:null},P?P.next=T.lastBufferedRequest:T.bufferedRequest=T.lastBufferedRequest,T.bufferedRequestCount+=1}else I(S,T,!1,D,L,V,q);return X}(this,v,_,H,C,O)),w},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,H.writing||H.corked||H.bufferProcessing||!H.bufferedRequest||j(this,H))},M.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(H,C,O){O(new Error("_write() is not implemented"))},M.prototype._writev=null,M.prototype.end=function(H,C,O){var A=this._writableState;typeof H=="function"?(O=H,H=null,C=null):typeof C=="function"&&(O=C,C=null),H!=null&&this.write(H,C),A.corked&&(A.corked=1,this.uncork()),A.ending||function(v,w,_){w.ending=!0,$(v,w),_&&(w.finished?l.nextTick(_):v.once("finish",_)),w.ended=!0,v.writable=!1}(this,A,O)},Object.defineProperty(M.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),M.prototype.destroy=y.destroy,M.prototype._undestroy=y.undestroy,M.prototype._destroy=function(H,C){this.end(),C(H)}}).call(this)}).call(this,t("_process"),typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,r,a){var n=t("safe-buffer").Buffer,i=t("util");r.exports=function(){function o(){(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(l){var s={data:l,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length},o.prototype.unshift=function(l){var s={data:l,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length},o.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(l){if(this.length===0)return"";for(var s=this.head,c=""+s.data;s=s.next;)c+=l+s.data;return c},o.prototype.concat=function(l){if(this.length===0)return n.alloc(0);for(var s,c,f,h=n.allocUnsafe(l>>>0),d=this.head,p=0;d;)s=d.data,c=h,f=p,s.copy(c,f),p+=d.data.length,d=d.next;return h},o}(),i&&i.inspect&&i.inspect.custom&&(r.exports.prototype[i.inspect.custom]=function(){var o=i.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":520,util:188}],514:[function(t,r,a){var n=t("process-nextick-args");function i(o,l){o.emit("error",l)}r.exports={destroy:function(o,l){var s=this,c=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return c||f?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(i,this,o)):n.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!l&&h?s._writableState?s._writableState.errorEmitted||(s._writableState.errorEmitted=!0,n.nextTick(i,s,h)):n.nextTick(i,s,h):l&&l(h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,r,a){arguments[4][490][0].apply(a,arguments)},{dup:490,events:422}],516:[function(t,r,a){r.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,r,a){(a=r.exports=t("./lib/_stream_readable.js")).Stream=a,a.Readable=a,a.Writable=t("./lib/_stream_writable.js"),a.Duplex=t("./lib/_stream_duplex.js"),a.Transform=t("./lib/_stream_transform.js"),a.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,r,a){r.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,r,a){r.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,r,a){arguments[4][217][0].apply(a,arguments)},{buffer:220,dup:217}],521:[function(t,r,a){arguments[4][218][0].apply(a,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,r,a){arguments[4][218][0].apply(a,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,r,a){(function(n,i){(function(){var o=t("process/browser.js").nextTick,l=Function.prototype.apply,s=Array.prototype.slice,c={},f=0;function h(d,p){this._id=d,this._clearFn=p}a.setTimeout=function(){return new h(l.call(setTimeout,window,arguments),clearTimeout)},a.setInterval=function(){return new h(l.call(setInterval,window,arguments),clearInterval)},a.clearTimeout=a.clearInterval=function(d){d.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},a.enroll=function(d,p){clearTimeout(d._idleTimeoutId),d._idleTimeout=p},a.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},a._unrefActive=a.active=function(d){clearTimeout(d._idleTimeoutId);var p=d._idleTimeout;p>=0&&(d._idleTimeoutId=setTimeout(function(){d._onTimeout&&d._onTimeout()},p))},a.setImmediate=typeof n=="function"?n:function(d){var p=f++,g=!(arguments.length<2)&&s.call(arguments,1);return c[p]=!0,o(function(){c[p]&&(g?d.apply(null,g):d.call(null),a.clearImmediate(p))}),p},a.clearImmediate=typeof i=="function"?i:function(d){delete c[d]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,r,a){(function(n){(function(){function i(o){try{if(!n.localStorage)return!1}catch{return!1}var l=n.localStorage[o];return l!=null&&String(l).toLowerCase()==="true"}r.exports=function(o,l){if(i("noDeprecation"))return o;var s=!1;return function(){if(!s){if(i("throwDeprecation"))throw new Error(l);i("traceDeprecation")?console.trace(l):console.warn(l),s=!0}return o.apply(this,arguments)}}}).call(this)}).call(this,typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,r,a){typeof Object.create=="function"?r.exports=function(n,i){n.super_=i,n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:r.exports=function(n,i){n.super_=i;var o=function(){};o.prototype=i.prototype,n.prototype=new o,n.prototype.constructor=n}},{}],526:[function(t,r,a){r.exports=function(n){return n&&typeof n=="object"&&typeof n.copy=="function"&&typeof n.fill=="function"&&typeof n.readUInt8=="function"}},{}],527:[function(t,r,a){(function(n,i){(function(){var o=/%[sdj%]/g;a.format=function(v){if(!k(v)){for(var w=[],_=0;_<arguments.length;_++)w.push(c(arguments[_]));return w.join(" ")}_=1;for(var S=arguments,T=S.length,N=String(v).replace(o,function(V){if(V==="%%")return"%";if(_>=T)return V;switch(V){case"%s":return String(S[_++]);case"%d":return Number(S[_++]);case"%j":try{return JSON.stringify(S[_++])}catch{return"[Circular]"}default:return V}}),L=S[_];_<T;L=S[++_])y(L)||!B(L)?N+=" "+L:N+=" "+c(L);return N},a.deprecate=function(v,w){if(M(i.process))return function(){return a.deprecate(v,w).apply(this,arguments)};if(n.noDeprecation===!0)return v;var _=!1;return function(){if(!_){if(n.throwDeprecation)throw new Error(w);n.traceDeprecation?console.trace(w):console.error(w),_=!0}return v.apply(this,arguments)}};var l,s={};function c(v,w){var _={seen:[],stylize:h};return arguments.length>=3&&(_.depth=arguments[2]),arguments.length>=4&&(_.colors=arguments[3]),b(w)?_.showHidden=w:w&&a._extend(_,w),M(_.showHidden)&&(_.showHidden=!1),M(_.depth)&&(_.depth=2),M(_.colors)&&(_.colors=!1),M(_.customInspect)&&(_.customInspect=!0),_.colors&&(_.stylize=f),d(_,v,_.depth)}function f(v,w){var _=c.styles[w];return _?"\x1B["+c.colors[_][0]+"m"+v+"\x1B["+c.colors[_][1]+"m":v}function h(v,w){return v}function d(v,w,_){if(v.customInspect&&w&&z(w.inspect)&&w.inspect!==a.inspect&&(!w.constructor||w.constructor.prototype!==w)){var S=w.inspect(_,v);return k(S)||(S=d(v,S,_)),S}var T=function(P,R){if(M(R))return P.stylize("undefined","undefined");if(k(R)){var U="'"+JSON.stringify(R).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return P.stylize(U,"string")}if(x(R))return P.stylize(""+R,"number");if(b(R))return P.stylize(""+R,"boolean");if(y(R))return P.stylize("null","null")}(v,w);if(T)return T;var N=Object.keys(w),L=function(P){var R={};return P.forEach(function(U,Z){R[U]=!0}),R}(N);if(v.showHidden&&(N=Object.getOwnPropertyNames(w)),F(w)&&(N.indexOf("message")>=0||N.indexOf("description")>=0))return p(w);if(N.length===0){if(z(w)){var V=w.name?": "+w.name:"";return v.stylize("[Function"+V+"]","special")}if(I(w))return v.stylize(RegExp.prototype.toString.call(w),"regexp");if(j(w))return v.stylize(Date.prototype.toString.call(w),"date");if(F(w))return p(w)}var q,Y="",D=!1,X=["{","}"];return m(w)&&(D=!0,X=["[","]"]),z(w)&&(Y=" [Function"+(w.name?": "+w.name:"")+"]"),I(w)&&(Y=" "+RegExp.prototype.toString.call(w)),j(w)&&(Y=" "+Date.prototype.toUTCString.call(w)),F(w)&&(Y=" "+p(w)),N.length!==0||D&&w.length!=0?_<0?I(w)?v.stylize(RegExp.prototype.toString.call(w),"regexp"):v.stylize("[Object]","special"):(v.seen.push(w),q=D?function(P,R,U,Z,st){for(var W=[],G=0,et=R.length;G<et;++G)A(R,String(G))?W.push(g(P,R,U,Z,String(G),!0)):W.push("");return st.forEach(function(it){it.match(/^\d+$/)||W.push(g(P,R,U,Z,it,!0))}),W}(v,w,_,L,N):N.map(function(P){return g(v,w,_,L,P,D)}),v.seen.pop(),function(P,R,U){return P.reduce(function(Z,st){return st.indexOf(`
`)>=0,Z+st.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?U[0]+(R===""?"":R+`
 `)+" "+P.join(`,
  `)+" "+U[1]:U[0]+R+" "+P.join(", ")+" "+U[1]}(q,Y,X)):X[0]+Y+X[1]}function p(v){return"["+Error.prototype.toString.call(v)+"]"}function g(v,w,_,S,T,N){var L,V,q;if((q=Object.getOwnPropertyDescriptor(w,T)||{value:w[T]}).get?V=q.set?v.stylize("[Getter/Setter]","special"):v.stylize("[Getter]","special"):q.set&&(V=v.stylize("[Setter]","special")),A(S,T)||(L="["+T+"]"),V||(v.seen.indexOf(q.value)<0?(V=y(_)?d(v,q.value,null):d(v,q.value,_-1)).indexOf(`
`)>-1&&(V=N?V.split(`
`).map(function(Y){return"  "+Y}).join(`
`).substr(2):`
`+V.split(`
`).map(function(Y){return"   "+Y}).join(`
`)):V=v.stylize("[Circular]","special")),M(L)){if(N&&T.match(/^\d+$/))return V;(L=JSON.stringify(""+T)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(L=L.substr(1,L.length-2),L=v.stylize(L,"name")):(L=L.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),L=v.stylize(L,"string"))}return L+": "+V}function m(v){return Array.isArray(v)}function b(v){return typeof v=="boolean"}function y(v){return v===null}function x(v){return typeof v=="number"}function k(v){return typeof v=="string"}function M(v){return v===void 0}function I(v){return B(v)&&$(v)==="[object RegExp]"}function B(v){return typeof v=="object"&&v!==null}function j(v){return B(v)&&$(v)==="[object Date]"}function F(v){return B(v)&&($(v)==="[object Error]"||v instanceof Error)}function z(v){return typeof v=="function"}function $(v){return Object.prototype.toString.call(v)}function H(v){return v<10?"0"+v.toString(10):v.toString(10)}a.debuglog=function(v){if(M(l)&&(l=n.env.NODE_DEBUG||""),v=v.toUpperCase(),!s[v])if(new RegExp("\\b"+v+"\\b","i").test(l)){var w=n.pid;s[v]=function(){var _=a.format.apply(a,arguments);console.error("%s %d: %s",v,w,_)}}else s[v]=function(){};return s[v]},a.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},a.isArray=m,a.isBoolean=b,a.isNull=y,a.isNullOrUndefined=function(v){return v==null},a.isNumber=x,a.isString=k,a.isSymbol=function(v){return typeof v=="symbol"},a.isUndefined=M,a.isRegExp=I,a.isObject=B,a.isDate=j,a.isError=F,a.isFunction=z,a.isPrimitive=function(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"||typeof v=="symbol"||v===void 0},a.isBuffer=t("./support/isBuffer");var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var v=new Date,w=[H(v.getHours()),H(v.getMinutes()),H(v.getSeconds())].join(":");return[v.getDate(),C[v.getMonth()],w].join(" ")}function A(v,w){return Object.prototype.hasOwnProperty.call(v,w)}a.log=function(){console.log("%s - %s",O(),a.format.apply(a,arguments))},a.inherits=t("inherits"),a._extend=function(v,w){if(!w||!B(w))return v;for(var _=Object.keys(w),S=_.length;S--;)v[_[S]]=w[_[S]];return v}}).call(this)}).call(this,t("_process"),typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(a,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(a,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(a,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(a,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(a,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(a,"validate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(a,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(a,"parse",{enumerable:!0,get:function(){return d.default}});var n=p(t("./v1.js")),i=p(t("./v3.js")),o=p(t("./v4.js")),l=p(t("./v5.js")),s=p(t("./nil.js")),c=p(t("./version.js")),f=p(t("./validate.js")),h=p(t("./stringify.js")),d=p(t("./parse.js"));function p(g){return g&&g.__esModule?g:{default:g}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,r,a){function n(d){return 14+(d+64>>>9<<4)+1}function i(d,p){const g=(65535&d)+(65535&p);return(d>>16)+(p>>16)+(g>>16)<<16|65535&g}function o(d,p,g,m,b,y){return i((x=i(i(p,d),i(m,y)))<<(k=b)|x>>>32-k,g);var x,k}function l(d,p,g,m,b,y,x){return o(p&g|~p&m,d,p,b,y,x)}function s(d,p,g,m,b,y,x){return o(p&m|g&~m,d,p,b,y,x)}function c(d,p,g,m,b,y,x){return o(p^g^m,d,p,b,y,x)}function f(d,p,g,m,b,y,x){return o(g^(p|~m),d,p,b,y,x)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var h=function(d){if(typeof d=="string"){const p=unescape(encodeURIComponent(d));d=new Uint8Array(p.length);for(let g=0;g<p.length;++g)d[g]=p.charCodeAt(g)}return function(p){const g=[],m=32*p.length;for(let b=0;b<m;b+=8){const y=p[b>>5]>>>b%32&255,x=parseInt("0123456789abcdef".charAt(y>>>4&15)+"0123456789abcdef".charAt(15&y),16);g.push(x)}return g}(function(p,g){p[g>>5]|=128<<g%32,p[n(g)-1]=g;let m=1732584193,b=-271733879,y=-1732584194,x=271733878;for(let k=0;k<p.length;k+=16){const M=m,I=b,B=y,j=x;m=l(m,b,y,x,p[k],7,-680876936),x=l(x,m,b,y,p[k+1],12,-389564586),y=l(y,x,m,b,p[k+2],17,606105819),b=l(b,y,x,m,p[k+3],22,-1044525330),m=l(m,b,y,x,p[k+4],7,-176418897),x=l(x,m,b,y,p[k+5],12,1200080426),y=l(y,x,m,b,p[k+6],17,-1473231341),b=l(b,y,x,m,p[k+7],22,-45705983),m=l(m,b,y,x,p[k+8],7,1770035416),x=l(x,m,b,y,p[k+9],12,-1958414417),y=l(y,x,m,b,p[k+10],17,-42063),b=l(b,y,x,m,p[k+11],22,-1990404162),m=l(m,b,y,x,p[k+12],7,1804603682),x=l(x,m,b,y,p[k+13],12,-40341101),y=l(y,x,m,b,p[k+14],17,-1502002290),b=l(b,y,x,m,p[k+15],22,1236535329),m=s(m,b,y,x,p[k+1],5,-165796510),x=s(x,m,b,y,p[k+6],9,-1069501632),y=s(y,x,m,b,p[k+11],14,643717713),b=s(b,y,x,m,p[k],20,-373897302),m=s(m,b,y,x,p[k+5],5,-701558691),x=s(x,m,b,y,p[k+10],9,38016083),y=s(y,x,m,b,p[k+15],14,-660478335),b=s(b,y,x,m,p[k+4],20,-405537848),m=s(m,b,y,x,p[k+9],5,568446438),x=s(x,m,b,y,p[k+14],9,-1019803690),y=s(y,x,m,b,p[k+3],14,-187363961),b=s(b,y,x,m,p[k+8],20,1163531501),m=s(m,b,y,x,p[k+13],5,-1444681467),x=s(x,m,b,y,p[k+2],9,-51403784),y=s(y,x,m,b,p[k+7],14,1735328473),b=s(b,y,x,m,p[k+12],20,-1926607734),m=c(m,b,y,x,p[k+5],4,-378558),x=c(x,m,b,y,p[k+8],11,-2022574463),y=c(y,x,m,b,p[k+11],16,1839030562),b=c(b,y,x,m,p[k+14],23,-35309556),m=c(m,b,y,x,p[k+1],4,-1530992060),x=c(x,m,b,y,p[k+4],11,1272893353),y=c(y,x,m,b,p[k+7],16,-155497632),b=c(b,y,x,m,p[k+10],23,-1094730640),m=c(m,b,y,x,p[k+13],4,681279174),x=c(x,m,b,y,p[k],11,-358537222),y=c(y,x,m,b,p[k+3],16,-722521979),b=c(b,y,x,m,p[k+6],23,76029189),m=c(m,b,y,x,p[k+9],4,-640364487),x=c(x,m,b,y,p[k+12],11,-421815835),y=c(y,x,m,b,p[k+15],16,530742520),b=c(b,y,x,m,p[k+2],23,-995338651),m=f(m,b,y,x,p[k],6,-198630844),x=f(x,m,b,y,p[k+7],10,1126891415),y=f(y,x,m,b,p[k+14],15,-1416354905),b=f(b,y,x,m,p[k+5],21,-57434055),m=f(m,b,y,x,p[k+12],6,1700485571),x=f(x,m,b,y,p[k+3],10,-1894986606),y=f(y,x,m,b,p[k+10],15,-1051523),b=f(b,y,x,m,p[k+1],21,-2054922799),m=f(m,b,y,x,p[k+8],6,1873313359),x=f(x,m,b,y,p[k+15],10,-30611744),y=f(y,x,m,b,p[k+6],15,-1560198380),b=f(b,y,x,m,p[k+13],21,1309151649),m=f(m,b,y,x,p[k+4],6,-145523070),x=f(x,m,b,y,p[k+11],10,-1120210379),y=f(y,x,m,b,p[k+2],15,718787259),b=f(b,y,x,m,p[k+9],21,-343485551),m=i(m,M),b=i(b,I),y=i(y,B),x=i(x,j)}return[m,b,y,x]}(function(p){if(p.length===0)return[];const g=8*p.length,m=new Uint32Array(n(g));for(let b=0;b<g;b+=8)m[b>>5]|=(255&p[b/8])<<b%32;return m}(d),8*d.length))};a.default=h},{}],530:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,a.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,i=(n=t("./validate.js"))&&n.__esModule?n:{default:n},o=function(l){if(!(0,i.default)(l))throw TypeError("Invalid UUID");let s;const c=new Uint8Array(16);return c[0]=(s=parseInt(l.slice(0,8),16))>>>24,c[1]=s>>>16&255,c[2]=s>>>8&255,c[3]=255&s,c[4]=(s=parseInt(l.slice(9,13),16))>>>8,c[5]=255&s,c[6]=(s=parseInt(l.slice(14,18),16))>>>8,c[7]=255&s,c[8]=(s=parseInt(l.slice(19,23),16))>>>8,c[9]=255&s,c[10]=(s=parseInt(l.slice(24,36),16))/1099511627776&255,c[11]=s/4294967296&255,c[12]=s>>>24&255,c[13]=s>>>16&255,c[14]=s>>>8&255,c[15]=255&s,c};a.default=o},{"./validate.js":541}],532:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,a.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,r,a){let n;Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){if(!n&&(n=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};const i=new Uint8Array(16)},{}],534:[function(t,r,a){function n(l,s,c,f){switch(l){case 0:return s&c^~s&f;case 1:return s^c^f;case 2:return s&c^s&f^c&f;case 3:return s^c^f}}function i(l,s){return l<<s|l>>>32-s}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=function(l){const s=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const p=unescape(encodeURIComponent(l));l=[];for(let g=0;g<p.length;++g)l.push(p.charCodeAt(g))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const f=l.length/4+2,h=Math.ceil(f/16),d=new Array(h);for(let p=0;p<h;++p){const g=new Uint32Array(16);for(let m=0;m<16;++m)g[m]=l[64*p+4*m]<<24|l[64*p+4*m+1]<<16|l[64*p+4*m+2]<<8|l[64*p+4*m+3];d[p]=g}d[h-1][14]=8*(l.length-1)/Math.pow(2,32),d[h-1][14]=Math.floor(d[h-1][14]),d[h-1][15]=8*(l.length-1)&4294967295;for(let p=0;p<h;++p){const g=new Uint32Array(80);for(let M=0;M<16;++M)g[M]=d[p][M];for(let M=16;M<80;++M)g[M]=i(g[M-3]^g[M-8]^g[M-14]^g[M-16],1);let m=c[0],b=c[1],y=c[2],x=c[3],k=c[4];for(let M=0;M<80;++M){const I=Math.floor(M/20),B=i(m,5)+n(I,b,y,x)+k+s[I]+g[M]>>>0;k=x,x=y,y=i(b,30)>>>0,b=m,m=B}c[0]=c[0]+m>>>0,c[1]=c[1]+b>>>0,c[2]=c[2]+y>>>0,c[3]=c[3]+x>>>0,c[4]=c[4]+k>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]};a.default=o},{}],535:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,i=(n=t("./validate.js"))&&n.__esModule?n:{default:n};const o=[];for(let s=0;s<256;++s)o.push((s+256).toString(16).substr(1));var l=function(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const f=(o[s[c+0]]+o[s[c+1]]+o[s[c+2]]+o[s[c+3]]+"-"+o[s[c+4]]+o[s[c+5]]+"-"+o[s[c+6]]+o[s[c+7]]+"-"+o[s[c+8]]+o[s[c+9]]+"-"+o[s[c+10]]+o[s[c+11]]+o[s[c+12]]+o[s[c+13]]+o[s[c+14]]+o[s[c+15]]).toLowerCase();if(!(0,i.default)(f))throw TypeError("Stringified UUID is invalid");return f};a.default=l},{"./validate.js":541}],536:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=o(t("./rng.js")),i=o(t("./stringify.js"));function o(d){return d&&d.__esModule?d:{default:d}}let l,s,c=0,f=0;var h=function(d,p,g){let m=p&&g||0;const b=p||new Array(16);let y=(d=d||{}).node||l,x=d.clockseq!==void 0?d.clockseq:s;if(y==null||x==null){const F=d.random||(d.rng||n.default)();y==null&&(y=l=[1|F[0],F[1],F[2],F[3],F[4],F[5]]),x==null&&(x=s=16383&(F[6]<<8|F[7]))}let k=d.msecs!==void 0?d.msecs:Date.now(),M=d.nsecs!==void 0?d.nsecs:f+1;const I=k-c+(M-f)/1e4;if(I<0&&d.clockseq===void 0&&(x=x+1&16383),(I<0||k>c)&&d.nsecs===void 0&&(M=0),M>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=k,f=M,s=x,k+=122192928e5;const B=(1e4*(268435455&k)+M)%4294967296;b[m++]=B>>>24&255,b[m++]=B>>>16&255,b[m++]=B>>>8&255,b[m++]=255&B;const j=k/4294967296*1e4&268435455;b[m++]=j>>>8&255,b[m++]=255&j,b[m++]=j>>>24&15|16,b[m++]=j>>>16&255,b[m++]=x>>>8|128,b[m++]=255&x;for(let F=0;F<6;++F)b[m+F]=y[F];return p||(0,i.default)(b)};a.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=o(t("./v35.js")),i=o(t("./md5.js"));function o(s){return s&&s.__esModule?s:{default:s}}var l=(0,n.default)("v3",48,i.default);a.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c,f,h){function d(p,g,m,b){if(typeof p=="string"&&(p=function(x){x=unescape(encodeURIComponent(x));const k=[];for(let M=0;M<x.length;++M)k.push(x.charCodeAt(M));return k}(p)),typeof g=="string"&&(g=(0,i.default)(g)),g.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let y=new Uint8Array(16+p.length);if(y.set(g),y.set(p,g.length),y=h(y),y[6]=15&y[6]|f,y[8]=63&y[8]|128,m){b=b||0;for(let x=0;x<16;++x)m[b+x]=y[x];return m}return(0,n.default)(y)}try{d.name=c}catch{}return d.DNS=l,d.URL=s,d},a.URL=a.DNS=void 0;var n=o(t("./stringify.js")),i=o(t("./parse.js"));function o(c){return c&&c.__esModule?c:{default:c}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";a.DNS=l;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";a.URL=s},{"./parse.js":531,"./stringify.js":535}],539:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=o(t("./rng.js")),i=o(t("./stringify.js"));function o(s){return s&&s.__esModule?s:{default:s}}var l=function(s,c,f){const h=(s=s||{}).random||(s.rng||n.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,c){f=f||0;for(let d=0;d<16;++d)c[f+d]=h[d];return c}return(0,i.default)(h)};a.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=o(t("./v35.js")),i=o(t("./sha1.js"));function o(s){return s&&s.__esModule?s:{default:s}}var l=(0,n.default)("v5",80,i.default);a.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,i=(n=t("./regex.js"))&&n.__esModule?n:{default:n},o=function(l){return typeof l=="string"&&i.default.test(l)};a.default=o},{"./regex.js":532}],542:[function(t,r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,i=(n=t("./validate.js"))&&n.__esModule?n:{default:n},o=function(l){if(!(0,i.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};a.default=o},{"./validate.js":541}],543:[function(t,r,a){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(a,"__esModule",{value:!0}),a.CHAR=`	
\r ---`,a.S=` 	\r
`,a.NAME_START_CHAR=":A-Z_a-z-----------",a.NAME_CHAR="-"+a.NAME_START_CHAR+".0-9--",a.CHAR_RE=new RegExp("^["+a.CHAR+"]$","u"),a.S_RE=new RegExp("^["+a.S+"]+$","u"),a.NAME_START_CHAR_RE=new RegExp("^["+a.NAME_START_CHAR+"]$","u"),a.NAME_CHAR_RE=new RegExp("^["+a.NAME_CHAR+"]$","u"),a.NAME_RE=new RegExp("^["+a.NAME_START_CHAR+"]["+a.NAME_CHAR+"]*$","u"),a.NMTOKEN_RE=new RegExp("^["+a.NAME_CHAR+"]+$","u");function n(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}a.S_LIST=[32,10,13,9],a.isChar=function(i){return i>=32&&i<=55295||i===10||i===13||i===9||i>=57344&&i<=65533||i>=65536&&i<=1114111},a.isS=function(i){return i===32||i===10||i===13||i===9},a.isNameStartChar=n,a.isNameChar=function(i){return n(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],544:[function(t,r,a){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(a,"__esModule",{value:!0}),a.CHAR="---",a.RESTRICTED_CHAR="-\b\v\f---",a.S=` 	\r
`,a.NAME_START_CHAR=":A-Z_a-z-----------",a.NAME_CHAR="-"+a.NAME_START_CHAR+".0-9--",a.CHAR_RE=new RegExp("^["+a.CHAR+"]$","u"),a.RESTRICTED_CHAR_RE=new RegExp("^["+a.RESTRICTED_CHAR+"]$","u"),a.S_RE=new RegExp("^["+a.S+"]+$","u"),a.NAME_START_CHAR_RE=new RegExp("^["+a.NAME_START_CHAR+"]$","u"),a.NAME_CHAR_RE=new RegExp("^["+a.NAME_CHAR+"]$","u"),a.NAME_RE=new RegExp("^["+a.NAME_START_CHAR+"]["+a.NAME_CHAR+"]*$","u"),a.NMTOKEN_RE=new RegExp("^["+a.NAME_CHAR+"]+$","u");function n(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}a.S_LIST=[32,10,13,9],a.isChar=function(i){return i>=1&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},a.isRestrictedChar=function(i){return i>=1&&i<=8||i===11||i===12||i>=14&&i<=31||i>=127&&i<=132||i>=134&&i<=159},a.isCharAndNotRestricted=function(i){return i===9||i===10||i===13||i>31&&i<127||i===133||i>159&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},a.isS=function(i){return i===32||i===10||i===13||i===9},a.isNameStartChar=n,a.isNameChar=function(i){return n(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],545:[function(t,r,a){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function n(i){return i>=65&&i<=90||i===95||i>=97&&i<=122||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8204&&i<=8205||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}Object.defineProperty(a,"__esModule",{value:!0}),a.NC_NAME_START_CHAR="A-Z_a-z------------",a.NC_NAME_CHAR="-"+a.NC_NAME_START_CHAR+".0-9--",a.NC_NAME_START_CHAR_RE=new RegExp("^["+a.NC_NAME_START_CHAR+"]$","u"),a.NC_NAME_CHAR_RE=new RegExp("^["+a.NC_NAME_CHAR+"]$","u"),a.NC_NAME_RE=new RegExp("^["+a.NC_NAME_START_CHAR+"]["+a.NC_NAME_CHAR+"]*$","u"),a.isNCNameStartChar=n,a.isNCNameChar=function(i){return n(i)||i===45||i===46||i>=48&&i<=57||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}]},{},[15])(15)})})(p2);var w8=p2.exports;const _8=v8(w8),x8=async u=>{const e=new _8.Workbook,t=e.addWorksheet("Sheet1");t.columns=[{header:"ID",key:"id",width:10},{header:"Aantal",key:"amount",width:10},{header:"Adres",key:"address",width:50},{header:"Plaats",key:"place",width:15},{header:"Zaak",key:"sender",width:15},{header:"Datum",key:"date",width:15}];const r=Object.values(u).map(s=>({id:s.id,amount:s.amount,address:`${s.street} ${s.numberWithAddition}`,place:s.place,sender:s.sender,date:s.date}));t.addRows(r);const a=await e.xlsx.writeBuffer(),i=new Date().toISOString().replace(/T/,"_").replace(/\..+/,"").replace(/:/g,"-"),o=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=document.createElement("a");l.href=URL.createObjectURL(o),l.download=`export_lijst_${i}.xlsx`,document.body.appendChild(l),l.click(),document.body.removeChild(l)},S8={class:"min-h-screen bg-white relative"},A8=fe("span",{class:"text-gray-400 hover:text-gray-600"},[fe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[fe("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 0 1 1.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.559.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 0 1-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.398.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 0 1-.12-1.45l.527-.737c.25-.35.272-.806.108-1.204-.165-.397-.506-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.108-1.204l-.526-.738a1.125 1.125 0 0 1 .12-1.45l.773-.773a1.125 1.125 0 0 1 1.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894Z"}),fe("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])],-1),k8=[A8],E8={key:0},C8={key:1},T8={role:"status",class:"flex items-center justify-center min-h-screen"},M8={class:"flex-col items-center justify-center"},R8=fe("svg",{"aria-hidden":"true",class:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-black w-full",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[fe("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),fe("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1),O8={class:"text-center w-full text-gray-500 mt-2"},P8={key:2,class:"flex flex-col h-screen p-4 pt-16"},I8={class:"overflow-auto w-full flex-1"},N8={class:"table-auto w-full text-left border-collapse"},L8=fe("thead",{class:"bg-gray-200"},[fe("tr",null,[fe("th",{class:"px-4 py-2 border-b"},"ID"),fe("th",{class:"px-4 py-2 border-b"},"Aantal"),fe("th",{class:"px-4 py-2 border-b"},"Adres"),fe("th",{class:"px-4 py-2 border-b"},"Plaats"),fe("th",{class:"px-4 py-2 border-b"},"Zaak"),fe("th",{class:"px-4 py-2 border-b"},"Datum")])],-1),D8={class:"px-4 py-2 border-b"},j8={class:"px-4 py-2 border-b"},F8={class:"px-4 py-2 border-b"},B8={class:"px-4 py-2 border-b"},z8={class:"px-4 py-2 border-b"},H8={class:"px-4 py-2 border-b"},U8={class:"mt-8 flex flex-row"},$8={class:"bg-white p-8 rounded-lg shadow-lg relative w-96"},V8=fe("h2",{class:"text-xl font-bold mb-4 text-black"},"Code voor ChatGPT",-1),W8={__name:"App",setup(u){const e=Na([]),t=Na(!1),r=Na({}),a=Na(!1),n=Na([]),i=()=>{window.location.reload()},o=()=>{const c=Object.keys(r.value);return c.length===0?0:Math.max(...c.map(Number))},l=async c=>{a.value=!0,e.value.push("Bestand uploaden...");const f=c.type;let h=[];if(f==="application/pdf"){console.log("PDF ontvangen...");try{h=await b8(c)}catch(p){console.error("Error converting PDF to images:",p);return}}else if(f.startsWith("image/"))console.log("Fotobestand ontvangen..."),h=[c];else{console.log("Bestandstype niet ondersteund.");return}for(const[p,g]of h.entries()){const m=await ux(g),b=await y8(m);n.value=b,e.value.push("Stuur opgeknipte tabel naar ChatGPT...");for(const[y,x]of b.entries())try{console.log("try",y);var d=o()+1;console.log(d);const k=await dx(x,d),M=JSON.parse(k);console.log(M),M.rows.forEach((B,j)=>{Object.keys(B).length==7?r.value[B.id]=B:r.value[B.id]={id:B.id,amount:"",street:"",numberWithAddition:"",place:"",sender:"",date:""}});const I=o();for(let B=I+1;B<=M.endIndex;B++)r.value[B]={id:B,amount:"",street:"",numberWithAddition:"",place:"",sender:"",date:""}}catch(k){console.error(k);break}}},s=c=>{localStorage.setItem("openaiApiKey",c),t.value=!1};return(c,f)=>(mi(),qi("div",S8,[fe("div",{class:"absolute top-4 right-4 cursor-pointer",onClick:f[0]||(f[0]=h=>t.value=!0)},k8),a.value?a.value&&Object.keys(r.value).length==0?(mi(),qi("div",C8,[fe("div",T8,[fe("div",M8,[R8,fe("p",O8,Ds(e.value.at(-1)),1)])])])):(mi(),qi("div",P8,[fe("div",I8,[fe("table",N8,[L8,fe("tbody",null,[(mi(!0),qi(Pi,null,Ew(r.value,h=>(mi(),qi("tr",{key:h.id,class:"odd:bg-white even:bg-gray-50"},[fe("td",D8,Ds(h.id),1),fe("td",j8,Ds(h.amount),1),fe("td",F8,Ds(h.street+" "+h.numberWithAddition),1),fe("td",B8,Ds(h.place),1),fe("td",z8,Ds(h.sender),1),fe("td",H8,Ds(h.date),1)]))),128))])])]),fe("div",U8,[fe("button",{onClick:f[1]||(f[1]=h=>i()),class:"bg-gray-200 hover:bg-gray-300 text-black font-bold py-2 px-4 rounded mr-4"},"Opnieuw"),fe("button",{onClick:f[2]||(f[2]=h=>ib(x8)(r.value)),class:"bg-black hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},"Download")])])):(mi(),qi("div",E8,[li(X_,{onFileUploaded:l})])),t.value?(mi(),qi("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",onClick:f[4]||(f[4]=z_(h=>t.value=!1,["self"]))},[fe("div",$8,[fe("button",{onClick:f[3]||(f[3]=h=>t.value=!1),class:"absolute top-2 right-2 text-black text-xl"},""),V8,li(K_,{onSaveApiKey:s})])])):i_("",!0)]))}};$_(W8).mount("#app");
